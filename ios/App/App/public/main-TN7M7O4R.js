import{a as te,b as We,c as Kc,d as D,e as Cm,f as nr,g as ma,h as Kx}from"./chunk-QWAQR2JZ.js";function Zx(e,t){return Object.is(e,t)}var wn=null,bm=!1,s0=1,ti=Symbol("SIGNAL");function lt(e){let t=wn;return wn=e,t}function Jx(){return wn}var Ep={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Nm(e){if(bm)throw new Error("");if(wn===null)return;wn.consumerOnSignalRead(e);let t=wn.nextProducerIndex++;if(Rm(wn),t<wn.producerNode.length&&wn.producerNode[t]!==e&&yp(wn)){let n=wn.producerNode[t];xm(n,wn.producerIndexOfThis[t])}wn.producerNode[t]!==e&&(wn.producerNode[t]=e,wn.producerIndexOfThis[t]=yp(wn)?nR(e,wn,t):0),wn.producerLastReadVersion[t]=e.version}function Kj(){s0++}function Qx(e){if(!(yp(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===s0)){if(!e.producerMustRecompute(e)&&!c0(e)){Xx(e);return}e.producerRecomputeValue(e),Xx(e)}}function eR(e){if(e.liveConsumerNode===void 0)return;let t=bm;bm=!0;try{for(let n of e.liveConsumerNode)n.dirty||Xj(n)}finally{bm=t}}function tR(){return wn?.consumerAllowSignalWrites!==!1}function Xj(e){e.dirty=!0,eR(e),e.consumerMarkedDirty?.(e)}function Xx(e){e.dirty=!1,e.lastCleanEpoch=s0}function Am(e){return e&&(e.nextProducerIndex=0),lt(e)}function a0(e,t){if(lt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(yp(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)xm(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function c0(e){Rm(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Qx(n),r!==n.version))return!0}return!1}function u0(e){if(Rm(e),yp(e))for(let t=0;t<e.producerNode.length;t++)xm(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function nR(e,t,n){if(rR(e),e.liveConsumerNode.length===0&&iR(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=nR(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function xm(e,t){if(rR(e),e.liveConsumerNode.length===1&&iR(e))for(let r=0;r<e.producerNode.length;r++)xm(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Rm(i),i.producerIndexOfThis[r]=t}}function yp(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Rm(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function rR(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function iR(e){return e.producerNode!==void 0}function oR(e){let t=Object.create(Zj);t.computation=e;let n=()=>{if(Qx(t),Nm(t),t.value===wm)throw t.error;return t.value};return n[ti]=t,n}var i0=Symbol("UNSET"),o0=Symbol("COMPUTING"),wm=Symbol("ERRORED"),Zj=We(te({},Ep),{value:i0,dirty:!0,error:null,equal:Zx,kind:"computed",producerMustRecompute(e){return e.value===i0||e.value===o0},producerRecomputeValue(e){if(e.value===o0)throw new Error("Detected cycle in computations.");let t=e.value;e.value=o0;let n=Am(e),r,i=!1;try{r=e.computation(),lt(null),i=t!==i0&&t!==wm&&r!==wm&&e.equal(t,r)}catch(o){r=wm,e.error=o}finally{a0(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Jj(){throw new Error}var sR=Jj;function aR(){sR()}function cR(e){sR=e}var Qj=null;function uR(e){let t=Object.create(l0);t.value=e;let n=()=>(Nm(t),t.value);return n[ti]=t,n}function Mm(e,t){tR()||aR(),e.equal(e.value,t)||(e.value=t,eB(e))}function lR(e,t){tR()||aR(),Mm(e,t(e.value))}var l0=We(te({},Ep),{equal:Zx,value:void 0,kind:"signal"});function eB(e){e.version++,Kj(),eR(e),Qj?.()}function Ye(e){return typeof e=="function"}function kl(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pm=kl(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xc(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var bt=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ye(r))try{r()}catch(o){t=o instanceof Pm?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{dR(o)}catch(s){t=t??[],s instanceof Pm?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Pm(t)}}add(t){var n;if(t&&t!==this)if(this.closed)dR(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Xc(n,t)}remove(t){let{_finalizers:n}=this;n&&Xc(n,t),t instanceof e&&t._removeParent(this)}};bt.EMPTY=(()=>{let e=new bt;return e.closed=!0,e})();var d0=bt.EMPTY;function Om(e){return e instanceof bt||e&&"closed"in e&&Ye(e.remove)&&Ye(e.add)&&Ye(e.unsubscribe)}function dR(e){Ye(e)?e():e.unsubscribe()}var Xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fl={setTimeout(e,t,...n){let{delegate:r}=Fl;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Fl;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function km(e){Fl.setTimeout(()=>{let{onUnhandledError:t}=Xi;if(t)t(e);else throw e})}function Dp(){}var fR=f0("C",void 0,void 0);function pR(e){return f0("E",void 0,e)}function hR(e){return f0("N",e,void 0)}function f0(e,t,n){return{kind:e,value:t,error:n}}var Zc=null;function Ll(e){if(Xi.useDeprecatedSynchronousErrorHandling){let t=!Zc;if(t&&(Zc={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Zc;if(Zc=null,n)throw r}}else e()}function gR(e){Xi.useDeprecatedSynchronousErrorHandling&&Zc&&(Zc.errorThrown=!0,Zc.error=e)}var Jc=class extends bt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Om(t)&&t.add(this)):this.destination=rB}static create(t,n,r){return new va(t,n,r)}next(t){this.isStopped?h0(hR(t),this):this._next(t)}error(t){this.isStopped?h0(pR(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?h0(fR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tB=Function.prototype.bind;function p0(e,t){return tB.call(e,t)}var g0=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Fm(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Fm(r)}else Fm(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Fm(n)}}},va=class extends Jc{constructor(t,n,r){super();let i;if(Ye(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&p0(t.next,o),error:t.error&&p0(t.error,o),complete:t.complete&&p0(t.complete,o)}):i=t}this.destination=new g0(i)}};function Fm(e){Xi.useDeprecatedSynchronousErrorHandling?gR(e):km(e)}function nB(e){throw e}function h0(e,t){let{onStoppedNotification:n}=Xi;n&&Fl.setTimeout(()=>n(e,t))}var rB={closed:!0,next:Dp,error:nB,complete:Dp};var Ul=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vr(e){return e}function m0(...e){return v0(e)}function v0(e){return e.length===0?vr:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var dt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=oB(n)?n:new va(n,r,i);return Ll(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=mR(r),new r((i,o)=>{let s=new va({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ul](){return this}pipe(...n){return v0(n)(this)}toPromise(n){return n=mR(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function mR(e){var t;return(t=e??Xi.Promise)!==null&&t!==void 0?t:Promise}function iB(e){return e&&Ye(e.next)&&Ye(e.error)&&Ye(e.complete)}function oB(e){return e&&e instanceof Jc||iB(e)&&Om(e)}function _0(e){return Ye(e?.lift)}function ot(e){return t=>{if(_0(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(e,t,n,r,i){return new y0(e,t,n,r,i)}var y0=class extends Jc{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Vl(){return ot((e,t)=>{let n=null;e._refCount++;let r=et(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var jl=class extends dt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_0(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bt;let n=this.getSubject();t.add(this.source.subscribe(et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bt.EMPTY)}return t}refCount(){return Vl()(this)}};var vR=kl(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Nn=(()=>{class e extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Lm(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vR}next(n){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?d0:(this.currentObservers=null,o.push(n),new bt(()=>{this.currentObservers=null,Xc(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new dt;return n.source=this,n}}return e.create=(t,n)=>new Lm(t,n),e})(),Lm=class extends Nn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:d0}};var wt=class extends Nn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var E0={now(){return(E0.delegate||Date).now()},delegate:void 0};var Um=class extends bt{constructor(t,n){super()}schedule(t,n=0){return this}};var Ip={setInterval(e,t,...n){let{delegate:r}=Ip;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Ip;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Bl=class extends Um{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Ip.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ip.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xc(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Hl=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Hl.now=E0.now;var Yl=class extends Hl{constructor(t,n=Hl.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Sp=new Yl(Bl);var Vm=class extends Bl{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var jm=class extends Yl{};var D0=new jm(Vm);var rr=new dt(e=>e.complete());function _R(e){return e&&Ye(e.schedule)}function yR(e){return e[e.length-1]}function Bm(e){return Ye(yR(e))?e.pop():void 0}function _a(e){return _R(yR(e))?e.pop():void 0}function I0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function DR(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function ER(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qc(e){return this instanceof Qc?(this.v=e,this):new Qc(e)}function IR(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(h){return Promise.resolve(h).then(f,d)}}function a(f,h){r[f]&&(i[f]=function(g){return new Promise(function(m,_){o.push([f,g,m,_])>1||c(f,g)})},h&&(i[f]=h(i[f])))}function c(f,h){try{u(r[f](h))}catch(g){p(o[0][3],g)}}function u(f){f.value instanceof Qc?Promise.resolve(f.value.v).then(l,d):p(o[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function p(f,h){f(h),o.shift(),o.length&&c(o[0][0],o[0][1])}}function SR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ER=="function"?ER(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Hm=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ym(e){return Ye(e?.then)}function $m(e){return Ye(e[Ul])}function Gm(e){return Symbol.asyncIterator&&Ye(e?.[Symbol.asyncIterator])}function zm(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sB(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wm=sB();function qm(e){return Ye(e?.[Wm])}function Km(e){return IR(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Qc(n.read());if(i)return yield Qc(void 0);yield yield Qc(r)}}finally{n.releaseLock()}})}function Xm(e){return Ye(e?.getReader)}function fn(e){if(e instanceof dt)return e;if(e!=null){if($m(e))return aB(e);if(Hm(e))return cB(e);if(Ym(e))return uB(e);if(Gm(e))return TR(e);if(qm(e))return lB(e);if(Xm(e))return dB(e)}throw zm(e)}function aB(e){return new dt(t=>{let n=e[Ul]();if(Ye(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cB(e){return new dt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function uB(e){return new dt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,km)})}function lB(e){return new dt(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function TR(e){return new dt(t=>{fB(e,t).catch(n=>t.error(n))})}function dB(e){return TR(Km(e))}function fB(e,t){var n,r,i,o;return DR(this,void 0,void 0,function*(){try{for(n=SR(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function kr(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Zm(e,t=0){return ot((n,r)=>{n.subscribe(et(r,i=>kr(r,e,()=>r.next(i),t),()=>kr(r,e,()=>r.complete(),t),i=>kr(r,e,()=>r.error(i),t)))})}function Jm(e,t=0){return ot((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function CR(e,t){return fn(e).pipe(Jm(t),Zm(t))}function bR(e,t){return fn(e).pipe(Jm(t),Zm(t))}function wR(e,t){return new dt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function NR(e,t){return new dt(n=>{let r;return kr(n,t,()=>{r=e[Wm](),kr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Ye(r?.return)&&r.return()})}function Qm(e,t){if(!e)throw new Error("Iterable cannot be null");return new dt(n=>{kr(n,t,()=>{let r=e[Symbol.asyncIterator]();kr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function AR(e,t){return Qm(Km(e),t)}function xR(e,t){if(e!=null){if($m(e))return CR(e,t);if(Hm(e))return wR(e,t);if(Ym(e))return bR(e,t);if(Gm(e))return Qm(e,t);if(qm(e))return NR(e,t);if(Xm(e))return AR(e,t)}throw zm(e)}function Ht(e,t){return t?xR(e,t):fn(e)}function Ae(...e){let t=_a(e);return Ht(e,t)}function wo(e,t){let n=Ye(e)?e:()=>e,r=i=>i.error(n());return new dt(t?i=>t.schedule(r,0,i):r)}function S0(e){return!!e&&(e instanceof dt||Ye(e.lift)&&Ye(e.subscribe))}var Zi=kl(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ev(e,t){let n=typeof t=="object";return new Promise((r,i)=>{let o=new va({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new Zi)}});e.subscribe(o)})}function $e(e,t){return ot((n,r)=>{let i=0;n.subscribe(et(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:pB}=Array;function hB(e,t){return pB(t)?e(...t):e(t)}function tv(e){return $e(t=>hB(e,t))}var{isArray:gB}=Array,{getPrototypeOf:mB,prototype:vB,keys:_B}=Object;function nv(e){if(e.length===1){let t=e[0];if(gB(t))return{args:t,keys:null};if(yB(t)){let n=_B(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function yB(e){return e&&typeof e=="object"&&mB(e)===vB}function rv(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Tp(...e){let t=_a(e),n=Bm(e),{args:r,keys:i}=nv(e);if(r.length===0)return Ht([],t);let o=new dt(EB(r,t,i?s=>rv(i,s):vr));return n?o.pipe(tv(n)):o}function EB(e,t,n=vr){return r=>{RR(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)RR(t,()=>{let u=Ht(e[c],t),l=!1;u.subscribe(et(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function RR(e,t,n){e?kr(n,e,t):t()}function MR(e,t,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,p=()=>{d&&!c.length&&!u&&t.complete()},f=g=>u<r?h(g):c.push(g),h=g=>{o&&t.next(g),u++;let m=!1;fn(n(g,l++)).subscribe(et(t,_=>{i?.(_),o?f(_):t.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let _=c.shift();s?kr(t,s,()=>h(_)):h(_)}p()}catch(_){t.error(_)}}))};return e.subscribe(et(t,f,()=>{d=!0,p()})),()=>{a?.()}}function pn(e,t,n=1/0){return Ye(t)?pn((r,i)=>$e((o,s)=>t(r,o,i,s))(fn(e(r,i))),n):(typeof t=="number"&&(n=t),ot((r,i)=>MR(r,i,e,n)))}function $l(e=1/0){return pn(vr,e)}function PR(){return $l(1)}function Gl(...e){return PR()(Ht(e,_a(e)))}function iv(e){return new dt(t=>{fn(e()).subscribe(t)})}function T0(...e){let t=Bm(e),{args:n,keys:r}=nv(e),i=new dt(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;fn(n[l]).subscribe(et(o,p=>{d||(d=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?rv(r,a):a),o.complete())}))}});return t?i.pipe(tv(t)):i}function hn(e,t){return ot((n,r)=>{let i=0;n.subscribe(et(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Lt(e){return ot((t,n)=>{let r=null,i=!1,o;r=t.subscribe(et(n,void 0,void 0,s=>{o=fn(e(s,Lt(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function OR(e,t,n,r,i){return(o,s)=>{let a=n,c=t,u=0;o.subscribe(et(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ds(e,t){return Ye(t)?pn(e,t,1):pn(e,1)}function C0(e,t=Sp){return ot((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+e,l=t.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(et(r,u=>{o=u,s=t.now(),i||(i=t.schedule(c,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ya(e){return ot((t,n)=>{let r=!1;t.subscribe(et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function _r(e){return e<=0?()=>rr:ot((t,n)=>{let r=0;t.subscribe(et(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function b0(e,t=vr){return e=e??DB,ot((n,r)=>{let i,o=!0;n.subscribe(et(r,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function DB(e,t){return e===t}function ov(e=IB){return ot((t,n)=>{let r=!1;t.subscribe(et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function IB(){return new Zi}function Fr(e){return ot((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function fs(e,t){let n=arguments.length>=2;return r=>r.pipe(e?hn((i,o)=>e(i,o,r)):vr,_r(1),n?ya(t):ov(()=>new Zi))}function zl(e){return e<=0?()=>rr:ot((t,n)=>{let r=[];t.subscribe(et(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function w0(e,t){let n=arguments.length>=2;return r=>r.pipe(e?hn((i,o)=>e(i,o,r)):vr,zl(1),n?ya(t):ov(()=>new Zi))}function N0(e,t){return ot(OR(e,t,arguments.length>=2,!0))}function A0(...e){let t=_a(e);return ot((n,r)=>{(t?Gl(e,n,t):Gl(e,n)).subscribe(r)})}function $n(e,t){return ot((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(et(r,c=>{i?.unsubscribe();let u=0,l=o++;fn(e(c,l)).subscribe(i=et(r,d=>r.next(t?t(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function x0(e){return ot((t,n)=>{fn(e).subscribe(et(n,()=>n.complete(),Dp)),!n.closed&&t.subscribe(n)})}function St(e,t,n){let r=Ye(e)||t||n?{next:e,error:t,complete:n}:e;return r?ot((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(et(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):vr}var DM="https://g.co/ng/security#xss",ge=class extends Error{code;constructor(t,n){super(Bv(t,n)),this.code=t}};function Bv(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var IM=Symbol("InputSignalNode#UNSET"),SB=We(te({},l0),{transformFn:void 0,applyValueToInputSignal(e,t){Mm(e,t)}});function SM(e,t){let n=Object.create(SB);n.value=e,n.transformFn=t?.transform;function r(){if(Nm(n),n.value===IM)throw new ge(-950,!1);return n.value}return r[ti]=n,r}function kp(e){return{toString:e}.toString()}var sv="__parameters__";function TB(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function TM(e,t,n){return kp(()=>{let r=TB(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(sv)?c[sv]:Object.defineProperty(c,sv,{value:[]})[sv];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var tu=globalThis;function Mt(e){for(let t in e)if(e[t]===Mt)return t;throw Error("Could not find renamed property on target object.")}function CB(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Er(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Er).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function $0(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var bB=Mt({__forward_ref__:Mt});function fd(e){return e.__forward_ref__=fd,e.toString=function(){return Er(this())},e}function yr(e){return CM(e)?e():e}function CM(e){return typeof e=="function"&&e.hasOwnProperty(bB)&&e.__forward_ref__===fd}function re(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function no(e){return{providers:e.providers||[],imports:e.imports||[]}}function Hv(e){return kR(e,wM)||kR(e,NM)}function bM(e){return Hv(e)!==null}function kR(e,t){return e.hasOwnProperty(t)?e[t]:null}function wB(e){let t=e&&(e[wM]||e[NM]);return t||null}function FR(e){return e&&(e.hasOwnProperty(LR)||e.hasOwnProperty(NB))?e[LR]:null}var wM=Mt({\u0275prov:Mt}),LR=Mt({\u0275inj:Mt}),NM=Mt({ngInjectableDef:Mt}),NB=Mt({ngInjectorDef:Mt}),de=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AM(e){return e&&!!e.\u0275providers}var AB=Mt({\u0275cmp:Mt}),xB=Mt({\u0275dir:Mt}),RB=Mt({\u0275pipe:Mt}),MB=Mt({\u0275mod:Mt}),gv=Mt({\u0275fac:Mt}),Np=Mt({__NG_ELEMENT_ID__:Mt}),UR=Mt({__NG_ENV_ID__:Mt});function Ql(e){return typeof e=="string"?e:e==null?"":String(e)}function PB(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ql(e)}function OB(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ge(-200,e)}function LS(e,t){throw new ge(-201,!1)}var tt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(tt||{}),G0;function xM(){return G0}function Lr(e){let t=G0;return G0=e,t}function RM(e,t,n){let r=Hv(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&tt.Optional)return null;if(t!==void 0)return t;LS(e,"Injector")}var kB={},Ap=kB,z0="__NG_DI_FLAG__",mv="ngTempTokenPath",FB="ngTokenPath",LB=/\n/gm,UB="\u0275",VR="__source",Zl;function VB(){return Zl}function Ea(e){let t=Zl;return Zl=e,t}function jB(e,t=tt.Default){if(Zl===void 0)throw new ge(-203,!1);return Zl===null?RM(e,void 0,t):Zl.get(e,t&tt.Optional?null:void 0,t)}function se(e,t=tt.Default){return(xM()||jB)(yr(e),t)}function W(e,t=tt.Default){return se(e,Yv(t))}function Yv(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function W0(e){let t=[];for(let n=0;n<e.length;n++){let r=yr(e[n]);if(Array.isArray(r)){if(r.length===0)throw new ge(900,!1);let i,o=tt.Default;for(let s=0;s<r.length;s++){let a=r[s],c=BB(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(se(i,o))}else t.push(se(r))}return t}function MM(e,t){return e[z0]=t,e.prototype[z0]=t,e}function BB(e){return e[z0]}function HB(e,t,n,r){let i=e[mv];throw t[VR]&&i.unshift(t[VR]),e.message=YB(`
`+e.message,i,n,r),e[FB]=i,e[mv]=null,e}function YB(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==UB?e.slice(2):e;let i=Er(t);if(Array.isArray(t))i=t.map(Er).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Er(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(LB,`
  `)}`}var Oo=MM(TM("Optional"),8);var PM=MM(TM("SkipSelf"),4);function ru(e,t){let n=e.hasOwnProperty(gv);return n?e[gv]:null}function US(e,t){e.forEach(n=>Array.isArray(n)?US(n,t):t(n))}function OM(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function vv(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function $B(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function VS(e,t,n){let r=Fp(e,t);return r>=0?e[r|1]=n:(r=~r,$B(e,r,t,n)),r}function R0(e,t){let n=Fp(e,t);if(n>=0)return e[n|1]}function Fp(e,t){return GB(e,t,1)}function GB(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var ed={},Ur=[],td=new de(""),kM=new de("",-1),FM=new de(""),_v=class{get(t,n=Ap){if(n===Ap){let r=new Error(`NullInjectorError: No provider for ${Er(t)}!`);throw r.name="NullInjectorError",r}return n}};function LM(e,t){let n=e[MB]||null;if(!n&&t===!0)throw new Error(`Type ${Er(e)} does not have '\u0275mod' property.`);return n}function Sa(e){return e[AB]||null}function UM(e){return e[xB]||null}function VM(e){return e[RB]||null}function jM(e){let t=Sa(e)||UM(e)||VM(e);return t!==null&&t.standalone}function ko(e){return{\u0275providers:e}}function zB(...e){return{\u0275providers:BM(!0,e),\u0275fromNgModule:!0}}function BM(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return US(t,s=>{let a=s;q0(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&HM(i,o),n}function HM(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];jS(i,o=>{t(o,r)})}}function q0(e,t,n,r){if(e=yr(e),!e)return!1;let i=null,o=FR(e),s=!o&&Sa(e);if(!o&&!s){let c=e.ngModule;if(o=FR(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)q0(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{US(o.imports,l=>{q0(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&HM(u,t)}if(!a){let u=ru(i)||(()=>new i);t({provide:i,useFactory:u,deps:Ur},i),t({provide:FM,useValue:i,multi:!0},i),t({provide:td,useValue:()=>se(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;jS(c,l=>{t(l,u)})}}else return!1;return i!==e&&e.providers!==void 0}function jS(e,t){for(let n of e)AM(n)&&(n=n.\u0275providers),Array.isArray(n)?jS(n,t):t(n)}var WB=Mt({provide:String,useValue:Mt});function YM(e){return e!==null&&typeof e=="object"&&WB in e}function qB(e){return!!(e&&e.useExisting)}function KB(e){return!!(e&&e.useFactory)}function nd(e){return typeof e=="function"}function XB(e){return!!e.useClass}var $v=new de(""),lv={},ZB={},M0;function BS(){return M0===void 0&&(M0=new _v),M0}var ir=class{},xp=class extends ir{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,X0(t,s=>this.processProvider(s)),this.records.set(kM,Wl(void 0,this)),i.has("environment")&&this.records.set(ir,Wl(void 0,this));let o=this.records.get($v);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(FM,Ur,tt.Self))}destroy(){bp(this),this._destroyed=!0;let t=lt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),lt(t)}}onDestroy(t){return bp(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){bp(this);let n=Ea(this),r=Lr(void 0),i;try{return t()}finally{Ea(n),Lr(r)}}get(t,n=Ap,r=tt.Default){if(bp(this),t.hasOwnProperty(UR))return t[UR](this);r=Yv(r);let i,o=Ea(this),s=Lr(void 0);try{if(!(r&tt.SkipSelf)){let c=this.records.get(t);if(c===void 0){let u=nH(t)&&Hv(t);u&&this.injectableDefInScope(u)?c=Wl(K0(t),lv):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&tt.Self?BS():this.parent;return n=r&tt.Optional&&n===Ap?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[mv]=a[mv]||[]).unshift(Er(t)),o)throw a;return HB(a,t,"R3InjectorError",this.source)}else throw a}finally{Lr(s),Ea(o)}}resolveInjectorInitializers(){let t=lt(null),n=Ea(this),r=Lr(void 0),i;try{let o=this.get(td,Ur,tt.Self);for(let s of o)s()}finally{Ea(n),Lr(r),lt(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Er(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=yr(t);let n=nd(t)?t:yr(t&&t.provide),r=QB(t);if(!nd(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Wl(void 0,lv,!0),i.factory=()=>W0(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=lt(null);try{return n.value===lv&&(n.value=ZB,n.value=n.factory()),typeof n.value=="object"&&n.value&&tH(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{lt(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=yr(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function K0(e){let t=Hv(e),n=t!==null?t.factory:ru(e);if(n!==null)return n;if(e instanceof de)throw new ge(204,!1);if(e instanceof Function)return JB(e);throw new ge(204,!1)}function JB(e){if(e.length>0)throw new ge(204,!1);let n=wB(e);return n!==null?()=>n.factory(e):()=>new e}function QB(e){if(YM(e))return Wl(void 0,e.useValue);{let t=$M(e);return Wl(t,lv)}}function $M(e,t,n){let r;if(nd(e)){let i=yr(e);return ru(i)||K0(i)}else if(YM(e))r=()=>yr(e.useValue);else if(KB(e))r=()=>e.useFactory(...W0(e.deps||[]));else if(qB(e))r=()=>se(yr(e.useExisting));else{let i=yr(e&&(e.useClass||e.provide));if(eH(e))r=()=>new i(...W0(e.deps));else return ru(i)||K0(i)}return r}function bp(e){if(e.destroyed)throw new ge(205,!1)}function Wl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function eH(e){return!!e.deps}function tH(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function nH(e){return typeof e=="function"||typeof e=="object"&&e instanceof de}function X0(e,t){for(let n of e)Array.isArray(n)?X0(n,t):n&&AM(n)?X0(n.\u0275providers,t):t(n)}function Ir(e,t){e instanceof xp&&bp(e);let n,r=Ea(e),i=Lr(void 0);try{return t()}finally{Ea(r),Lr(i)}}function GM(){return xM()!==void 0||VB()!=null}function rH(e){if(!GM())throw new ge(-203,!1)}function iH(e){return typeof e=="function"}var _s=0,ft=1,Ge=2,Dr=3,eo=4,ro=5,yv=6,Ev=7,Mi=8,Rp=9,ps=10,on=11,Mp=12,jR=13,pd=14,Ao=15,rd=16,ql=17,id=18,Gv=19,zM=20,Da=21,P0=22,Dv=23,ni=24,Vr=25,WM=1;var iu=7,Iv=8,Sv=9,Ri=10;function Ia(e){return Array.isArray(e)&&typeof e[WM]=="object"}function ys(e){return Array.isArray(e)&&e[WM]===!0}function HS(e){return(e.flags&4)!==0}function lu(e){return e.componentOffset>-1}function zv(e){return(e.flags&1)===1}function hs(e){return!!e.template}function Tv(e){return(e[Ge]&512)!==0}function Lp(e){return(e[Ge]&256)===256}var Z0=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qM(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Es=(()=>{let e=()=>KM;return e.ngInherit=!0,e})();function KM(e){return e.type.prototype.ngOnChanges&&(e.setInput=sH),oH}function oH(){let e=ZM(this),t=e?.current;if(t){let n=e.previous;if(n===ed)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function sH(e,t,n,r,i){let o=this.declaredInputs[r],s=ZM(e)||aH(e,{previous:ed,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Z0(u&&u.currentValue,n,c===ed),qM(e,t,i,n)}var XM="__ngSimpleChanges__";function ZM(e){return e[XM]||null}function aH(e,t){return e[XM]=t}var BR=null;var xi=function(e,t,n){BR?.(e,t,n)},JM="svg",cH="math";function xo(e){for(;Array.isArray(e);)e=e[_s];return e}function QM(e,t){return xo(t[e])}function io(e,t){return xo(t[e.index])}function eP(e,t){return e.data[t]}function YS(e,t){return e[t]}function Ro(e,t){let n=t[e];return Ia(n)?n:n[_s]}function $S(e){return(e[Ge]&128)===128}function uH(e){return ys(e[Dr])}function od(e,t){return t==null?null:e[t]}function tP(e){e[ql]=0}function GS(e){e[Ge]&1024||(e[Ge]|=1024,$S(e)&&qv(e))}function lH(e,t){for(;e>0;)t=t[pd],e--;return t}function Wv(e){return!!(e[Ge]&9216||e[ni]?.dirty)}function J0(e){e[ps].changeDetectionScheduler?.notify(9),e[Ge]&64&&(e[Ge]|=1024),Wv(e)&&qv(e)}function qv(e){e[ps].changeDetectionScheduler?.notify(0);let t=ou(e);for(;t!==null&&!(t[Ge]&8192||(t[Ge]|=8192,!$S(t)));)t=ou(t)}function nP(e,t){if(Lp(e))throw new ge(911,!1);e[Da]===null&&(e[Da]=[]),e[Da].push(t)}function dH(e,t){if(e[Da]===null)return;let n=e[Da].indexOf(t);n!==-1&&e[Da].splice(n,1)}function ou(e){let t=e[Dr];return ys(t)?t[Dr]:t}function fH(e){return e[Ev]??=[]}function pH(e){return e.cleanup??=[]}var Ke={lFrame:uP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Q0=!1;function hH(){return Ke.lFrame.elementDepthCount}function gH(){Ke.lFrame.elementDepthCount++}function mH(){Ke.lFrame.elementDepthCount--}function Kv(){return Ke.bindingsEnabled}function vH(){return Ke.skipHydrationRootTNode!==null}function _H(e){return Ke.skipHydrationRootTNode===e}function yH(){Ke.skipHydrationRootTNode=null}function _t(){return Ke.lFrame.lView}function zn(){return Ke.lFrame.tView}function nt(e){return Ke.lFrame.contextLView=e,e[Mi]}function rt(e){return Ke.lFrame.contextLView=null,e}function jr(){let e=rP();for(;e!==null&&e.type===64;)e=e.parent;return e}function rP(){return Ke.lFrame.currentTNode}function EH(){let e=Ke.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function du(e,t){let n=Ke.lFrame;n.currentTNode=e,n.isParent=t}function zS(){return Ke.lFrame.isParent}function iP(){Ke.lFrame.isParent=!1}function DH(){return Ke.lFrame.contextLView}function oP(){return Q0}function HR(e){let t=Q0;return Q0=e,t}function WS(){let e=Ke.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function IH(){return Ke.lFrame.bindingIndex}function SH(e){return Ke.lFrame.bindingIndex=e}function Xv(){return Ke.lFrame.bindingIndex++}function qS(e){let t=Ke.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function TH(){return Ke.lFrame.inI18n}function CH(e,t){let n=Ke.lFrame;n.bindingIndex=n.bindingRootIndex=e,eS(t)}function bH(){return Ke.lFrame.currentDirectiveIndex}function eS(e){Ke.lFrame.currentDirectiveIndex=e}function wH(e){let t=Ke.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function sP(e){Ke.lFrame.currentQueryIndex=e}function NH(e){let t=e[ft];return t.type===2?t.declTNode:t.type===1?e[ro]:null}function aP(e,t,n){if(n&tt.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&tt.Host);)if(i=NH(o),i===null||(o=o[pd],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=Ke.lFrame=cP();return r.currentTNode=t,r.lView=e,!0}function KS(e){let t=cP(),n=e[ft];Ke.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function cP(){let e=Ke.lFrame,t=e===null?null:e.child;return t===null?uP(e):t}function uP(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function lP(){let e=Ke.lFrame;return Ke.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var dP=lP;function XS(){let e=lP();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function AH(e){return(Ke.lFrame.contextLView=lH(e,Ke.lFrame.contextLView))[Mi]}function ba(){return Ke.lFrame.selectedIndex}function su(e){Ke.lFrame.selectedIndex=e}function ZS(){let e=Ke.lFrame;return eP(e.tView,e.selectedIndex)}function Gt(){Ke.lFrame.currentNamespace=JM}function Wn(){xH()}function xH(){Ke.lFrame.currentNamespace=null}function RH(){return Ke.lFrame.currentNamespace}var fP=!0;function Zv(){return fP}function Jv(e){fP=e}function MH(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=KM(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function JS(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function dv(e,t,n){pP(e,t,3,n)}function fv(e,t,n,r){(e[Ge]&3)===n&&pP(e,t,n,r)}function O0(e,t){let n=e[Ge];(n&3)===t&&(n&=16383,n+=1,e[Ge]=n)}function pP(e,t,n,r){let i=r!==void 0?e[ql]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[ql]+=65536),(a<o||o==-1)&&(PH(e,n,t,c),e[ql]=(e[ql]&4294901760)+c+2),c++}function YR(e,t){xi(4,e,t);let n=lt(null);try{t.call(e)}finally{lt(n),xi(5,e,t)}}function PH(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[Ge]>>14<e[ql]>>16&&(e[Ge]&3)===t&&(e[Ge]+=16384,YR(a,o)):YR(a,o)}var Jl=-1,au=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function OH(e){return e instanceof au}function kH(e){return(e.flags&8)!==0}function FH(e){return(e.flags&16)!==0}function LH(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];UH(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function hP(e){return e===3||e===4||e===6}function UH(e){return e.charCodeAt(0)===64}function sd(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?$R(e,n,i,null,t[++r]):$R(e,n,i,null,null))}}return e}function $R(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var k0={},tS=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Yv(r);let i=this.injector.get(t,k0,r);return i!==k0||n===k0?i:this.parentInjector.get(t,n,r)}};function gP(e){return e!==Jl}function Cv(e){return e&32767}function VH(e){return e>>16}function bv(e,t){let n=VH(e),r=t;for(;n>0;)r=r[pd],n--;return r}var nS=!0;function wv(e){let t=nS;return nS=e,t}var jH=256,mP=jH-1,vP=5,BH=0,No={};function HH(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Np)&&(r=n[Np]),r==null&&(r=n[Np]=BH++);let i=r&mP,o=1<<i;t.data[e+(i>>vP)]|=o}function Nv(e,t){let n=_P(e,t);if(n!==-1)return n;let r=t[ft];r.firstCreatePass&&(e.injectorIndex=t.length,F0(r.data,e),F0(t,null),F0(r.blueprint,null));let i=QS(e,t),o=e.injectorIndex;if(gP(i)){let s=Cv(i),a=bv(i,t),c=a[ft].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function F0(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _P(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function QS(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=SP(i),r===null)return Jl;if(n++,i=i[pd],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Jl}function rS(e,t,n){HH(e,t,n)}function YH(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(hP(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function yP(e,t,n){if(n&tt.Optional||e!==void 0)return e;LS(t,"NodeInjector")}function EP(e,t,n,r){if(n&tt.Optional&&r===void 0&&(r=null),!(n&(tt.Self|tt.Host))){let i=e[Rp],o=Lr(void 0);try{return i?i.get(t,r,n&tt.Optional):RM(t,r,n&tt.Optional)}finally{Lr(o)}}return yP(r,t,n)}function DP(e,t,n,r=tt.Default,i){if(e!==null){if(t[Ge]&2048&&!(r&tt.Self)){let s=qH(e,t,n,r,No);if(s!==No)return s}let o=IP(e,t,n,r,No);if(o!==No)return o}return EP(t,n,r,i)}function IP(e,t,n,r,i){let o=zH(n);if(typeof o=="function"){if(!aP(t,e,r))return r&tt.Host?yP(i,n,r):EP(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&tt.Optional))LS(n);else return s}finally{dP()}}else if(typeof o=="number"){let s=null,a=_P(e,t),c=Jl,u=r&tt.Host?t[Ao][ro]:null;for((a===-1||r&tt.SkipSelf)&&(c=a===-1?QS(e,t):t[a+8],c===Jl||!zR(r,!1)?a=-1:(s=t[ft],a=Cv(c),t=bv(c,t)));a!==-1;){let l=t[ft];if(GR(o,a,l.data)){let d=$H(a,t,n,s,r,u);if(d!==No)return d}c=t[a+8],c!==Jl&&zR(r,t[ft].data[a+8]===u)&&GR(o,a,t)?(s=l,a=Cv(c),t=bv(c,t)):a=-1}}return i}function $H(e,t,n,r,i,o){let s=t[ft],a=s.data[e+8],c=r==null?lu(a)&&nS:r!=s&&(a.type&3)!==0,u=i&tt.Host&&o===a,l=GH(a,s,n,c,u);return l!==null?Av(t,s,l,a):No}function GH(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,l=o>>20,d=r?a:a+l,p=i?a+l:u;for(let f=d;f<p;f++){let h=s[f];if(f<c&&n===h||f>=c&&h.type===n)return f}if(i){let f=s[c];if(f&&hs(f)&&f.type===n)return c}return null}function Av(e,t,n,r){let i=e[n],o=t.data;if(OH(i)){let s=i;s.resolving&&OB(PB(o[n]));let a=wv(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Lr(s.injectImpl):null,l=aP(e,r,tt.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&MH(n,o[n],t)}finally{u!==null&&Lr(u),wv(a),s.resolving=!1,dP()}}return i}function zH(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Np)?e[Np]:void 0;return typeof t=="number"?t>=0?t&mP:WH:t}function GR(e,t,n){let r=1<<e;return!!(n[t+(e>>vP)]&r)}function zR(e,t){return!(e&tt.Self)&&!(e&tt.Host&&t)}var nu=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return DP(this._tNode,this._lView,t,Yv(r),n)}};function WH(){return new nu(jr(),_t())}function Up(e){return kp(()=>{let t=e.prototype.constructor,n=t[gv]||iS(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[gv]||iS(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function iS(e){return CM(e)?()=>{let t=iS(yr(e));return t&&t()}:ru(e)}function qH(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[Ge]&2048&&!Tv(s);){let a=IP(o,s,n,r|tt.Self,No);if(a!==No)return a;let c=o.parent;if(!c){let u=s[zM];if(u){let l=u.get(n,No,r);if(l!==No)return l}c=SP(s),s=s[pd]}o=c}return i}function SP(e){let t=e[ft],n=t.type;return n===2?t.declTNode:n===1?e[ro]:null}function eT(e){return YH(jr(),e)}function WR(e,t=null,n=null,r){let i=TP(e,t,n,r);return i.resolveInjectorInitializers(),i}function TP(e,t=null,n=null,r,i=new Set){let o=[n||Ur,zB(e)];return r=r||(typeof e=="object"?void 0:Er(e)),new xp(o,t||BS(),r||null,i)}var Gn=class e{static THROW_IF_NOT_FOUND=Ap;static NULL=new _v;static create(t,n){if(Array.isArray(t))return WR({name:""},n,t,"");{let r=t.name??"";return WR({name:r},t.parent,t.providers,r)}}static \u0275prov=re({token:e,providedIn:"any",factory:()=>se(kM)});static __NG_ELEMENT_ID__=-1};var KH=new de("");KH.__NG_ELEMENT_ID__=e=>{let t=jr();if(t===null)throw new ge(204,!1);if(t.type&2)return t.value;if(e&tt.Optional)return null;throw new ge(204,!1)};var CP=!1,Vp=(()=>{class e{static __NG_ELEMENT_ID__=XH;static __NG_ENV_ID__=n=>n}return e})(),oS=class extends Vp{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return nP(this._lView,t),()=>dH(this._lView,t)}};function XH(){return new oS(_t())}var ad=class{},Qv=new de("",{providedIn:"root",factory:()=>!1});var bP=new de(""),wP=new de(""),Ds=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new wt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=re({token:e,providedIn:"root",factory:()=>new e})}return e})();var sS=class extends Nn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,GM()&&(this.destroyRef=W(Vp,{optional:!0})??void 0,this.pendingTasks=W(Ds,{optional:!0})??void 0)}emit(t){let n=lt(null);try{super.next(t)}finally{lt(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof bt&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Xt=sS;function xv(...e){}function NP(e){let t,n;function r(){e=xv;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function qR(e){return queueMicrotask(()=>e()),()=>{e=xv}}var tT="isAngularZone",Rv=tT+"_ID",ZH=0,Rt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Xt(!1);onMicrotaskEmpty=new Xt(!1);onStable=new Xt(!1);onError=new Xt(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CP}=t;if(typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,eY(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(tT)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ge(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,JH,xv,xv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},JH={};function nT(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function QH(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){NP(()=>{e.callbackScheduled=!1,aS(e),e.isCheckStableRunning=!0,nT(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),aS(e)}function eY(e){let t=()=>{QH(e)},n=ZH++;e._inner=e._inner.fork({name:"angular",properties:{[tT]:!0,[Rv]:n,[Rv+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(tY(c))return r.invokeTask(o,s,a,c);try{return KR(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),XR(e)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return KR(e),r.invoke(o,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!nY(c)&&t(),XR(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,aS(e),nT(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function aS(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function KR(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function XR(e){e._nesting--,nT(e)}var cS=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Xt;onMicrotaskEmpty=new Xt;onStable=new Xt;onError=new Xt;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function tY(e){return AP(e,"__ignore_ng_zone__")}function nY(e){return AP(e,"__scheduler_tick__")}function AP(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var to=class{_console=console;handleError(t){this._console.error("ERROR",t)}},rY=new de("",{providedIn:"root",factory:()=>{let e=W(Rt),t=W(to);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function ZR(e,t){return SM(e,t)}function iY(e){return SM(IM,e)}var xP=(ZR.required=iY,ZR);function oY(){return e_(jr(),_t())}function e_(e,t){return new Is(io(e,t))}var Is=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=oY}return e})();var JR=new Set;function fu(e){JR.has(e)||(JR.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function sY(e){return typeof e=="function"&&e[ti]!==void 0}function t_(e,t){fu("NgSignals");let n=uR(e),r=n[ti];return t?.equal&&(r.equal=t.equal),n.set=i=>Mm(r,i),n.update=i=>lR(r,i),n.asReadonly=aY.bind(n),n}function aY(){let e=this[ti];if(e.readonlyFn===void 0){let t=()=>this();t[ti]=e,e.readonlyFn=t}return e.readonlyFn}function RP(e){return sY(e)&&typeof e.set=="function"}function MP(e){return(e.flags&128)===128}var PP=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(PP||{}),OP=new Map,cY=0;function uY(){return cY++}function lY(e){OP.set(e[Gv],e)}function uS(e){OP.delete(e[Gv])}var QR="__ngContext__";function pu(e,t){Ia(t)?(e[QR]=t[Gv],lY(t)):e[QR]=t}function kP(e){return LP(e[Mp])}function FP(e){return LP(e[eo])}function LP(e){for(;e!==null&&!ys(e);)e=e[eo];return e}var lS;function UP(e){lS=e}function dY(){if(lS!==void 0)return lS;if(typeof document<"u")return document;throw new ge(210,!1)}var rT=new de("",{providedIn:"root",factory:()=>fY}),fY="ng",iT=new de(""),Ss=new de("",{providedIn:"platform",factory:()=>"unknown"});var oT=new de("",{providedIn:"root",factory:()=>dY().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pY="h",hY="b";var VP=!1,gY=new de("",{providedIn:"root",factory:()=>VP});var sT=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(sT||{}),hd=new de("");var Kl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Kl||{}),jP=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=re({token:e,providedIn:"root",factory:()=>new e})}return e})(),mY=[Kl.EarlyRead,Kl.Write,Kl.MixedReadWrite,Kl.Read],vY=(()=>{class e{ngZone=W(Rt);scheduler=W(ad);errorHandler=W(to,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){W(hd,{optional:!0})}execute(){this.executing=!0;for(let n of mY)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[n]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[n](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(sT.AFTER_NEXT_RENDER,n):n()}static \u0275prov=re({token:e,providedIn:"root",factory:()=>new e})}return e})(),dS=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o=null){this.impl=t,this.hooks=n,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function aT(e,t){!t?.injector&&rH(aT);let n=t?.injector??W(Gn);return fu("NgAfterNextRender"),yY(e,n,t,!0)}function _Y(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function yY(e,t,n,r){let i=t.get(jP);i.impl??=t.get(vY);let o=t.get(hd,null,{optional:!0}),s=n?.phase??Kl.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(Vp):null,c=new dS(i.impl,_Y(e,s),r,a,o?.snapshot(null));return i.impl.register(c),c}var EY=()=>null;function BP(e,t,n=!1){return EY(e,t,n)}function HP(e,t){let n=e.contentQueries;if(n!==null){let r=lt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];sP(o),a.contentQueries(2,t[s],s)}}}finally{lt(r)}}}function fS(e,t,n){sP(0);let r=lt(null);try{t(e,n)}finally{lt(r)}}function cT(e,t,n){if(HS(t)){let r=lt(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{lt(r)}}}var Mo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Mo||{});var av;function DY(){if(av===void 0&&(av=null,tu.trustedTypes))try{av=tu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return av}function eM(e){return DY()?.createScriptURL(e)||e}var Mv=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DM})`}};function gd(e){return e instanceof Mv?e.changingThisBreaksApplicationSecurity:e}function uT(e,t){let n=IY(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${DM})`)}return n===t}function IY(e){return e instanceof Mv&&e.getTypeName()||null}var SY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YP(e){return e=String(e),e.match(SY)?e:"unsafe:"+e}var n_=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(n_||{});function wa(e){let t=GP();return t?t.sanitize(n_.URL,e)||"":uT(e,"URL")?gd(e):YP(Ql(e))}function TY(e){let t=GP();if(t)return eM(t.sanitize(n_.RESOURCE_URL,e)||"");if(uT(e,"ResourceURL"))return eM(gd(e));throw new ge(904,!1)}function CY(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?TY:wa}function $P(e,t,n){return CY(t,n)(e)}function GP(){let e=_t();return e&&e[ps].sanitizer}var bY=/^>|^->|<!--|-->|--!>|<!-$/g,wY=/(<|>)/g,NY="\u200B$1\u200B";function AY(e){return e.replace(bY,t=>t.replace(wY,NY))}function zP(e){return e instanceof Function?e():e}function xY(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var WP="ng-template";function RY(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&xY(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lT(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function lT(e){return e.type===4&&e.value!==WP}function MY(e,t,n){let r=e.type===4&&!n?WP:e.value;return t===r}function PY(e,t,n){let r=4,i=e.attrs,o=i!==null?FY(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Ji(r)&&!Ji(c))return!1;if(s&&Ji(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!MY(e,c,n)||c===""&&t.length===1){if(Ji(r))return!1;s=!0}}else if(r&8){if(i===null||!RY(e,i,c,n)){if(Ji(r))return!1;s=!0}}else{let u=t[++a],l=OY(c,i,lT(e),n);if(l===-1){if(Ji(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Ji(r))return!1;s=!0}}}}return Ji(r)||s}function Ji(e){return(e&1)===0}function OY(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return LY(t,e)}function kY(e,t,n=!1){for(let r=0;r<t.length;r++)if(PY(e,t[r],n))return!0;return!1}function FY(e){for(let t=0;t<e.length;t++){let n=e[t];if(hP(n))return t}return e.length}function LY(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function tM(e,t){return e?":not("+t.trim()+")":t}function UY(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ji(s)&&(t+=tM(o,i),i=""),r=s,o=o||!Ji(r);n++}return i!==""&&(t+=tM(o,i)),t}function VY(e){return e.map(UY).join(",")}function jY(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Ji(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var oo={};function BY(e,t){return e.createText(t)}function HY(e,t,n){e.setValue(t,n)}function YY(e,t){return e.createComment(AY(t))}function qP(e,t,n){return e.createElement(t,n)}function Pv(e,t,n,r,i){e.insertBefore(t,n,r,i)}function KP(e,t,n){e.appendChild(t,n)}function nM(e,t,n,r,i){r!==null?Pv(e,t,n,r,i):KP(e,t,n)}function $Y(e,t,n){e.removeChild(null,t,n)}function GY(e,t,n){e.setAttribute(t,"style",n)}function zY(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function XP(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&LH(e,t,r),i!==null&&zY(e,t,i),o!==null&&GY(e,t,o)}function $(e=1){ZP(zn(),_t(),ba()+e,!1)}function ZP(e,t,n,r){if(!r)if((t[Ge]&3)===3){let o=e.preOrderCheckHooks;o!==null&&dv(t,o,n)}else{let o=e.preOrderHooks;o!==null&&fv(t,o,0,n)}su(n)}var Ta=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ta||{});function JP(e,t,n,r,i,o){let s=lt(null);try{let a=null;i&Ta.SignalBased&&(a=t[r][ti]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ta.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):qM(t,a,r,o)}finally{lt(s)}}function dT(e,t,n,r,i,o,s,a,c,u,l){let d=t.blueprint.slice();return d[_s]=i,d[Ge]=r|4|128|8|64|1024,(u!==null||e&&e[Ge]&2048)&&(d[Ge]|=2048),tP(d),d[Dr]=d[pd]=e,d[Mi]=n,d[ps]=s||e&&e[ps],d[on]=a||e&&e[on],d[Rp]=c||e&&e[Rp]||null,d[ro]=o,d[Gv]=uY(),d[yv]=l,d[zM]=u,d[Ao]=t.type==2?e[Ao]:d,d}function QP(e,t,n,r,i){let o=ba(),s=r&2;try{su(-1),s&&t.length>Vr&&ZP(e,t,Vr,!1),xi(s?2:0,i),n(r,i)}finally{su(o),xi(s?3:1,i)}}function fT(e,t,n){Kv()&&(pu(io(n,t),t),eO(e,t,n))}function eO(e,t,n){e$(e,t,n),(n.flags&64)===64&&t$(e,t,n)}function pT(e,t,n=io){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function WY(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=hT(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function hT(e,t,n,r,i,o,s,a,c,u,l){let d=Vr+r,p=d+i,f=qY(d,p),h=typeof u=="function"?u():u;return f[ft]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:l}}function qY(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:oo);return n}function KY(e,t,n,r){let o=r.get(gY,VP)||n===Mo.ShadowDom,s=e.selectRootElement(t,o);return XY(s),s}function XY(e){ZY(e)}var ZY=()=>null;function JY(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function tO(e,t,n,r,i,o,s,a){let c=io(t,n),u=t.inputs,l;!a&&u!=null&&(l=u[r])?(vT(e,n,l,r,i),lu(t)&&QY(n,t.index)):t.type&3?(r=JY(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function QY(e,t){let n=Ro(t,e);n[Ge]&16||(n[Ge]|=64)}function e$(e,t,n){let r=n.directiveStart,i=n.directiveEnd;lu(n)&&r$(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Nv(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Av(t,e,s,n);if(pu(c,t),o!==null&&s$(t,s-r,c,a,n,o),hs(a)){let u=Ro(n.index,t);u[Mi]=Av(t,e,s,n)}}}function t$(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=bH();try{su(o);for(let a=r;a<i;a++){let c=e.data[a],u=t[a];eS(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&n$(c,u)}}finally{su(-1),eS(s)}}function n$(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function gT(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];kY(t,o.selectors,!1)&&(r??=[],hs(o)?r.unshift(o):r.push(o))}return r}function nO(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function r$(e,t,n){let r=io(t,e),i=WY(n),o=e[ps].rendererFactory,s=mT(e,dT(e,i,null,nO(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function i$(e,t,n,r,i,o){let s=io(e,t);o$(t[on],s,o,e.value,n,r,i)}function o$(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Ql(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function s$(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];JP(r,n,c,u,l,d)}}function rO(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function mT(e,t){return e[Mp]?e[jR][eo]=t:e[Mp]=t,e[jR]=t,t}function iO(e,t){let n=e[Rp],r=n?n.get(to,null):null;r&&r.handleError(t)}function vT(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=t[s],l=e.data[s];JP(l,u,r,a,c,i)}}function a$(e,t){let n=Ro(t,e),r=n[ft];c$(r,n);let i=n[_s];i!==null&&n[yv]===null&&(n[yv]=BP(i,n[Rp])),_T(r,n,n[Mi])}function c$(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function _T(e,t,n){KS(t);try{let r=e.viewQuery;r!==null&&fS(1,r,n);let i=e.template;i!==null&&QP(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[id]?.finishViewCreation(e),e.staticContentQueries&&HP(e,t),e.staticViewQueries&&fS(2,e.viewQuery,n);let o=e.components;o!==null&&u$(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ge]&=-5,XS()}}function u$(e,t){for(let n=0;n<t.length;n++)a$(e,t[n])}var Po=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Po||{}),l$;function yT(e,t){return l$(e,t)}function oO(e){return(e.flags&32)===32}function Xl(e,t,n,r,i){if(r!=null){let o,s=!1;ys(r)?o=r:Ia(r)&&(s=!0,r=r[_s]);let a=xo(r);e===0&&n!==null?i==null?KP(t,n,a):Pv(t,n,a,i||null,!0):e===1&&n!==null?Pv(t,n,a,i||null,!0):e===2?$Y(t,a,s):e===3&&t.destroyNode(a),o!=null&&S$(t,e,o,n,i)}}function d$(e,t){sO(e,t),t[_s]=null,t[ro]=null}function f$(e,t,n,r,i,o){r[_s]=i,r[ro]=t,i_(e,r,n,1,i,o)}function sO(e,t){t[ps].changeDetectionScheduler?.notify(10),i_(e,t,t[on],2,null,null)}function p$(e){let t=e[Mp];if(!t)return L0(e[ft],e);for(;t;){let n=null;if(Ia(t))n=t[Mp];else{let r=t[Ri];r&&(n=r)}if(!n){for(;t&&!t[eo]&&t!==e;)Ia(t)&&L0(t[ft],t),t=t[Dr];t===null&&(t=e),Ia(t)&&L0(t[ft],t),n=t&&t[eo]}t=n}}function h$(e,t,n,r){let i=Ri+r,o=n.length;r>0&&(n[i-1][eo]=t),r<o-Ri?(t[eo]=n[i],OM(n,Ri+r,t)):(n.push(t),t[eo]=null),t[Dr]=n;let s=t[rd];s!==null&&n!==s&&aO(s,t);let a=t[id];a!==null&&a.insertView(e),J0(t),t[Ge]|=128}function aO(e,t){let n=e[Sv],r=t[Dr];if(Ia(r))e[Ge]|=2;else{let i=r[Dr][Ao];t[Ao]!==i&&(e[Ge]|=2)}n===null?e[Sv]=[t]:n.push(t)}function ET(e,t){let n=e[Sv],r=n.indexOf(t);n.splice(r,1)}function pS(e,t){if(e.length<=Ri)return;let n=Ri+t,r=e[n];if(r){let i=r[rd];i!==null&&i!==e&&ET(i,r),t>0&&(e[n-1][eo]=r[eo]);let o=vv(e,Ri+t);d$(r[ft],r);let s=o[id];s!==null&&s.detachView(o[ft]),r[Dr]=null,r[eo]=null,r[Ge]&=-129}return r}function cO(e,t){if(Lp(t))return;let n=t[on];n.destroyNode&&i_(e,t,n,3,null,null),p$(t)}function L0(e,t){if(Lp(t))return;let n=lt(null);try{t[Ge]&=-129,t[Ge]|=256,t[ni]&&u0(t[ni]),m$(e,t),g$(e,t),t[ft].type===1&&t[on].destroy();let r=t[rd];if(r!==null&&ys(t[Dr])){r!==t[Dr]&&ET(r,t);let i=t[id];i!==null&&i.detachView(e)}uS(t)}finally{lt(n)}}function g$(e,t){let n=e.cleanup,r=t[Ev];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Ev]=null);let i=t[Da];if(i!==null){t[Da]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Dv];if(o!==null){t[Dv]=null;for(let s of o)s.destroy()}}function m$(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof au)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];xi(4,a,c);try{c.call(a)}finally{xi(5,a,c)}}else{xi(4,i,o);try{o.call(i)}finally{xi(5,i,o)}}}}}function v$(e,t,n){return _$(e,t.parent,n)}function _$(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[_s];if(lu(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Mo.None||i===Mo.Emulated)return null}return io(r,n)}function y$(e,t,n){return D$(e,t,n)}function E$(e,t,n){return e.type&40?io(e,n):null}var D$=E$,rM;function r_(e,t,n,r){let i=v$(e,r,t),o=t[on],s=r.parent||t[ro],a=y$(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)nM(o,i,n[c],a,!1);else nM(o,i,n,a,!1);rM!==void 0&&rM(o,r,t,n,i)}function wp(e,t){if(t!==null){let n=t.type;if(n&3)return io(t,e);if(n&4)return hS(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return wp(e,r);{let i=e[t.index];return ys(i)?hS(-1,i):xo(i)}}else{if(n&128)return wp(e,t.next);if(n&32)return yT(t,e)()||xo(e[t.index]);{let r=uO(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=ou(e[Ao]);return wp(i,r)}else return wp(e,t.next)}}}return null}function uO(e,t){if(t!==null){let r=e[Ao][ro],i=t.projection;return r.projection[i]}return null}function hS(e,t){let n=Ri+e+1;if(n<t.length){let r=t[n],i=r[ft].firstChild;if(i!==null)return wp(r,i)}return t[iu]}function DT(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&pu(xo(a),r),n.flags|=2),!oO(n))if(c&8)DT(e,t,n.child,r,i,o,!1),Xl(t,e,i,a,o);else if(c&32){let u=yT(n,r),l;for(;l=u();)Xl(t,e,i,l,o);Xl(t,e,i,a,o)}else c&16?I$(e,t,r,n,i,o):Xl(t,e,i,a,o);n=s?n.projectionNext:n.next}}function i_(e,t,n,r,i,o){DT(n,r,e.firstChild,t,i,o,!1)}function I$(e,t,n,r,i,o){let s=n[Ao],c=s[ro].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Xl(t,e,i,l,o)}else{let u=c,l=s[Dr];MP(r)&&(u.flags|=128),DT(e,t,u,l,i,o,!0)}}function S$(e,t,n,r,i){let o=n[iu],s=xo(n);o!==s&&Xl(t,e,r,o,i);for(let a=Ri;a<n.length;a++){let c=n[a];i_(c[ft],c,e,t,r,o)}}function T$(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Po.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Po.Important),e.setStyle(n,r,i,o))}}function C$(e,t,n,r){let i=lt(null);try{let o=t.tView,a=e[Ge]&4096?4096:16,c=dT(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[rd]=u;let l=e[id];return l!==null&&(c[id]=l.createEmbeddedView(o)),_T(o,c,n),c}finally{lt(i)}}function iM(e,t){return!t||t.firstChild===null||MP(e)}function b$(e,t,n,r=!0){let i=t[ft];if(h$(i,t,e,n),r){let s=hS(n,e),a=t[on],c=a.parentNode(e[iu]);c!==null&&f$(i,e[ro],a,t,c,s)}let o=t[yv];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ov(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(xo(o)),ys(o)&&w$(o,r);let s=n.type;if(s&8)Ov(e,t,n.child,r);else if(s&32){let a=yT(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=uO(t,n);if(Array.isArray(a))r.push(...a);else{let c=ou(t[Ao]);Ov(c[ft],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function w$(e,t){for(let n=Ri;n<e.length;n++){let r=e[n],i=r[ft].firstChild;i!==null&&Ov(r[ft],r,i,t)}e[iu]!==e[_s]&&t.push(e[iu])}var lO=[];function N$(e){return e[ni]??A$(e)}function A$(e){let t=lO.pop()??Object.create(R$);return t.lView=e,t}function x$(e){e.lView[ni]!==e&&(e.lView=null,lO.push(e))}var R$=We(te({},Ep),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{qv(e.lView)},consumerOnSignalRead(){this.lView[ni]=this}});function M$(e){let t=e[ni]??Object.create(P$);return t.lView=e,t}var P$=We(te({},Ep),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ou(e.lView);for(;t&&!dO(t[ft]);)t=ou(t);t&&GS(t)},consumerOnSignalRead(){this.lView[ni]=this}});function dO(e){return e.type!==2}function fO(e){if(e[Dv]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Dv])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[Ge]&8192)}}var O$=100;function pO(e,t=!0,n=0){let i=e[ps].rendererFactory,o=!1;o||i.begin?.();try{k$(e,n)}catch(s){throw t&&iO(e,s),s}finally{o||i.end?.()}}function k$(e,t){let n=oP();try{HR(!0),gS(e,t);let r=0;for(;Wv(e);){if(r===O$)throw new ge(103,!1);r++,gS(e,1)}}finally{HR(n)}}function F$(e,t,n,r){if(Lp(t))return;let i=t[Ge],o=!1,s=!1;KS(t);let a=!0,c=null,u=null;o||(dO(e)?(u=N$(t),c=Am(u)):Jx()===null?(a=!1,u=M$(t),c=Am(u)):t[ni]&&(u0(t[ni]),t[ni]=null));try{tP(t),SH(e.bindingStartIndex),n!==null&&QP(e,t,n,2,r);let l=(i&3)===3;if(!o)if(l){let f=e.preOrderCheckHooks;f!==null&&dv(t,f,null)}else{let f=e.preOrderHooks;f!==null&&fv(t,f,0,null),O0(t,0)}if(s||L$(t),fO(t),hO(t,0),e.contentQueries!==null&&HP(e,t),!o)if(l){let f=e.contentCheckHooks;f!==null&&dv(t,f)}else{let f=e.contentHooks;f!==null&&fv(t,f,1),O0(t,1)}V$(e,t);let d=e.components;d!==null&&mO(t,d,0);let p=e.viewQuery;if(p!==null&&fS(2,p,r),!o)if(l){let f=e.viewCheckHooks;f!==null&&dv(t,f)}else{let f=e.viewHooks;f!==null&&fv(t,f,2),O0(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[P0]){for(let f of t[P0])f();t[P0]=null}o||(t[Ge]&=-73)}catch(l){throw o||qv(t),l}finally{u!==null&&(a0(u,c),a&&x$(u)),XS()}}function hO(e,t){for(let n=kP(e);n!==null;n=FP(n))for(let r=Ri;r<n.length;r++){let i=n[r];gO(i,t)}}function L$(e){for(let t=kP(e);t!==null;t=FP(t)){if(!(t[Ge]&2))continue;let n=t[Sv];for(let r=0;r<n.length;r++){let i=n[r];GS(i)}}}function U$(e,t,n){let r=Ro(t,e);gO(r,n)}function gO(e,t){$S(e)&&gS(e,t)}function gS(e,t){let r=e[ft],i=e[Ge],o=e[ni],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&c0(o)),s||=!1,o&&(o.dirty=!1),e[Ge]&=-9217,s)F$(r,e,r.template,e[Mi]);else if(i&8192){fO(e),hO(e,1);let a=r.components;a!==null&&mO(e,a,1)}}function mO(e,t,n){for(let r=0;r<t.length;r++)U$(e,t[r],n)}function V$(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)su(~i);else{let o=i,s=n[++r],a=n[++r];CH(s,o);let c=t[o];xi(24,c),a(2,c),xi(25,c)}}}finally{su(-1)}}function IT(e,t){let n=oP()?64:1088;for(e[ps].changeDetectionScheduler?.notify(t);e;){e[Ge]|=n;let r=ou(e);if(Tv(e)&&!r)return e;e=r}return null}var cu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[ft];return Ov(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Mi]}get dirty(){return!!(this._lView[Ge]&9280)||!!this._lView[ni]?.dirty}set context(t){this._lView[Mi]=t}get destroyed(){return Lp(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Dr];if(ys(t)){let n=t[Iv],r=n?n.indexOf(this):-1;r>-1&&(pS(t,r),vv(n,r))}this._attachedToViewContainer=!1}cO(this._lView[ft],this._lView)}onDestroy(t){nP(this._lView,t)}markForCheck(){IT(this._cdRefInjectingView||this._lView,4)}markForRefresh(){GS(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ge]&=-129}reattach(){J0(this._lView),this._lView[Ge]|=128}detectChanges(){this._lView[Ge]|=1024,pO(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Tv(this._lView),n=this._lView[rd];n!==null&&!t&&ET(n,this._lView),sO(this._lView[ft],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=t;let n=Tv(this._lView),r=this._lView[rd];r!==null&&!n&&aO(r,this._lView),J0(this._lView)}},o_=(()=>{class e{static __NG_ELEMENT_ID__=H$}return e})(),j$=o_,B$=class extends j${_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=C$(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new cu(i)}};function H$(){return Y$(jr(),_t())}function Y$(e,t){return e.type&4?new B$(t,e,e_(e,t)):null}function s_(e,t,n,r,i){let o=e.data[t];if(o===null)o=$$(e,t,n,r,i),TH()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=EH();o.injectorIndex=s===null?-1:s.injectorIndex}return du(o,!0),o}function $$(e,t,n,r,i){let o=rP(),s=zS(),a=s?o:o&&o.parent,c=e.data[t]=z$(e,a,n,t,r,i);return G$(e,c,o,s),c}function G$(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function z$(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return vH()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Coe=new RegExp(`^(\\d+)*(${hY}|${pY})*(.*)`);var W$=()=>null;function oM(e,t){return W$(e,t)}var mS=class{},kv=class{},vS=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Er(t)}.`)}},cd=class{static NULL=new vS},ud=class{},Na=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>q$()}return e})();function q$(){let e=_t(),t=jr(),n=Ro(t.index,e);return(Ia(n)?n:e)[on]}var K$=(()=>{class e{static \u0275prov=re({token:e,providedIn:"root",factory:()=>null})}return e})();function _S(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=$0(i,a);else if(o==2){let c=a,u=t[++s];r=$0(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function oe(e,t=tt.Default){let n=_t();if(n===null)return se(e,t);let r=jr();return DP(r,n,yr(e),t)}function vO(){let e="invalid";throw new Error(e)}function _O(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ST(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let[a,c]=Z$(e,n,s);Q$(e,t,n,a,o,c)}o!==null&&r!==null&&X$(n,r,o)}function X$(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new ge(-301,!1);r.push(t[i],o)}}function Z$(e,t,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),hs(o)&&(r.push(o),J$(e,t,r.length-1));return lu(t)?r.push(...n.slice(1)):r.push(...n),[r,i]}function J$(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Q$(e,t,n,r,i,o){for(let u=0;u<r.length;u++)rS(Nv(n,t),e,r[u].type);s4(n,e.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=_O(e,t,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=sd(n.mergedAttrs,l.hostAttrs),n4(e,n,t,c,l),o4(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}e4(e,n,o)}function e4(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],p=n?n.get(d):null,f=p?p.inputs:null,h=p?p.outputs:null;c=sM(0,d.inputs,l,c,f),u=sM(1,d.outputs,l,u,h);let g=c!==null&&s!==null&&!lT(t)?t4(c,l,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}function sM(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=Ta.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}e===0?aM(r,n,u,a,c):aM(r,n,u,a)}return r}function aM(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function t4(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function n4(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=ru(i.type,!0)),s=new au(o,hs(i),oe);e.blueprint[r]=s,n[r]=s,r4(e,t,r,_O(e,n,i.hostVars,oo),i)}function r4(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;i4(s)!=a&&s.push(a),s.push(n,r,o)}}function i4(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function o4(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;hs(t)&&(n[""]=e)}}function s4(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function yO(e,t,n,r,i,o,s,a){let c=t.consts,u=od(c,s),l=s_(t,e,2,r,u);return o&&ST(t,n,l,od(c,a),i),l.mergedAttrs=sd(l.mergedAttrs,l.attrs),l.attrs!==null&&_S(l,l.attrs,!1),l.mergedAttrs!==null&&_S(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function EO(e,t){JS(e,t),HS(t)&&e.queries.elementEnd(t)}var Fv=class extends cd{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Sa(t);return new ld(n,this.ngModule)}};function cM(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ta.None;t?n.push({propName:s,templateName:r,isSignal:(a&Ta.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function a4(e,t,n){let r=t instanceof ir?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new tS(n,r):n}function c4(e){let t=e.get(ud,null);if(t===null)throw new ge(407,!1);let n=e.get(K$,null),r=e.get(ad,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function u4(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return qP(t,n,n==="svg"?JM:n==="math"?cH:null)}var ld=class extends kv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,n=t.inputTransforms,r=cM(t.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return cM(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=VY(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){let o=lt(null);try{let s=this.componentDef,a=r?["ng-version","19.1.6"]:jY(this.componentDef.selectors[0]),c=hT(0,null,null,1,0,null,null,null,null,[a],null),u=a4(s,i||this.ngModule,t),l=c4(u),d=l.rendererFactory.createRenderer(null,s),p=r?KY(d,r,s.encapsulation,u):u4(s,d),f=dT(null,c,null,512|nO(s),null,null,l,d,u,null,BP(p,u,!0));f[Vr]=p,KS(f);let h=null;try{let g=yO(Vr,c,f,"#host",()=>[this.componentDef],!0,0);p&&(XP(d,p,g),pu(p,f)),eO(c,f,g),cT(c,g,f),EO(c,g),n!==void 0&&l4(g,this.ngContentSelectors,n),h=Ro(g.index,f),f[Mi]=h[Mi],_T(c,f,null)}catch(g){throw h!==null&&uS(h),uS(f),g}finally{XS()}return new yS(this.componentType,f)}finally{lt(o)}}},yS=class extends mS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=eP(n[ft],Vr),this.location=e_(this._tNode,n),this.instance=Ro(this._tNode.index,n)[Mi],this.hostView=this.changeDetectorRef=new cu(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;vT(o[ft],o,i,t,n),this.previousInputValues.set(t,n);let s=Ro(this._tNode.index,o);IT(s,1)}}get injector(){return new nu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function l4(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var md=(()=>{class e{static __NG_ELEMENT_ID__=d4}return e})();function d4(){let e=jr();return p4(e,_t())}var f4=md,DO=class extends f4{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return e_(this._hostTNode,this._hostLView)}get injector(){return new nu(this._hostTNode,this._hostLView)}get parentInjector(){let t=QS(this._hostTNode,this._hostLView);if(gP(t)){let n=bv(t,this._hostLView),r=Cv(t),i=n[ft].data[r+8];return new nu(i,n)}else return new nu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=uM(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ri}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=oM(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,iM(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!iH(t),a;if(s)a=n;else{let h=n||{};a=h.index,r=h.injector,i=h.projectableNodes,o=h.environmentInjector||h.ngModuleRef}let c=s?t:new ld(Sa(t)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let g=(s?u:this.parentInjector).get(ir,null);g&&(o=g)}let l=Sa(c.componentType??{}),d=oM(this._lContainer,l?.id??null),p=d?.firstChild??null,f=c.create(u,i,p,o);return this.insertImpl(f.hostView,a,iM(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(uH(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Dr],u=new DO(c,c[ro],c[Dr]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return b$(s,i,o,r),t.attachToViewContainerRef(),OM(U0(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=uM(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=pS(this._lContainer,n);r&&(vv(U0(this._lContainer),n),cO(r[ft],r))}detach(t){let n=this._adjustIndex(t,-1),r=pS(this._lContainer,n);return r&&vv(U0(this._lContainer),n)!=null?new cu(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function uM(e){return e[Iv]}function U0(e){return e[Iv]||(e[Iv]=[])}function p4(e,t){let n,r=t[e.index];return ys(r)?n=r:(n=rO(r,t,null,e),t[e.index]=n,mT(t,n)),g4(n,t,e,r),new DO(n,e,t)}function h4(e,t){let n=e[on],r=n.createComment(""),i=io(t,e),o=n.parentNode(i);return Pv(n,o,r,n.nextSibling(i),!1),r}var g4=_4,m4=()=>!1;function v4(e,t,n){return m4(e,t,n)}function _4(e,t,n,r){if(e[iu])return;let i;n.type&8?i=xo(r):i=h4(t,n),e[iu]=i}var Ca=class{},Pp=class{};var ES=class extends Ca{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fv(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=LM(t);this._bootstrapComponents=zP(o.bootstrap),this._r3Injector=TP(t,n,[{provide:Ca,useValue:this},{provide:cd,useValue:this.componentFactoryResolver},...r],Er(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},DS=class extends Pp{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ES(this.moduleType,t,[])}};var Lv=class extends Ca{injector;componentFactoryResolver=new Fv(this);instance=null;constructor(t){super();let n=new xp([...t.providers,{provide:Ca,useValue:this},{provide:cd,useValue:this.componentFactoryResolver}],t.parent||BS(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function a_(e,t,n=null){return new Lv({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var y4=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=BM(!1,n.type),i=r.length>0?a_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=re({token:e,providedIn:"environment",factory:()=>new e(se(ir))})}return e})();function Ut(e){return kp(()=>{let t=IO(e),n=We(te({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===PP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(y4).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Mo.Emulated,styles:e.styles||Ur,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&fu("NgStandalone"),SO(n);let r=e.dependencies;return n.directiveDefs=dM(r,!1),n.pipeDefs=dM(r,!0),n.id=I4(n),n})}function E4(e){return Sa(e)||UM(e)}function D4(e){return e!==null}function so(e){return kp(()=>({type:e.type,bootstrap:e.bootstrap||Ur,declarations:e.declarations||Ur,imports:e.imports||Ur,exports:e.exports||Ur,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function lM(e,t){if(e==null)return ed;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Ta.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Ta.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Br(e){return kp(()=>{let t=IO(e);return SO(t),t})}function jp(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function IO(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ed,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ur,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lM(e.inputs,t),outputs:lM(e.outputs),debugInfo:null}}function SO(e){e.features?.forEach(t=>t(e))}function dM(e,t){if(!e)return null;let n=t?VM:E4;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(D4)}function I4(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function S4(e){return Object.getPrototypeOf(e.prototype).constructor}function hu(e){let t=S4(e.type),n=!0,r=[e];for(;t;){let i;if(hs(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ge(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=cv(e.inputs),s.inputTransforms=cv(e.inputTransforms),s.declaredInputs=cv(e.declaredInputs),s.outputs=cv(e.outputs);let a=i.hostBindings;a&&N4(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&b4(e,c),u&&w4(e,u),T4(e,i),CB(e.outputs,i.outputs),hs(i)&&i.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===hu&&(n=!1)}}t=Object.getPrototypeOf(t)}C4(r)}function T4(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function C4(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=sd(i.hostAttrs,n=sd(n,i.hostAttrs))}}function cv(e){return e===ed?{}:e===Ur?[]:e}function b4(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function w4(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function N4(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function TT(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}function TO(e){return CT(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function A4(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function CT(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function CO(e,t,n){return e[t]=n}function gs(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function bO(e,t,n,r){let i=gs(e,t,n);return gs(e,t+1,r)||i}function x4(e,t,n,r,i,o,s,a,c){let u=t.consts,l=s_(t,e,4,s||null,a||null);Kv()&&ST(t,n,l,od(u,c),gT),l.mergedAttrs=sd(l.mergedAttrs,l.attrs),JS(t,l);let d=l.tView=hT(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}function R4(e,t,n,r,i,o,s,a,c,u){let l=n+Vr,d=t.firstCreatePass?x4(l,t,e,r,i,o,s,a,c):t.data[l];du(d,!1);let p=M4(t,e,d,n);Zv()&&r_(t,e,p,d),pu(p,e);let f=rO(p,e,p,d);return e[l]=f,mT(e,f),v4(f,d,e),zv(d)&&fT(t,e,d),c!=null&&pT(e,d,u),d}function st(e,t,n,r,i,o,s,a){let c=_t(),u=zn(),l=od(u.consts,o);return R4(c,u,e,t,n,r,i,l,s,a),st}var M4=P4;function P4(e,t,n,r){return Jv(!0),t[on].createComment("")}var bT=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var wO=new de("");function Aa(e){return!!e&&typeof e.then=="function"}function wT(e){return!!e&&typeof e.subscribe=="function"}var c_=new de("");var NO=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=W(c_,{optional:!0})??[];injector=W(Gn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ir(this.injector,i);if(Aa(o))n.push(o);else if(wT(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),O4=(()=>{class e{static \u0275prov=re({token:e,providedIn:"root",factory:()=>new IS})}return e})(),IS=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}},Bp=new de("");function k4(){cR(()=>{throw new ge(600,!1)})}function F4(e){return e.isBoundToModule}var L4=10;var ms=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=W(rY);afterRenderManager=W(jP);zonelessEnabled=W(Qv);rootEffectScheduler=W(O4);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Nn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=W(Ds).hasPendingTasks.pipe($e(n=>!n));constructor(){W(hd,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=W(ir);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof kv;if(!this._injector.get(NO).done){let p=!i&&jM(n),f=!1;throw new ge(405,f)}let s;i?s=n:s=this._injector.get(cd).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=F4(s)?void 0:this._injector.get(Ca),c=r||s.selector,u=s.create(Gn.NULL,[],c,a),l=u.location.nativeElement,d=u.injector.get(wO,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),pv(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(sT.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new ge(101,!1);let n=lt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,lt(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ud,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<L4;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)U4(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Wv(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;pv(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Bp,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pv(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ge(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pv(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function U4(e,t,n,r){if(!n&&!Wv(e))return;pO(e,t,n&&!r?0:1)}function u_(e,t,n,r){let i=_t(),o=Xv();if(gs(i,o,t)){let s=zn(),a=ZS();i$(a,i,e,t,n,r)}return u_}function V4(e,t,n,r){return gs(e,Xv(),n)?t+Ql(n)+r:oo}function j4(e,t,n,r,i,o){let s=IH(),a=bO(e,s,n,i);return qS(2),a?t+Ql(n)+r+Ql(i)+o:oo}function uv(e,t){return e<<17|t<<2}function uu(e){return e>>17&32767}function B4(e){return(e&2)==2}function H4(e,t){return e&131071|t<<17}function SS(e){return e|2}function dd(e){return(e&131068)>>2}function V0(e,t){return e&-131069|t<<2}function Y4(e){return(e&1)===1}function TS(e){return e|1}function $4(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=uu(s),c=dd(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Fp(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let p=uu(e[a+1]);e[r+1]=uv(p,a),p!==0&&(e[p+1]=V0(e[p+1],r)),e[a+1]=H4(e[a+1],r)}else e[r+1]=uv(a,0),a!==0&&(e[a+1]=V0(e[a+1],r)),a=r;else e[r+1]=uv(c,0),a===0?a=r:e[c+1]=V0(e[c+1],r),c=r;u&&(e[r+1]=SS(e[r+1])),fM(e,l,r,!0),fM(e,l,r,!1),G4(t,l,e,r,o),s=uv(a,c),o?t.classBindings=s:t.styleBindings=s}function G4(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Fp(o,t)>=0&&(n[r+1]=TS(n[r+1]))}function fM(e,t,n,r){let i=e[n+1],o=t===null,s=r?uu(i):dd(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];z4(c,t)&&(a=!0,e[s+1]=r?TS(u):SS(u)),s=r?uu(u):dd(u)}a&&(e[n+1]=r?SS(i):TS(i))}function z4(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Fp(e,t)>=0:!1}var Qi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function W4(e){return e.substring(Qi.key,Qi.keyEnd)}function q4(e){return K4(e),AO(e,xO(e,0,Qi.textEnd))}function AO(e,t){let n=Qi.textEnd;return n===t?-1:(t=Qi.keyEnd=X4(e,Qi.key=t,n),xO(e,t,n))}function K4(e){Qi.key=0,Qi.keyEnd=0,Qi.value=0,Qi.valueEnd=0,Qi.textEnd=e.length}function xO(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function X4(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function ae(e,t,n){let r=_t(),i=Xv();if(gs(r,i,t)){let o=zn(),s=ZS();tO(o,s,r,e,t,r[on],n,!1)}return ae}function CS(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";vT(e,n,o[s],s,r)}function xa(e,t,n){return RO(e,t,n,!1),xa}function An(e,t){return RO(e,t,null,!0),An}function Hp(e){J4(i3,Z4,e,!0)}function Z4(e,t){for(let n=q4(t);n>=0;n=AO(t,n))VS(e,W4(t),!0)}function RO(e,t,n,r){let i=_t(),o=zn(),s=qS(2);if(o.firstUpdatePass&&PO(o,e,s,r),t!==oo&&gs(i,s,t)){let a=o.data[ba()];OO(o,a,i,i[on],e,i[s+1]=s3(t,n),r,s)}}function J4(e,t,n,r){let i=zn(),o=qS(2);i.firstUpdatePass&&PO(i,null,o,r);let s=_t();if(n!==oo&&gs(s,o,n)){let a=i.data[ba()];if(kO(a,r)&&!MO(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=$0(c,n||"")),CS(i,a,s,n,r)}else o3(i,a,s,s[on],s[o+1],s[o+1]=r3(e,t,n),r,o)}}function MO(e,t){return t>=e.expandoStartIndex}function PO(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[ba()],s=MO(e,n);kO(o,r)&&t===null&&!s&&(t=!1),t=Q4(i,o,t,r),$4(i,o,t,n,s,r)}}function Q4(e,t,n,r){let i=wH(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=j0(null,e,t,n,r),n=Op(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=j0(i,e,t,n,r),o===null){let c=e3(e,t,r);c!==void 0&&Array.isArray(c)&&(c=j0(null,e,t,c[1],r),c=Op(c,t.attrs,r),t3(e,t,r,c))}else o=n3(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function e3(e,t,n){let r=n?t.classBindings:t.styleBindings;if(dd(r)!==0)return e[uu(r)]}function t3(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[uu(i)]=r}function n3(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Op(r,s,n)}return Op(r,t.attrs,n)}function j0(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Op(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Op(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),VS(e,s,n?!0:t[++o]))}return e===void 0?null:e}function r3(e,t,n){if(n==null||n==="")return Ur;let r=[],i=gd(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function i3(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&VS(e,r,n)}function o3(e,t,n,r,i,o,s,a){i===oo&&(i=Ur);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;l!==null||d!==null;){let p=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0,h=null,g;l===d?(c+=2,u+=2,p!==f&&(h=d,g=f)):d===null||l!==null&&l<d?(c+=2,h=l):(u+=2,h=d,g=f),h!==null&&OO(e,t,n,r,h,g,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}function OO(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=Y4(u)?pM(c,t,n,i,dd(u),s):void 0;if(!Uv(l)){Uv(o)||B4(u)&&(o=pM(c,null,n,i,a,s));let d=QM(ba(),n);T$(r,s,d,i,o)}}function pM(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,p=n[i+1];p===oo&&(p=d?Ur:void 0);let f=d?R0(p,r):l===r?p:void 0;if(u&&!Uv(f)&&(f=R0(c,r)),Uv(f)&&(a=f,s))return a;let h=e[i+1];i=s?uu(h):dd(h)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=R0(c,r))}return a}function Uv(e){return e!==void 0}function s3(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Er(gd(e)))),e}function kO(e,t){return(e.flags&(t?8:16))!==0}function T(e,t,n,r){let i=_t(),o=zn(),s=Vr+e,a=i[on],c=o.firstCreatePass?yO(s,o,i,t,gT,Kv(),n,r):o.data[s],u=a3(o,i,c,a,t,e);i[s]=u;let l=zv(c);return du(c,!0),XP(a,u,c),!oO(c)&&Zv()&&r_(o,i,u,c),hH()===0&&pu(u,i),gH(),l&&(fT(o,i,c),cT(o,c,i)),r!==null&&pT(i,c),T}function N(){let e=jr();zS()?iP():(e=e.parent,du(e,!1));let t=e;_H(t)&&yH(),mH();let n=zn();return n.firstCreatePass&&EO(n,t),t.classesWithoutHost!=null&&kH(t)&&CS(n,t,_t(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&FH(t)&&CS(n,t,_t(),t.stylesWithoutHost,!1),N}function be(e,t,n,r){return T(e,t,n,r),N(),be}var a3=(e,t,n,r,i,o)=>(Jv(!0),qP(r,i,RH()));function c3(e,t,n,r,i){let o=t.consts,s=od(o,r),a=s_(t,e,8,"ng-container",s);s!==null&&_S(a,s,!0);let c=od(o,i);return Kv()&&ST(t,n,a,c,gT),a.mergedAttrs=sd(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function NT(e,t,n){let r=_t(),i=zn(),o=e+Vr,s=i.firstCreatePass?c3(o,i,r,t,n):i.data[o];du(s,!0);let a=u3(i,r,s,e);return r[o]=a,Zv()&&r_(i,r,a,s),pu(a,r),zv(s)&&(fT(i,r,s),cT(i,s,r)),n!=null&&pT(r,s),NT}function AT(){let e=jr(),t=zn();return zS()?iP():(e=e.parent,du(e,!1)),t.firstCreatePass&&(JS(t,e),HS(e)&&t.queries.elementEnd(e)),AT}var u3=(e,t,n,r)=>(Jv(!0),YY(t[on],""));function Pt(){return _t()}var eu=void 0;function l3(e){let t=e,n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var d3=["en",[["a","p"],["AM","PM"],eu],[["AM","PM"],eu,eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eu,"{1} 'at' {0}",eu],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",l3],B0={};function Hr(e){let t=f3(e),n=hM(t);if(n)return n;let r=t.split("-")[0];if(n=hM(r),n)return n;if(r==="en")return d3;throw new ge(701,!1)}function hM(e){return e in B0||(B0[e]=tu.ng&&tu.ng.common&&tu.ng.common.locales&&tu.ng.common.locales[e]),B0[e]}var Zt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Zt||{});function f3(e){return e.toLowerCase().replace(/_/g,"-")}var Vv="en-US",p3="USD";var h3=Vv;function g3(e){typeof e=="string"&&(h3=e.toLowerCase().replace(/_/g,"-"))}var m3=(e,t,n)=>{};function Le(e,t,n,r){let i=_t(),o=zn(),s=jr();return FO(o,i,i[on],s,e,t,r),Le}function v3(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Ev],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function FO(e,t,n,r,i,o,s){let a=zv(r),u=e.firstCreatePass&&pH(e),l=t[Mi],d=fH(t),p=!0;if(r.type&3||s){let g=io(r,t),m=s?s(g):g,_=d.length,E=s?R=>s(xo(R[r.index])):r.index,w=null;if(!s&&a&&(w=v3(e,t,i,r.index)),w!==null){let R=w.__ngLastListenerFn__||w;R.__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,p=!1}else{o=mM(r,t,l,o),m3(g,i,o);let R=n.listen(m,i,o);d.push(o,R),u&&u.push(i,E,_,_+1)}}else o=mM(r,t,l,o);let f=r.outputs,h;if(p&&f!==null&&(h=f[i])){let g=h.length;if(g)for(let m=0;m<g;m+=2){let _=h[m],E=h[m+1],U=t[_][E].subscribe(o),X=d.length;d.push(o,U),u&&u.push(i,r.index,X,-(X+1))}}}function gM(e,t,n,r){let i=lt(null);try{return xi(6,t,n),n(r)!==!1}catch(o){return iO(e,o),!1}finally{xi(7,t,n),lt(i)}}function mM(e,t,n,r){return function i(o){if(o===Function)return r;let s=lu(e)?Ro(e.index,t):t;IT(s,5);let a=gM(t,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=gM(t,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Ie(e=1){return AH(e)}function _3(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function LO(e){let t=DH();return YS(t,Vr+e)}function K(e,t=""){let n=_t(),r=zn(),i=e+Vr,o=r.firstCreatePass?s_(r,i,1,t,null):r.data[i],s=y3(r,n,o,t,e);n[i]=s,Zv()&&r_(r,n,s,o),du(o,!1)}var y3=(e,t,n,r,i)=>(Jv(!0),BY(t[on],r));function Sr(e){return en("",e,""),Sr}function en(e,t,n){let r=_t(),i=V4(r,e,t,n);return i!==oo&&UO(r,ba(),i),en}function xT(e,t,n,r,i){let o=_t(),s=j4(o,e,t,n,r,i);return s!==oo&&UO(o,ba(),s),xT}function UO(e,t,n){let r=QM(t,e);HY(e[on],r,n)}function RT(e,t,n){RP(t)&&(t=t());let r=_t(),i=Xv();if(gs(r,i,t)){let o=zn(),s=ZS();tO(o,s,r,e,t,r[on],n,!1)}return RT}function VO(e,t){let n=RP(e);return n&&e.set(t),n}function MT(e,t){let n=_t(),r=zn(),i=jr();return FO(r,n,n[on],i,e,t),MT}function E3(e,t,n){let r=zn();if(r.firstCreatePass){let i=hs(e);bS(n,r.data,r.blueprint,i,!0),bS(t,r.data,r.blueprint,i,!1)}}function bS(e,t,n,r,i){if(e=yr(e),Array.isArray(e))for(let o=0;o<e.length;o++)bS(e[o],t,n,r,i);else{let o=zn(),s=_t(),a=jr(),c=nd(e)?e:yr(e.provide),u=$M(e),l=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(nd(e)||!e.multi){let f=new au(u,i,oe),h=Y0(c,t,i?l:l+p,d);h===-1?(rS(Nv(a,s),o,c),H0(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[h]=f,s[h]=f)}else{let f=Y0(c,t,l+p,d),h=Y0(c,t,l,l+p),g=f>=0&&n[f],m=h>=0&&n[h];if(i&&!m||!i&&!g){rS(Nv(a,s),o,c);let _=S3(i?I3:D3,n.length,i,r,u);!i&&m&&(n[h].providerFactory=_),H0(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=jO(n[i?h:f],u,!i&&r);H0(o,e,f>-1?f:h,_)}!i&&r&&m&&n[h].componentProviders++}}}function H0(e,t,n,r){let i=nd(t),o=XB(t);if(i||o){let c=(o?yr(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function jO(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Y0(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function D3(e,t,n,r){return wS(this.multi,[])}function I3(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Av(n,n[ft],this.providerFactory.index,r);o=a.slice(0,s),wS(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],wS(i,o);return o}function wS(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function S3(e,t,n,r,i){let o=new au(e,n,oe);return o.multi=[],o.index=t,o.componentProviders=0,jO(o,i,r&&!n),o}function Pi(e,t=[]){return n=>{n.providersResolver=(r,i)=>E3(r,i?i(e):e,t)}}function PT(e,t,n,r){return HO(_t(),WS(),e,t,n,r)}function BO(e,t){let n=e[t];return n===oo?void 0:n}function HO(e,t,n,r,i,o){let s=t+n;return gs(e,s,i)?CO(e,s+1,o?r.call(o,i):r(i)):BO(e,s+1)}function T3(e,t,n,r,i,o,s){let a=t+n;return bO(e,a,i,o)?CO(e,a+2,s?r.call(s,i,o):r(i,o)):BO(e,a+2)}function Tr(e,t){let n=zn(),r,i=e+Vr;n.firstCreatePass?(r=C3(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ru(r.type,!0)),s,a=Lr(oe);try{let c=wv(!1),u=o();return wv(c),_3(n,_t(),i,u),u}finally{Lr(a)}}function C3(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function ri(e,t,n){let r=e+Vr,i=_t(),o=YS(i,r);return YO(i,r)?HO(i,WS(),t,o.transform,n,o):o.transform(n)}function OT(e,t,n,r){let i=e+Vr,o=_t(),s=YS(o,i);return YO(o,i)?T3(o,WS(),t,s.transform,n,r,s):s.transform(n,r)}function YO(e,t){return e[ft].data[t].pure}var vs=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},$O=new vs("19.1.6"),NS=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},l_=(()=>{class e{compileModuleSync(n){return new DS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=LM(n),o=zP(i.declarations).reduce((s,a)=>{let c=Sa(a);return c&&s.push(new ld(c)),s},[]);return new NS(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var b3=(()=>{class e{zone=W(Rt);changeDetectionScheduler=W(ad);applicationRef=W(ms);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),w3=new de("",{factory:()=>!1});function GO({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Rt(We(te({},WO()),{scheduleInRootZone:n})),[{provide:Rt,useFactory:e},{provide:td,multi:!0,useFactory:()=>{let r=W(b3,{optional:!0});return()=>r.initialize()}},{provide:td,multi:!0,useFactory:()=>{let r=W(N3);return()=>{r.initialize()}}},t===!0?{provide:bP,useValue:!0}:[],{provide:wP,useValue:n??CP}]}function zO(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=GO({ngZoneFactory:()=>{let i=WO(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&fu("NgZone_CoalesceEvent"),new Rt(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return ko([{provide:w3,useValue:!0},{provide:Qv,useValue:!1},r])}function WO(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var N3=(()=>{class e{subscription=new bt;initialized=!1;zone=W(Rt);pendingTasks=W(Ds);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Rt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Rt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A3=(()=>{class e{appRef=W(ms);taskService=W(Ds);ngZone=W(Rt);zonelessEnabled=W(Qv);tracing=W(hd,{optional:!0});disableScheduling=W(bP,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new bt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rv):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(W(wP,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cS||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?qR:NP;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rv+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qR(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function x3(){return typeof $localize<"u"&&$localize.locale||Vv}var Yp=new de("",{providedIn:"root",factory:()=>W(Yp,tt.Optional|tt.SkipSelf)||x3()}),qO=new de("",{providedIn:"root",factory:()=>p3});var AS=new de(""),R3=new de("");function Cp(e){return!e.moduleRef}function M3(e){let t=Cp(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Rt);return n.run(()=>{Cp(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(to,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Cp(e)){let o=()=>t.destroy(),s=e.platformInjector.get(AS);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(AS);s.add(o),e.moduleRef.onDestroy(()=>{pv(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return O3(r,n,()=>{let o=t.get(NO);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Yp,Vv);if(g3(s||Vv),!t.get(R3,!0))return Cp(e)?t.get(ms):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Cp(e)){let c=t.get(ms);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return P3(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function P3(e,t){let n=e.injector.get(ms);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new ge(-403,!1);t.push(e)}function O3(e,t,n){try{let r=n();return Aa(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var hv=null;function k3(e=[],t){return Gn.create({name:t,providers:[{provide:$v,useValue:"platform"},{provide:AS,useValue:new Set([()=>hv=null])},...e]})}function F3(e=[]){if(hv)return hv;let t=k3(e);return hv=t,k4(),L3(t),t}function L3(e){let t=e.get(iT,null);Ir(e,()=>{t?.forEach(n=>n())})}function KO(){return!1}var Ra=(()=>{class e{static __NG_ELEMENT_ID__=U3}return e})();function U3(e){return V3(jr(),_t(),(e&16)===16)}function V3(e,t,n){if(lu(e)&&!n){let r=Ro(e.index,t);return new cu(r,r)}else if(e.type&175){let r=t[Ao];return new cu(r,t)}return null}var xS=class{constructor(){}supports(t){return TO(t)}create(t){return new RS(t)}},j3=(e,t)=>t,RS=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||j3}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<vM(r,i,o)?n:r,a=vM(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let p=0;p<u;p++){let f=p<o.length?o[p]:o[p]=0,h=f+p;l<=h&&h<u&&(o[p]=f+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!TO(t))throw new ge(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,A4(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new MS(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new jv),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},MS=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},PS=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},jv=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new PS,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vM(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var OS=class{constructor(){}supports(t){return t instanceof Map||CT(t)}create(){return new kS}},kS=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||CT(t)))throw new ge(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new FS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},FS=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function _M(){return new kT([new xS])}var kT=(()=>{class e{factories;static \u0275prov=re({token:e,providedIn:"root",factory:_M});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||_M()),deps:[[e,new PM,new Oo]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ge(901,!1)}}return e})();function yM(){return new d_([new OS])}var d_=(()=>{class e{static \u0275prov=re({token:e,providedIn:"root",factory:yM});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||yM()),deps:[[e,new PM,new Oo]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new ge(901,!1)}}return e})();function XO(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=F3(r),o=[GO({}),{provide:ad,useExisting:A3},...n||[]],s=new Lv({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return M3({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function gu(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function f_(e,t){fu("NgSignals");let n=oR(e);return t?.equal&&(n[ti].equal=t.equal),n}function Fo(e){let t=lt(null);try{return e()}finally{lt(t)}}var EM=class{[ti];constructor(t){this[ti]=t}destroy(){this[ti].destroy()}};function ZO(e){let t=Sa(e);if(!t)return null;let n=new ld(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var s1=null;function ws(){return s1}function a1(e){s1??=e}var D_=class{};var or=new de(""),zT=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:()=>W(B3),providedIn:"platform"})}return e})(),c1=new de(""),B3=(()=>{class e extends zT{_location;_history;_doc=W(or);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ws().getBaseHref(this._doc)}onPopState(n){let r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function WT(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function JO(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Cs(e){return e&&e[0]!=="?"?"?"+e:e}var Ns=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:()=>W(qT),providedIn:"root"})}return e})(),u1=new de(""),qT=(()=>{class e extends Ns{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??W(or).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return WT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Cs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Cs(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Cs(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(se(zT),se(u1,8))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),l1=(()=>{class e extends Ns{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=WT(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Cs(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Cs(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(se(zT),se(u1,8))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})(),_d=(()=>{class e{_subject=new Nn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=$3(JO(QO(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Cs(r))}normalize(n){return e.stripTrailingSlash(Y3(this._basePath,QO(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Cs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Cs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Cs;static joinWithSlash=WT;static stripTrailingSlash=JO;static \u0275fac=function(r){return new(r||e)(se(Ns))};static \u0275prov=re({token:e,factory:()=>H3(),providedIn:"root"})}return e})();function H3(){return new _d(se(Ns))}function Y3(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function QO(e){return e.replace(/\/index.html$/,"")}function $3(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var d1={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},f1=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(f1||{});var Cr=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Cr||{}),Ot=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ot||{}),ii=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(ii||{}),oi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function G3(e){return Hr(e)[Zt.LocaleId]}function z3(e,t,n){let r=Hr(e),i=[r[Zt.DayPeriodsFormat],r[Zt.DayPeriodsStandalone]],o=Oi(i,t);return Oi(o,n)}function W3(e,t,n){let r=Hr(e),i=[r[Zt.DaysFormat],r[Zt.DaysStandalone]],o=Oi(i,t);return Oi(o,n)}function q3(e,t,n){let r=Hr(e),i=[r[Zt.MonthsFormat],r[Zt.MonthsStandalone]],o=Oi(i,t);return Oi(o,n)}function K3(e,t){let r=Hr(e)[Zt.Eras];return Oi(r,t)}function p_(e,t){let n=Hr(e);return Oi(n[Zt.DateFormat],t)}function h_(e,t){let n=Hr(e);return Oi(n[Zt.TimeFormat],t)}function g_(e,t){let r=Hr(e)[Zt.DateTimeFormat];return Oi(r,t)}function bs(e,t){let n=Hr(e),r=n[Zt.NumberSymbols][t];if(typeof r>"u"){if(t===oi.CurrencyDecimal)return n[Zt.NumberSymbols][oi.Decimal];if(t===oi.CurrencyGroup)return n[Zt.NumberSymbols][oi.Group]}return r}function X3(e,t){return Hr(e)[Zt.NumberFormats][t]}function Z3(e){return Hr(e)[Zt.Currencies]}function p1(e){if(!e[Zt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Zt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function J3(e){let t=Hr(e);return p1(t),(t[Zt.ExtraData][2]||[]).map(r=>typeof r=="string"?FT(r):[FT(r[0]),FT(r[1])])}function Q3(e,t,n){let r=Hr(e);p1(r);let i=[r[Zt.ExtraData][0],r[Zt.ExtraData][1]],o=Oi(i,t)||[];return Oi(o,n)||[]}function Oi(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function FT(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}function e8(e,t,n="en"){let r=Z3(n)[e]||d1[e]||[],i=r[1];return t==="narrow"&&typeof i=="string"?i:r[0]||e}var t8=2;function n8(e){let t,n=d1[e];return n&&(t=n[2]),typeof t=="number"?t:t8}var r8=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,m_={},i8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function o8(e,t,n,r){let i=h8(e);t=Ts(n,t)||t;let s=[],a;for(;t;)if(a=i8.exec(t),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;t=l}else{s.push(t);break}let c=i.getTimezoneOffset();r&&(c=g1(r,c),i=p8(i,r,!0));let u="";return s.forEach(l=>{let d=d8(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function I_(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Ts(e,t){let n=G3(e);if(m_[n]??={},m_[n][t])return m_[n][t];let r="";switch(t){case"shortDate":r=p_(e,ii.Short);break;case"mediumDate":r=p_(e,ii.Medium);break;case"longDate":r=p_(e,ii.Long);break;case"fullDate":r=p_(e,ii.Full);break;case"shortTime":r=h_(e,ii.Short);break;case"mediumTime":r=h_(e,ii.Medium);break;case"longTime":r=h_(e,ii.Long);break;case"fullTime":r=h_(e,ii.Full);break;case"short":let i=Ts(e,"shortTime"),o=Ts(e,"shortDate");r=v_(g_(e,ii.Short),[i,o]);break;case"medium":let s=Ts(e,"mediumTime"),a=Ts(e,"mediumDate");r=v_(g_(e,ii.Medium),[s,a]);break;case"long":let c=Ts(e,"longTime"),u=Ts(e,"longDate");r=v_(g_(e,ii.Long),[c,u]);break;case"full":let l=Ts(e,"fullTime"),d=Ts(e,"fullDate");r=v_(g_(e,ii.Full),[l,d]);break}return r&&(m_[n][t]=r),r}function v_(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function ao(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function s8(e,t){return ao(e,3).substring(0,t)}function gn(e,t,n=0,r=!1,i=!1){return function(o,s){let a=a8(e,o);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return s8(a,t);let c=bs(s,oi.MinusSign);return ao(a,t,c,r,i)}}function a8(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Vt(e,t,n=Cr.Format,r=!1){return function(i,o){return c8(i,o,e,t,n,r)}}function c8(e,t,n,r,i,o){switch(n){case 2:return q3(t,i,r)[e.getMonth()];case 1:return W3(t,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let u=J3(t),l=Q3(t,i,r),d=u.findIndex(p=>{if(Array.isArray(p)){let[f,h]=p,g=s>=f.hours&&a>=f.minutes,m=s<h.hours||s===h.hours&&a<h.minutes;if(f.hours<h.hours){if(g&&m)return!0}else if(g||m)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return z3(t,i,r)[s<12?0:1];case 3:return K3(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function __(e){return function(t,n,r){let i=-1*r,o=bs(n,oi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+ao(s,2,o)+ao(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+ao(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+ao(s,2,o)+":"+ao(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+ao(s,2,o)+":"+ao(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var u8=0,E_=4;function l8(e){let t=I_(e,u8,1).getDay();return I_(e,0,1+(t<=E_?E_:E_+7)-t)}function h1(e){let t=e.getDay(),n=t===0?-3:E_-t;return I_(e.getFullYear(),e.getMonth(),e.getDate()+n)}function LT(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=h1(n),s=l8(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ao(i,e,bs(r,oi.MinusSign))}}function y_(e,t=!1){return function(n,r){let o=h1(n).getFullYear();return ao(o,e,bs(r,oi.MinusSign),t)}}var UT={};function d8(e){if(UT[e])return UT[e];let t;switch(e){case"G":case"GG":case"GGG":t=Vt(3,Ot.Abbreviated);break;case"GGGG":t=Vt(3,Ot.Wide);break;case"GGGGG":t=Vt(3,Ot.Narrow);break;case"y":t=gn(0,1,0,!1,!0);break;case"yy":t=gn(0,2,0,!0,!0);break;case"yyy":t=gn(0,3,0,!1,!0);break;case"yyyy":t=gn(0,4,0,!1,!0);break;case"Y":t=y_(1);break;case"YY":t=y_(2,!0);break;case"YYY":t=y_(3);break;case"YYYY":t=y_(4);break;case"M":case"L":t=gn(1,1,1);break;case"MM":case"LL":t=gn(1,2,1);break;case"MMM":t=Vt(2,Ot.Abbreviated);break;case"MMMM":t=Vt(2,Ot.Wide);break;case"MMMMM":t=Vt(2,Ot.Narrow);break;case"LLL":t=Vt(2,Ot.Abbreviated,Cr.Standalone);break;case"LLLL":t=Vt(2,Ot.Wide,Cr.Standalone);break;case"LLLLL":t=Vt(2,Ot.Narrow,Cr.Standalone);break;case"w":t=LT(1);break;case"ww":t=LT(2);break;case"W":t=LT(1,!0);break;case"d":t=gn(2,1);break;case"dd":t=gn(2,2);break;case"c":case"cc":t=gn(7,1);break;case"ccc":t=Vt(1,Ot.Abbreviated,Cr.Standalone);break;case"cccc":t=Vt(1,Ot.Wide,Cr.Standalone);break;case"ccccc":t=Vt(1,Ot.Narrow,Cr.Standalone);break;case"cccccc":t=Vt(1,Ot.Short,Cr.Standalone);break;case"E":case"EE":case"EEE":t=Vt(1,Ot.Abbreviated);break;case"EEEE":t=Vt(1,Ot.Wide);break;case"EEEEE":t=Vt(1,Ot.Narrow);break;case"EEEEEE":t=Vt(1,Ot.Short);break;case"a":case"aa":case"aaa":t=Vt(0,Ot.Abbreviated);break;case"aaaa":t=Vt(0,Ot.Wide);break;case"aaaaa":t=Vt(0,Ot.Narrow);break;case"b":case"bb":case"bbb":t=Vt(0,Ot.Abbreviated,Cr.Standalone,!0);break;case"bbbb":t=Vt(0,Ot.Wide,Cr.Standalone,!0);break;case"bbbbb":t=Vt(0,Ot.Narrow,Cr.Standalone,!0);break;case"B":case"BB":case"BBB":t=Vt(0,Ot.Abbreviated,Cr.Format,!0);break;case"BBBB":t=Vt(0,Ot.Wide,Cr.Format,!0);break;case"BBBBB":t=Vt(0,Ot.Narrow,Cr.Format,!0);break;case"h":t=gn(3,1,-12);break;case"hh":t=gn(3,2,-12);break;case"H":t=gn(3,1);break;case"HH":t=gn(3,2);break;case"m":t=gn(4,1);break;case"mm":t=gn(4,2);break;case"s":t=gn(5,1);break;case"ss":t=gn(5,2);break;case"S":t=gn(6,1);break;case"SS":t=gn(6,2);break;case"SSS":t=gn(6,3);break;case"Z":case"ZZ":case"ZZZ":t=__(0);break;case"ZZZZZ":t=__(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=__(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=__(2);break;default:return null}return UT[e]=t,t}function g1(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function f8(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function p8(e,t,n){let r=n?-1:1,i=e.getTimezoneOffset(),o=g1(t,i);return f8(e,r*(o-i))}function h8(e){if(e1(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return I_(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(r8))return g8(r)}let t=new Date(e);if(!e1(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function g8(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,c,u),t}function e1(e){return e instanceof Date&&!isNaN(e.valueOf())}var m8=/^(\d+)?\.((\d+)(-(\d+))?)?$/,t1=22,S_=".",$p="0",v8=";",_8=",",VT="#",n1="\xA4";function y8(e,t,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(e))a=bs(n,oi.Infinity);else{let u=S8(e);s&&(u=I8(u));let l=t.minInt,d=t.minFrac,p=t.maxFrac;if(o){let E=o.match(m8);if(E===null)throw new Error(`${o} is not a valid digit info`);let w=E[1],R=E[3],U=E[5];w!=null&&(l=jT(w)),R!=null&&(d=jT(R)),U!=null?p=jT(U):R!=null&&d>p&&(p=d)}T8(u,d,p);let f=u.digits,h=u.integerLen,g=u.exponent,m=[];for(c=f.every(E=>!E);h<l;h++)f.unshift(0);for(;h<0;h++)f.unshift(0);h>0?m=f.splice(h,f.length):(m=f,f=[0]);let _=[];for(f.length>=t.lgSize&&_.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)_.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&_.unshift(f.join("")),a=_.join(bs(n,r)),m.length&&(a+=bs(n,i)+m.join("")),g&&(a+=bs(n,oi.Exponential)+"+"+g)}return e<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function E8(e,t,n,r,i){let o=X3(t,f1.Currency),s=D8(o,bs(t,oi.MinusSign));return s.minFrac=n8(r),s.maxFrac=s.minFrac,y8(e,s,t,oi.CurrencyGroup,oi.CurrencyDecimal,i).replace(n1,n).replace(n1,"").trim()}function D8(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(v8),i=r[0],o=r[1],s=i.indexOf(S_)!==-1?i.split(S_):[i.substring(0,i.lastIndexOf($p)+1),i.substring(i.lastIndexOf($p)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(VT));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===$p?n.minFrac=n.maxFrac=l+1:d===VT?n.maxFrac=l+1:n.posSuf+=d}let u=a.split(_8);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let l=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(VT);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+l).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function I8(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function S8(e){let t=Math.abs(e)+"",n=0,r,i,o,s,a;for((i=t.indexOf(S_))>-1&&(t=t.replace(S_,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===$p;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===$p;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>t1&&(r=r.splice(0,t1-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function T8(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=t+e.integerLen,l=r.reduceRight(function(d,p,f,h){return p=p+d,h[f]=p<10?p:p-10,c&&(h[f]===0&&f>=u?h.pop():c=!1),p>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}function jT(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function T_(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var BT=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ma=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new BT(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),r1(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);r1(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(oe(md),oe(o_),oe(kT))};static \u0275dir=Br({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function r1(e,t){e.context.$implicit=t.item}var tn=(()=>{class e{_viewContainer;_context=new HT;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){i1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){i1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(oe(md),oe(o_))};static \u0275dir=Br({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),HT=class{$implicit=null;ngIf=null};function i1(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Er(t)}'.`)}var m1=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Po.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(oe(Is),oe(d_),oe(Na))};static \u0275dir=Br({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();function KT(e,t){return new ge(2100,!1)}var YT=class{createSubscription(t,n){return Fo(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){Fo(()=>t.unsubscribe())}},$T=class{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}},C8=new $T,b8=new YT,C_=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Aa(n))return C8;if(wT(n))return b8;throw KT(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(oe(Ra,16))};static \u0275pipe=jp({name:"async",type:e,pure:!1})}return e})();var w8="mediumDate",N8=new de(""),A8=new de(""),b_=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??w8,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return o8(n,s,o||this.locale,a)}catch(s){throw KT(e,s.message)}}static \u0275fac=function(r){return new(r||e)(oe(Yp,16),oe(N8,24),oe(A8,24))};static \u0275pipe=jp({name:"date",type:e,pure:!0})}return e})();function x8(e,t){return{key:e,value:t}}var v1=(()=>{class e{differs;constructor(n){this.differs=n}differ;keyValues=[];compareFn=o1;transform(n,r=o1){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(x8(s.key,s.currentValue))})),(i||o)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||e)(oe(d_,16))};static \u0275pipe=jp({name:"keyvalue",type:e,pure:!1})}return e})();function o1(e,t){let n=e.key,r=t.key;if(n===r)return 0;if(n==null)return 1;if(r==null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var _1=(()=>{class e{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!R8(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=e8(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=M8(n);return E8(c,s,a,r,o)}catch(c){throw KT(e,c.message)}}static \u0275fac=function(r){return new(r||e)(oe(Yp,16),oe(qO,16))};static \u0275pipe=jp({name:"currency",type:e,pure:!0})}return e})();function R8(e){return!(e==null||e===""||e!==e)}function M8(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var Yt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=so({type:e});static \u0275inj=no({})}return e})(),y1="browser",P8="server";function XT(e){return e===P8}var E1=(()=>{class e{static \u0275prov=re({token:e,providedIn:"root",factory:()=>new GT(W(or),window)})}return e})(),GT=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=O8(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function O8(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var vd=class{};var zp=class{},N_=class{},xs=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var JT=class{encodeKey(t){return D1(t)}encodeValue(t){return D1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function k8(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var F8=/%(\d[a-f0-9])/gi,L8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function D1(e){return encodeURIComponent(e).replace(F8,(t,n)=>L8[n]??t)}function w_(e){return`${e}`}var Pa=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new JT,t.fromString){if(t.fromObject)throw new ge(2805,!1);this.map=k8(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(w_):[w_(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(w_(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(w_(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var QT=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function U8(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function I1(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function S1(e){return typeof Blob<"u"&&e instanceof Blob}function T1(e){return typeof FormData<"u"&&e instanceof FormData}function V8(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var C1="Content-Type",b1="Accept",x1="X-Request-URL",R1="text/plain",M1="application/json",j8=`${M1}, ${R1}, */*`,Gp=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(U8(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new xs,this.context??=new QT,!this.params)this.params=new Pa,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||I1(this.body)||S1(this.body)||T1(this.body)||V8(this.body)?this.body:this.body instanceof Pa?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||T1(this.body)?null:S1(this.body)?this.body.type||null:I1(this.body)?null:typeof this.body=="string"?R1:this.body instanceof Pa?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?M1:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,u=t.headers||this.headers,l=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((p,f)=>p.set(f,t.setHeaders[f]),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((p,f)=>p.set(f,t.setParams[f]),l)),new e(n,r,s,{params:l,headers:u,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},As=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(As||{}),Wp=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new xs,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},eC=class e extends Wp{constructor(t={}){super(t)}type=As.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},A_=class e extends Wp{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=As.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},x_=class extends Wp{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},B8=200,H8=204;function ZT(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var si=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Gp)o=n;else{let c;i.headers instanceof xs?c=i.headers:c=new xs(i.headers);let u;i.params&&(i.params instanceof Pa?u=i.params:u=new Pa({fromObject:i.params})),o=new Gp(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Ae(o).pipe(ds(c=>this.handler.handle(c)));if(n instanceof Gp||i.observe==="events")return s;let a=s.pipe(hn(c=>c instanceof A_));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe($e(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new ge(2806,!1);return c.body}));case"blob":return a.pipe($e(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new ge(2807,!1);return c.body}));case"text":return a.pipe($e(c=>{if(c.body!==null&&typeof c.body!="string")throw new ge(2808,!1);return c.body}));case"json":default:return a.pipe($e(c=>c.body))}case"response":return a;default:throw new ge(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Pa().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,ZT(i,r))}post(n,r,i={}){return this.request("POST",n,ZT(i,r))}put(n,r,i={}){return this.request("PUT",n,ZT(i,r))}static \u0275fac=function(r){return new(r||e)(se(zp))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})();var Y8=new de("");function P1(e,t){return t(e)}function $8(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}function G8(e,t,n){return(r,i)=>Ir(n,()=>t(r,o=>e(o,i)))}var tC=new de(""),nC=new de(""),z8=new de(""),O1=new de("",{providedIn:"root",factory:()=>!0});function W8(){let e=null;return(t,n)=>{e===null&&(e=(W(tC,{optional:!0})??[]).reduceRight($8,P1));let r=W(Ds);if(W(O1)){let o=r.add();return e(t,n).pipe(Fr(()=>r.remove(o)))}else return e(t,n)}}var w1=(()=>{class e extends zp{backend;injector;chain=null;pendingTasks=W(Ds);contributeToStability=W(O1);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(nC),...this.injector.get(z8,[])]));this.chain=r.reduceRight((i,o)=>G8(i,o,this.injector),P1)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Fr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(se(N_),se(ir))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})();var q8=/^\)\]\}',?\n/,K8=RegExp(`^${x1}:`,"m");function X8(e){return"responseURL"in e&&e.responseURL?e.responseURL:K8.test(e.getAllResponseHeaders())?e.getResponseHeader(x1):null}var N1=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ge(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ht(r.\u0275loadImpl()):Ae(null)).pipe($n(()=>new dt(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has(b1)||s.setRequestHeader(b1,j8),!n.headers.has(C1)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(C1,g)}if(n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=s.statusText||"OK",m=new xs(s.getAllResponseHeaders()),_=X8(s)||n.url;return c=new eC({headers:m,status:s.status,statusText:g,url:_}),c},l=()=>{let{headers:g,status:m,statusText:_,url:E}=u(),w=null;m!==H8&&(w=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=w?B8:0);let R=m>=200&&m<300;if(n.responseType==="json"&&typeof w=="string"){let U=w;w=w.replace(q8,"");try{w=w!==""?JSON.parse(w):null}catch(X){w=U,R&&(R=!1,w={error:X,text:w})}}R?(o.next(new A_({body:w,headers:g,status:m,statusText:_,url:E||void 0})),o.complete()):o.error(new x_({error:w,headers:g,status:m,statusText:_,url:E||void 0}))},d=g=>{let{url:m}=u(),_=new x_({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(_)},p=!1,f=g=>{p||(o.next(u()),p=!0);let m={type:As.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),o.next(m)},h=g=>{let m={type:As.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",h)),s.send(a),o.next({type:As.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(se(vd))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})(),k1=new de(""),Z8="XSRF-TOKEN",J8=new de("",{providedIn:"root",factory:()=>Z8}),Q8="X-XSRF-TOKEN",eG=new de("",{providedIn:"root",factory:()=>Q8}),R_=class{},tG=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=T_(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(se(or),se(Ss),se(J8))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})();function nG(e,t){let n=e.url.toLowerCase();if(!W(k1)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=W(R_).getToken(),i=W(eG);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var F1=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(F1||{});function rG(e,t){return{\u0275kind:e,\u0275providers:t}}function rC(...e){let t=[si,N1,w1,{provide:zp,useExisting:w1},{provide:N_,useFactory:()=>W(Y8,{optional:!0})??W(N1)},{provide:nC,useValue:nG,multi:!0},{provide:k1,useValue:!0},{provide:R_,useClass:tG}];for(let n of e)t.push(...n.\u0275providers);return ko(t)}var A1=new de("");function iG(){return rG(F1.LegacyInterceptors,[{provide:A1,useFactory:W8},{provide:nC,useExisting:A1,multi:!0}])}var Oa=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=so({type:e});static \u0275inj=no({providers:[rC(iG())]})}return e})();var oC=class extends D_{supportsDOMEvents=!0},sC=class e extends oC{static makeCurrent(){a1(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=oG();return n==null?null:sG(n)}resetBaseElement(){qp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return T_(document.cookie,t)}},qp=null;function oG(){return qp=qp||document.querySelector("base"),qp?qp.getAttribute("href"):null}function sG(e){return new URL(e,document.baseURI).pathname}var aG=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})(),aC=new de(""),H1=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ge(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(se(aC),se(Rt))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})(),P_=class{_doc;constructor(t){this._doc=t}manager},M_="ng-app-id";function L1(e){for(let t of e)t.remove()}function U1(e,t){let n=t.createElement("style");return n.textContent=e,n}function cG(e,t,n,r){let i=e.head?.querySelectorAll(`style[${M_}="${t}"],link[${M_}="${t}"]`);if(i)for(let o of i)o.removeAttribute(M_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function cC(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Y1=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=XT(o),cG(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,U1);r?.forEach(i=>this.addUsage(i,this.external,cC))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(L1(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])L1(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,U1(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,cC(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(M_,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(se(or),se(rT),se(oT,8),se(Ss))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})(),iC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lC=/%COMP%/g;var $1="%COMP%",uG=`_nghost-${$1}`,lG=`_ngcontent-${$1}`,dG=!0,fG=new de("",{providedIn:"root",factory:()=>dG});function pG(e){return lG.replace(lC,e)}function hG(e){return uG.replace(lC,e)}function G1(e,t){return t.map(n=>n.replace(lC,e))}var V1=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=XT(a),this.defaultRenderer=new Kp(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mo.ShadowDom&&(r=We(te({},r),{encapsulation:Mo.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof O_?i.applyToHost(n):i instanceof Xp&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Mo.Emulated:o=new O_(c,u,r,this.appId,l,s,a,d,p);break;case Mo.ShadowDom:return new uC(c,u,n,r,s,a,this.nonce,d,p);default:o=new Xp(c,u,r,l,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(se(H1),se(Y1),se(rT),se(fG),se(or),se(Ss),se(Rt),se(oT),se(hd,8))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})(),Kp=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(iC[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(j1(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(j1(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new ge(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=iC[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=iC[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Po.DashCase|Po.Important)?t.style.setProperty(n,r,i&Po.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Po.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=ws().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function j1(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var uC=class extends Kp{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,u){super(t,o,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=i.styles;l=G1(i.id,l);for(let p of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=cC(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xp=class extends Kp{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,u){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?G1(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},O_=class extends Xp{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,u){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,u,l),this.contentAttr=pG(l),this.hostAttr=hG(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},gG=(()=>{class e extends P_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(se(or))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})(),B1=["alt","control","meta","shift"],mG={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},_G=(()=>{class e extends P_{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ws().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),B1.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=mG[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),B1.forEach(s=>{if(s!==i){let a=vG[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(se(or))};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})();function z1(e,t){return XO(te({rootComponent:e},yG(t)))}function yG(e){return{appProviders:[...TG,...e?.providers??[]],platformProviders:SG}}function EG(){sC.makeCurrent()}function DG(){return new to}function IG(){return UP(document),document}var SG=[{provide:Ss,useValue:y1},{provide:iT,useValue:EG,multi:!0},{provide:or,useFactory:IG,deps:[]}];var TG=[{provide:$v,useValue:"root"},{provide:to,useFactory:DG,deps:[]},{provide:aC,useClass:gG,multi:!0,deps:[or]},{provide:aC,useClass:_G,multi:!0,deps:[or]},V1,Y1,H1,{provide:ud,useExisting:V1},{provide:vd,useClass:aG,deps:[]},[]];var W1=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(se(or))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xe="primary",dh=Symbol("RouteTitle"),gC=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Cd(e){return new gC(e)}function bG(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function wG(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Lo(e[n],t[n]))return!1;return!0}function Lo(e,t){let n=e?mC(e):void 0,r=t?mC(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!rk(e[i],t[i]))return!1;return!0}function mC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function rk(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function ik(e){return e.length>0?e[e.length-1]:null}function La(e){return S0(e)?e:Aa(e)?Ht(Promise.resolve(e)):Ae(e)}var NG={exact:sk,subset:ak},ok={exact:AG,subset:xG,ignored:()=>!0};function q1(e,t,n){return NG[n.paths](e.root,t.root,n.matrixParams)&&ok[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function AG(e,t){return Lo(e,t)}function sk(e,t,n){if(!vu(e.segments,t.segments)||!L_(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!sk(e.children[r],t.children[r],n))return!1;return!0}function xG(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>rk(e[n],t[n]))}function ak(e,t,n){return ck(e,t,t.segments,n)}function ck(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!vu(i,n)||t.hasChildren()||!L_(i,n,r))}else if(e.segments.length===n.length){if(!vu(e.segments,n)||!L_(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!ak(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!vu(e.segments,i)||!L_(e.segments,i,r)||!e.children[Xe]?!1:ck(e.children[Xe],t,o,r)}}function L_(e,t,n){return t.every((r,i)=>ok[n](e[i].parameters,r.parameters))}var Ms=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Dt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cd(this.queryParams),this._queryParamMap}toString(){return PG.serialize(this)}},Dt=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return U_(this)}},mu=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Cd(this.parameters),this._parameterMap}toString(){return lk(this)}};function RG(e,t){return vu(e,t)&&e.every((n,r)=>Lo(n.parameters,t[r].parameters))}function vu(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function MG(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(t(i,r)))}),n}var fh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:()=>new bd,providedIn:"root"})}return e})(),bd=class{parse(t){let n=new _C(t);return new Ms(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Zp(t.root,!0)}`,r=FG(t.queryParams),i=typeof t.fragment=="string"?`#${OG(t.fragment)}`:"";return`${n}${r}${i}`}},PG=new bd;function U_(e){return e.segments.map(t=>lk(t)).join("/")}function Zp(e,t){if(!e.hasChildren())return U_(e);if(t){let n=e.children[Xe]?Zp(e.children[Xe],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Xe&&r.push(`${i}:${Zp(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=MG(e,(r,i)=>i===Xe?[Zp(e.children[Xe],!1)]:[`${i}:${Zp(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Xe]!=null?`${U_(e)}/${n[0]}`:`${U_(e)}/(${n.join("//")})`}}function uk(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function k_(e){return uk(e).replace(/%3B/gi,";")}function OG(e){return encodeURI(e)}function vC(e){return uk(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V_(e){return decodeURIComponent(e)}function K1(e){return V_(e.replace(/\+/g,"%20"))}function lk(e){return`${vC(e.path)}${kG(e.parameters)}`}function kG(e){return Object.entries(e).map(([t,n])=>`;${vC(t)}=${vC(n)}`).join("")}function FG(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${k_(n)}=${k_(i)}`).join("&"):`${k_(n)}=${k_(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var LG=/^[^\/()?;#]+/;function dC(e){let t=e.match(LG);return t?t[0]:""}var UG=/^[^\/()?;=#]+/;function VG(e){let t=e.match(UG);return t?t[0]:""}var jG=/^[^=?&#]+/;function BG(e){let t=e.match(jG);return t?t[0]:""}var HG=/^[^&#]+/;function YG(e){let t=e.match(HG);return t?t[0]:""}var _C=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Xe]=new Dt(t,n)),r}parseSegment(){let t=dC(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ge(4009,!1);return this.capture(t),new mu(V_(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=VG(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=dC(this.remaining);i&&(r=i,this.capture(r))}t[V_(n)]=V_(r)}parseQueryParam(t){let n=BG(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=YG(this.remaining);s&&(r=s,this.capture(r))}let i=K1(n),o=K1(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=dC(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ge(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Xe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Xe]:new Dt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ge(4011,!1)}};function dk(e){return e.segments.length>0?new Dt([],{[Xe]:e}):e}function fk(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=fk(i);if(r===Xe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Dt(e.segments,t);return $G(n)}function $G(e){if(e.numberOfChildren===1&&e.children[Xe]){let t=e.children[Xe];return new Dt(e.segments.concat(t.segments),t.children)}return e}function _u(e){return e instanceof Ms}function GG(e,t,n=null,r=null){let i=pk(e);return hk(i,t,n,r)}function pk(e){let t;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new Dt(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=dk(r);return t??i}function hk(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return fC(i,i,i,n,r);let o=zG(t);if(o.toRoot())return fC(i,i,new Dt([],{}),n,r);let s=WG(o,i,e),a=s.processChildren?Qp(s.segmentGroup,s.index,o.commands):mk(s.segmentGroup,s.index,o.commands);return fC(i,s.segmentGroup,a,n,r)}function j_(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function nh(e){return typeof e=="object"&&e!=null&&e.outlets}function fC(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===t?s=n:s=gk(e,t,n);let a=dk(fk(s));return new Ms(a,o,i)}function gk(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=gk(o,t,n)}),new Dt(e.segments,r)}var B_=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&j_(r[0]))throw new ge(4003,!1);let i=r.find(nh);if(i&&i!==ik(r))throw new ge(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zG(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new B_(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new B_(n,t,r)}var Id=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function WG(e,t,n){if(e.isAbsolute)return new Id(t,!0,0);if(!n)return new Id(t,!1,NaN);if(n.parent===null)return new Id(n,!0,0);let r=j_(e.commands[0])?0:1,i=n.segments.length-1+r;return qG(n,i,e.numberOfDoubleDots)}function qG(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ge(4005,!1);i=r.segments.length}return new Id(r,!1,i-o)}function KG(e){return nh(e[0])?e[0].outlets:{[Xe]:e}}function mk(e,t,n){if(e??=new Dt([],{}),e.segments.length===0&&e.hasChildren())return Qp(e,t,n);let r=XG(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Dt(e.segments.slice(0,r.pathIndex),{});return o.children[Xe]=new Dt(e.segments.slice(r.pathIndex),e.children),Qp(o,0,i)}else return r.match&&i.length===0?new Dt(e.segments,{}):r.match&&!e.hasChildren()?yC(e,t,n):r.match?Qp(e,0,i):yC(e,t,n)}function Qp(e,t,n){if(n.length===0)return new Dt(e.segments,{});{let r=KG(n),i={};if(Object.keys(r).some(o=>o!==Xe)&&e.children[Xe]&&e.numberOfChildren===1&&e.children[Xe].segments.length===0){let o=Qp(e.children[Xe],t,n);return new Dt(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=mk(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Dt(e.segments,i)}}function XG(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(nh(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Z1(c,u,s))return o;r+=2}else{if(!Z1(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yC(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(nh(o)){let c=ZG(o.outlets);return new Dt(r,c)}if(i===0&&j_(n[0])){let c=e.segments[t];r.push(new mu(c.path,X1(n[0]))),i++;continue}let s=nh(o)?o.outlets[Xe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&j_(a)?(r.push(new mu(s,X1(a))),i+=2):(r.push(new mu(s,{})),i++)}return new Dt(r,{})}function ZG(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=yC(new Dt([],{}),0,r))}),t}function X1(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Z1(e,t,n){return e==n.path&&Lo(t,n.parameters)}var eh="imperative",Fn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Fn||{}),ki=class{id;url;constructor(t,n){this.id=t,this.url=n}},wd=class extends ki{type=Fn.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Uo=class extends ki{urlAfterRedirects;type=Fn.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ci=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ci||{}),H_=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(H_||{}),Rs=class extends ki{reason;code;type=Fn.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ka=class extends ki{reason;code;type=Fn.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},rh=class extends ki{error;target;type=Fn.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Y_=class extends ki{urlAfterRedirects;state;type=Fn.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},EC=class extends ki{urlAfterRedirects;state;type=Fn.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},DC=class extends ki{urlAfterRedirects;state;shouldActivate;type=Fn.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},IC=class extends ki{urlAfterRedirects;state;type=Fn.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ih=class extends ki{urlAfterRedirects;state;type=Fn.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},SC=class{route;type=Fn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},TC=class{route;type=Fn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},CC=class{snapshot;type=Fn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bC=class{snapshot;type=Fn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wC=class{snapshot;type=Fn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},NC=class{snapshot;type=Fn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$_=class{routerEvent;position;anchor;type=Fn.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},oh=class{},Nd=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function JG(e,t){return e.providers&&!e._injector&&(e._injector=a_(e.providers,t,`Route: ${e.path}`)),e._injector??t}function uo(e){return e.outlet||Xe}function QG(e,t){let n=e.filter(r=>uo(r)===t);return n.push(...e.filter(r=>uo(r)!==t)),n}function ph(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var AC=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ph(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new hh(this.rootInjector)}},hh=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new AC(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(se(ir))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),G_=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=xC(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=xC(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=RC(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return RC(t,this._root).map(n=>n.value)}};function xC(e,t){if(e===t.value)return t;for(let n of t.children){let r=xC(e,n);if(r)return r}return null}function RC(e,t){if(e===t.value)return[t];for(let n of t.children){let r=RC(e,n);if(r.length)return r.unshift(t),r}return[]}var ai=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Dd(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var z_=class extends G_{snapshot;constructor(t,n){super(t),this.snapshot=n,jC(this,t)}toString(){return this.snapshot.toString()}};function vk(e){let t=ez(e),n=new wt([new mu("",{})]),r=new wt({}),i=new wt({}),o=new wt({}),s=new wt(""),a=new Fa(n,r,o,s,i,Xe,e,t.root);return a.snapshot=t.root,new z_(new ai(a,[]),t)}function ez(e){let t={},n={},r={},i="",o=new Sd([],t,r,i,n,Xe,e,null,{});return new q_("",new ai(o,[]))}var Fa=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($e(u=>u[dh]))??Ae(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($e(t=>Cd(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($e(t=>Cd(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function W_(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:te(te({},t.params),e.params),data:te(te({},t.data),e.data),resolve:te(te(te(te({},e.data),t.data),i?.data),e._resolvedData)}:r={params:te({},e.params),data:te({},e.data),resolve:te(te({},e.data),e._resolvedData??{})},i&&yk(i)&&(r.resolve[dh]=i.title),r}var Sd=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[dh]}constructor(t,n,r,i,o,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cd(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},q_=class extends G_{url;constructor(t,n){super(n),this.url=t,jC(this,n)}toString(){return _k(this._root)}};function jC(e,t){t.value._routerState=e,t.children.forEach(n=>jC(e,n))}function _k(e){let t=e.children.length>0?` { ${e.children.map(_k).join(", ")} } `:"";return`${e.value}${t}`}function pC(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Lo(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Lo(t.params,n.params)||e.paramsSubject.next(n.params),wG(t.url,n.url)||e.urlSubject.next(n.url),Lo(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function MC(e,t){let n=Lo(e.params,t.params)&&RG(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||MC(e.parent,t.parent))}function yk(e){return typeof e.title=="string"||e.title===null}var tz=new de(""),BC=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Xe;activateEvents=new Xt;deactivateEvents=new Xt;attachEvents=new Xt;detachEvents=new Xt;routerOutletData=xP(void 0);parentContexts=W(hh);location=W(md);changeDetector=W(Ra);inputBinder=W(J_,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ge(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ge(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ge(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ge(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new PC(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Br({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Es]})}return e})(),PC=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Fa?this.route:t===hh?this.childContexts:t===tz?this.outletData:this.parent.get(t,n)}},J_=new de(""),J1=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Tp([r.queryParams,r.params,r.data]).pipe($n(([o,s,a],c)=>(a=te(te(te({},o),s),a),c===0?Ae(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=ZO(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})();function nz(e,t,n){let r=sh(e,t._root,n?n._root:void 0);return new z_(r,t)}function sh(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=rz(e,t,n);return new ai(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>sh(e,a)),s}}let r=iz(t.value),i=t.children.map(o=>sh(e,o));return new ai(r,i)}}function rz(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return sh(e,r,i);return sh(e,r)})}function iz(e){return new Fa(new wt(e.url),new wt(e.params),new wt(e.queryParams),new wt(e.fragment),new wt(e.data),e.outlet,e.component,e)}var ah=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Ek="ngNavigationCancelingError";function K_(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=_u(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Dk(!1,ci.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Dk(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Ek]=!0,n.cancellationCode=t,n}function oz(e){return Ik(e)&&_u(e.url)}function Ik(e){return!!e&&e[Ek]}var sz=(e,t,n,r)=>$e(i=>(new OC(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),OC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),pC(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Dd(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Dd(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Dd(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Dd(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new NC(o.value.snapshot))}),t.children.length&&this.forwardEvent(new bC(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(pC(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pC(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},X_=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Td=class{component;route;constructor(t,n){this.component=t,this.route=n}};function az(e,t,n){let r=e._root,i=t?t._root:null;return Jp(r,i,n,[r.value])}function cz(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function xd(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!bM(e)?e:t.get(e):r}function Jp(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Dd(t);return e.children.forEach(s=>{uz(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>th(a,n.getContext(s),i)),i}function uz(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=lz(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new X_(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Jp(e,t,a?a.children:null,r,i):Jp(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Td(a.outlet.component,s))}else s&&th(t,a,i),i.canActivateChecks.push(new X_(r)),o.component?Jp(e,null,a?a.children:null,r,i):Jp(e,null,n,r,i);return i}function lz(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!vu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!vu(e.url,t.url)||!Lo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!MC(e,t)||!Lo(e.queryParams,t.queryParams);case"paramsChange":default:return!MC(e,t)}}function th(e,t,n){let r=Dd(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?th(s,t.children.getContext(o),n):th(s,null,n):th(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Td(t.outlet.component,i)):n.canDeactivateChecks.push(new Td(null,i)):n.canDeactivateChecks.push(new Td(null,i))}function gh(e){return typeof e=="function"}function dz(e){return typeof e=="boolean"}function fz(e){return e&&gh(e.canLoad)}function pz(e){return e&&gh(e.canActivate)}function hz(e){return e&&gh(e.canActivateChild)}function gz(e){return e&&gh(e.canDeactivate)}function mz(e){return e&&gh(e.canMatch)}function Sk(e){return e instanceof Zi||e?.name==="EmptyError"}var F_=Symbol("INITIAL_VALUE");function Ad(){return $n(e=>Tp(e.map(t=>t.pipe(_r(1),A0(F_)))).pipe($e(t=>{for(let n of t)if(n!==!0){if(n===F_)return F_;if(n===!1||vz(n))return n}return!0}),hn(t=>t!==F_),_r(1)))}function vz(e){return _u(e)||e instanceof ah}function _z(e,t){return pn(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Ae(We(te({},n),{guardsResult:!0})):yz(s,r,i,e).pipe(pn(a=>a&&dz(a)?Ez(r,o,e,t):Ae(a)),$e(a=>We(te({},n),{guardsResult:a})))})}function yz(e,t,n,r){return Ht(e).pipe(pn(i=>Cz(i.component,i.route,n,t,r)),fs(i=>i!==!0,!0))}function Ez(e,t,n,r){return Ht(t).pipe(ds(i=>Gl(Iz(i.route.parent,r),Dz(i.route,r),Tz(e,i.path,n),Sz(e,i.route,n))),fs(i=>i!==!0,!0))}function Dz(e,t){return e!==null&&t&&t(new wC(e)),Ae(!0)}function Iz(e,t){return e!==null&&t&&t(new CC(e)),Ae(!0)}function Sz(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Ae(!0);let i=r.map(o=>iv(()=>{let s=ph(t)??n,a=xd(o,s),c=pz(a)?a.canActivate(t,e):Ir(s,()=>a(t,e));return La(c).pipe(fs())}));return Ae(i).pipe(Ad())}function Tz(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>cz(s)).filter(s=>s!==null).map(s=>iv(()=>{let a=s.guards.map(c=>{let u=ph(s.node)??n,l=xd(c,u),d=hz(l)?l.canActivateChild(r,e):Ir(u,()=>l(r,e));return La(d).pipe(fs())});return Ae(a).pipe(Ad())}));return Ae(o).pipe(Ad())}function Cz(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ae(!0);let s=o.map(a=>{let c=ph(t)??i,u=xd(a,c),l=gz(u)?u.canDeactivate(e,t,n,r):Ir(c,()=>u(e,t,n,r));return La(l).pipe(fs())});return Ae(s).pipe(Ad())}function bz(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return Ae(!0);let o=i.map(s=>{let a=xd(s,e),c=fz(a)?a.canLoad(t,n):Ir(e,()=>a(t,n));return La(c)});return Ae(o).pipe(Ad(),Tk(r))}function Tk(e){return m0(St(t=>{if(typeof t!="boolean")throw K_(e,t)}),$e(t=>t===!0))}function wz(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return Ae(!0);let o=i.map(s=>{let a=xd(s,e),c=mz(a)?a.canMatch(t,n):Ir(e,()=>a(t,n));return La(c)});return Ae(o).pipe(Ad(),Tk(r))}var ch=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},uh=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Ed(e){return wo(new ch(e))}function Nz(e){return wo(new ge(4e3,!1))}function Az(e){return wo(Dk(!1,ci.GuardRejected))}var kC=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Ae(r);if(i.numberOfChildren>1||!i.children[Xe])return Nz(`${t.redirectTo}`);i=i.children[Xe]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:l,url:d,outlet:p,params:f,data:h,title:g}=i,m=Ir(o,()=>a({params:f,data:h,queryParams:c,fragment:u,routeConfig:l,url:d,outlet:p,title:g}));if(m instanceof Ms)throw new uh(m);n=m}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new uh(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Ms(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Dt(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new ge(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},FC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xz(e,t,n,r,i){let o=Ck(e,t,n);return o.matched?(r=JG(t,r),wz(r,t,n,i).pipe($e(s=>s===!0?o:te({},FC)))):Ae(o)}function Ck(e,t,n){if(t.path==="**")return Rz(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?te({},FC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||bG)(n,e,t);if(!i)return te({},FC);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?te(te({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Rz(e){return{matched:!0,parameters:e.length>0?ik(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Q1(e,t,n,r){return n.length>0&&Oz(e,n,r)?{segmentGroup:new Dt(t,Pz(r,new Dt(n,e.children))),slicedSegments:[]}:n.length===0&&kz(e,n,r)?{segmentGroup:new Dt(e.segments,Mz(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Dt(e.segments,e.children),slicedSegments:n}}function Mz(e,t,n,r){let i={};for(let o of n)if(Q_(e,t,o)&&!r[uo(o)]){let s=new Dt([],{});i[uo(o)]=s}return te(te({},r),i)}function Pz(e,t){let n={};n[Xe]=t;for(let r of e)if(r.path===""&&uo(r)!==Xe){let i=new Dt([],{});n[uo(r)]=i}return n}function Oz(e,t,n){return n.some(r=>Q_(e,t,r)&&uo(r)!==Xe)}function kz(e,t,n){return n.some(r=>Q_(e,t,r))}function Q_(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Fz(e,t,n){return t.length===0&&!e.children[n]}var LC=class{};function Lz(e,t,n,r,i,o,s="emptyOnly"){return new UC(e,t,n,r,i,s,o).recognize()}var Uz=31,UC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new kC(this.urlSerializer,this.urlTree)}noMatchError(t){return new ge(4002,`'${t.segmentGroup}'`)}recognize(){let t=Q1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe($e(({children:n,rootSnapshot:r})=>{let i=new ai(r,n),o=new q_("",i),s=GG(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Sd([],Object.freeze({}),Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Xe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Xe,n).pipe($e(r=>({children:r,rootSnapshot:n})),Lt(r=>{if(r instanceof uh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ch?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe($e(s=>s instanceof ai?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ht(o).pipe(ds(s=>{let a=r.children[s],c=QG(n,s);return this.processSegmentGroup(t,c,a,s,i)}),N0((s,a)=>(s.push(...a),s)),ya(null),w0(),pn(s=>{if(s===null)return Ed(r);let a=bk(s);return Vz(a),Ae(a)}))}processSegment(t,n,r,i,o,s,a){return Ht(n).pipe(ds(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(Lt(u=>{if(u instanceof ch)return Ae(null);throw u}))),fs(c=>!!c),Lt(c=>{if(Sk(c))return Fz(r,i,o)?Ae(new LC):Ed(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return uo(r)!==s&&(s===Xe||!Q_(i,o,r))?Ed(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):Ed(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:p}=Ck(n,i,o);if(!c)return Ed(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Uz&&(this.allowRedirects=!1));let f=new Sd(o,u,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,ek(i),uo(i),i.component??i._loadedComponent??null,i,tk(i)),h=W_(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(h.params),f.data=Object.freeze(h.data);let g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(pn(m=>this.processSegment(t,r,n,m.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=xz(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe($n(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe($n(({routes:u})=>{let l=r._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:f}=c,h=new Sd(p,d,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,ek(r),uo(r),r.component??r._loadedComponent??null,r,tk(r)),g=W_(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:_}=Q1(n,p,f,u);if(_.length===0&&m.hasChildren())return this.processChildren(l,u,m,h).pipe($e(w=>new ai(h,w)));if(u.length===0&&_.length===0)return Ae(new ai(h,[]));let E=uo(r)===o;return this.processSegment(l,u,m,_,E?Xe:o,!0,h).pipe($e(w=>new ai(h,w instanceof ai?[w]:[])))}))):Ed(n)))}getChildConfig(t,n,r){return n.children?Ae({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Ae({routes:n._loadedRoutes,injector:n._loadedInjector}):bz(t,n,r,this.urlSerializer).pipe(pn(i=>i?this.configLoader.loadChildren(t,n).pipe(St(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Az(n))):Ae({routes:[],injector:t})}};function Vz(e){e.sort((t,n)=>t.value.outlet===Xe?-1:n.value.outlet===Xe?1:t.value.outlet.localeCompare(n.value.outlet))}function jz(e){let t=e.value.routeConfig;return t&&t.path===""}function bk(e){let t=[],n=new Set;for(let r of e){if(!jz(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=bk(r.children);t.push(new ai(r.value,i))}return t.filter(r=>!n.has(r))}function ek(e){return e.data||{}}function tk(e){return e.resolve||{}}function Bz(e,t,n,r,i,o){return pn(s=>Lz(e,t,n,r,s.extractedUrl,i,o).pipe($e(({state:a,tree:c})=>We(te({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Hz(e,t){return pn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ae(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of wk(c))s.add(u);let a=0;return Ht(s).pipe(ds(c=>o.has(c)?Yz(c,r,e,t):(c.data=W_(c,c.parent,e).resolve,Ae(void 0))),St(()=>a++),zl(1),pn(c=>a===s.size?Ae(n):rr))})}function wk(e){let t=e.children.map(n=>wk(n)).flat();return[e,...t]}function Yz(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!yk(i)&&(o[dh]=i.title),$z(o,e,t,r).pipe($e(s=>(e._resolvedData=s,e.data=W_(e,e.parent,n).resolve,null)))}function $z(e,t,n,r){let i=mC(e);if(i.length===0)return Ae({});let o={};return Ht(i).pipe(pn(s=>Gz(e[s],t,n,r).pipe(fs(),St(a=>{if(a instanceof ah)throw K_(new bd,a);o[s]=a}))),zl(1),$e(()=>o),Lt(s=>Sk(s)?rr:wo(s)))}function Gz(e,t,n,r){let i=ph(t)??r,o=xd(e,i),s=o.resolve?o.resolve(t,n):Ir(i,()=>o(t,n));return La(s)}function hC(e){return $n(t=>{let n=e(t);return n?Ht(n).pipe($e(()=>t)):Ae(t)})}var Nk=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Xe);return r}getResolvedTitleForRoute(n){return n.data[dh]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:()=>W(zz),providedIn:"root"})}return e})(),zz=(()=>{class e extends Nk{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(se(W1))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mh=new de("",{providedIn:"root",factory:()=>({})}),Wz=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ut({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&be(0,"router-outlet")},dependencies:[BC],encapsulation:2})}return e})();function HC(e){let t=e.children&&e.children.map(HC),n=t?We(te({},e),{children:t}):te({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=Wz),n}var lh=new de(""),YC=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=W(l_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=La(n.loadComponent()).pipe($e(Ak),St(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Fr(()=>{this.componentLoaders.delete(n)})),i=new jl(r,()=>new Nn).pipe(Vl());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qz(r,this.compiler,n,this.onLoadEndListener).pipe(Fr(()=>{this.childrenLoaders.delete(r)})),s=new jl(o,()=>new Nn).pipe(Vl());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qz(e,t,n,r){return La(e.loadChildren()).pipe($e(Ak),pn(i=>i instanceof Pp||Array.isArray(i)?Ae(i):Ht(t.compileModuleAsync(i))),$e(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(lh,[],{optional:!0,self:!0}).flat()),{routes:s.map(HC),injector:o}}))}function Kz(e){return e&&typeof e=="object"&&"default"in e}function Ak(e){return Kz(e)?e.default:e}var $C=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:()=>W(Xz),providedIn:"root"})}return e})(),Xz=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xk=new de(""),Rk=new de("");function Zz(e,t,n){let r=e.get(Rk),i=e.get(or);return e.get(Rt).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),Jz(e))),{onViewTransitionCreated:c}=r;return c&&Ir(e,()=>c({transition:a,from:t,to:n})),s})}function Jz(e){return new Promise(t=>{aT({read:()=>setTimeout(t)},{injector:e})})}var Mk=new de(""),GC=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Nn;transitionAbortSubject=new Nn;configLoader=W(YC);environmentInjector=W(ir);destroyRef=W(Vp);urlSerializer=W(fh);rootContexts=W(hh);location=W(_d);inputBindingEnabled=W(J_,{optional:!0})!==null;titleStrategy=W(Nk);options=W(mh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=W($C);createViewTransition=W(xk,{optional:!0});navigationErrorHandler=W(Mk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ae(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new SC(i)),r=i=>this.events.next(new TC(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(We(te(te({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new wt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:eh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hn(o=>o.id!==0),$e(o=>We(te({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$n(o=>{let s=!1,a=!1;return Ae(o).pipe($n(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ci.SupersededByNewNavigation),rr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?We(te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload"){let d="";return this.events.next(new ka(c.id,this.urlSerializer.serialize(c.rawUrl),d,H_.IgnoredSameUrlNavigation)),c.resolve(!1),rr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ae(c).pipe($n(d=>{let p=this.transitions?.getValue();return this.events.next(new wd(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?rr:Promise.resolve(d)}),Bz(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),St(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=We(te({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new Y_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:p,source:f,restoredState:h,extras:g}=c,m=new wd(d,this.urlSerializer.serialize(p),f,h);this.events.next(m);let _=vk(this.rootComponentType).snapshot;return this.currentTransition=o=We(te({},c),{targetSnapshot:_,urlAfterRedirects:p,extras:We(te({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,Ae(o)}else{let d="";return this.events.next(new ka(c.id,this.urlSerializer.serialize(c.extractedUrl),d,H_.IgnoredByUrlHandlingStrategy)),c.resolve(!1),rr}}),St(c=>{let u=new EC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),$e(c=>(this.currentTransition=o=We(te({},c),{guards:az(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),_z(this.environmentInjector,c=>this.events.next(c)),St(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw K_(this.urlSerializer,c.guardsResult);let u=new DC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),hn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ci.GuardRejected),!1)),hC(c=>{if(c.guards.canActivateChecks.length)return Ae(c).pipe(St(u=>{let l=new IC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),$n(u=>{let l=!1;return Ae(u).pipe(Hz(this.paramsInheritanceStrategy,this.environmentInjector),St({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",ci.NoDataFromResolver)}}))}),St(u=>{let l=new ih(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),hC(c=>{let u=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(St(p=>{l.component=p}),$e(()=>{})));for(let p of l.children)d.push(...u(p));return d};return Tp(u(c.targetSnapshot.root)).pipe(ya(null),_r(1))}),hC(()=>this.afterPreactivation()),$n(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?Ht(l).pipe($e(()=>o)):Ae(o)}),$e(c=>{let u=nz(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=We(te({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),St(()=>{this.events.next(new oh)}),sz(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),_r(1),St({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Uo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),x0(this.transitionAbortSubject.pipe(St(c=>{throw c}))),Fr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ci.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lt(c=>{if(this.destroyed)return o.resolve(!1),rr;if(a=!0,Ik(c))this.events.next(new Rs(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),oz(c)?this.events.next(new Nd(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new rh(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let l=Ir(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof ah){let{message:d,cancellationCode:p}=K_(this.urlSerializer,l);this.events.next(new Rs(o.id,this.urlSerializer.serialize(o.extractedUrl),d,p)),this.events.next(new Nd(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),c}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return rr}))}))}cancelNavigationTransition(n,r,i){let o=new Rs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qz(e){return e!==eh}var e6=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:()=>W(t6),providedIn:"root"})}return e})(),VC=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},t6=(()=>{class e extends VC{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Up(e)))(i||e)}})();static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pk=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:()=>W(n6),providedIn:"root"})}return e})(),n6=(()=>{class e extends Pk{location=W(_d);urlSerializer=W(fh);options=W(mh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=W($C);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ms;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=vk(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof wd)this.stateMemento=this.createStateMemento();else if(n instanceof ka)this.rawUrlTree=r.initialUrl;else if(n instanceof Y_){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof oh?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Rs&&(n.code===ci.GuardRejected||n.code===ci.NoDataFromResolver)?this.restoreHistory(r):n instanceof rh?this.restoreHistory(r,!0):n instanceof Uo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Ms?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=te(te({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=te(te({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Up(e)))(i||e)}})();static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ok(e,t){e.events.pipe(hn(n=>n instanceof Uo||n instanceof Rs||n instanceof rh||n instanceof ka),$e(n=>n instanceof Uo||n instanceof ka?0:(n instanceof Rs?n.code===ci.Redirect||n.code===ci.SupersededByNewNavigation:!1)?2:1),hn(n=>n!==2),_r(1)).subscribe(()=>{t()})}var r6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=W(bT);stateManager=W(Pk);options=W(mh,{optional:!0})||{};pendingTasks=W(Ds);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=W(GC);urlSerializer=W(fh);location=W(_d);urlHandlingStrategy=W($C);_events=new Nn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=W(e6);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=W(lh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!W(J_,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new bt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rs&&r.code!==ci.Redirect&&r.code!==ci.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Uo)this.navigated=!0;else if(r instanceof Nd){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=te({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Qz(i.source)},s);this.scheduleNavigation(a,eh,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}s6(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=te({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(HC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=te(te({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=pk(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return hk(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=_u(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,eh,null,r)}navigate(n,r={skipLocationChange:!1}){return o6(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=te({},r6):r===!1?i=te({},i6):i=r,_u(n))return q1(this.currentUrlTree,n,i);let o=this.parseUrl(n);return q1(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,p)=>{a=d,c=p});let l=this.pendingTasks.add();return Ok(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function o6(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new ge(4008,!1)}function s6(e){return!(e instanceof oh)&&!(e instanceof Nd)}var kk=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Nn;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Uo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_u(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:$P(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:_u(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(oe(zt),oe(Fa),eT("tabindex"),oe(Na),oe(Is),oe(Ns))};static \u0275dir=Br({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&u_("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gu],replaceUrl:[2,"replaceUrl","replaceUrl",gu],routerLink:"routerLink"},features:[TT,Es]})}return e})();var Z_=class{};var a6=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(hn(n=>n instanceof Uo),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=a_(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ht(i).pipe($l())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Ae(null);let o=i.pipe(pn(s=>s===null?Ae(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ht([o,s]).pipe($l())}else return o})}static \u0275fac=function(r){return new(r||e)(se(zt),se(l_),se(ir),se(Z_),se(YC))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fk=new de(""),c6=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Uo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ka&&n.code===H_.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $_&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $_(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){vO()};static \u0275prov=re({token:e,factory:e.\u0275fac})}return e})();function Lk(e,...t){return ko([{provide:lh,multi:!0,useValue:e},[],{provide:Fa,useFactory:Uk,deps:[zt]},{provide:Bp,multi:!0,useFactory:Vk},t.map(n=>n.\u0275providers)])}function Uk(e){return e.routerState.root}function vh(e,t){return{\u0275kind:e,\u0275providers:t}}function Vk(){let e=W(Gn);return t=>{let n=e.get(ms);if(t!==n.components[0])return;let r=e.get(zt),i=e.get(jk);e.get(zC)===1&&r.initialNavigation(),e.get(Bk,null,tt.Optional)?.setUpPreloading(),e.get(Fk,null,tt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jk=new de("",{factory:()=>new Nn}),zC=new de("",{providedIn:"root",factory:()=>1});function u6(){return vh(2,[{provide:zC,useValue:0},{provide:c_,multi:!0,deps:[Gn],useFactory:t=>{let n=t.get(c1,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=t.get(zt),o=t.get(jk);Ok(i,()=>{r(!0)}),t.get(GC).afterPreactivation=()=>(r(!0),o.closed?Ae(void 0):o),i.initialNavigation()}))}}])}function l6(){return vh(3,[{provide:c_,multi:!0,useFactory:()=>{let t=W(zt);return()=>{t.setUpLocationChangeListener()}}},{provide:zC,useValue:2}])}var Bk=new de("");function d6(e){return vh(0,[{provide:Bk,useExisting:a6},{provide:Z_,useExisting:e}])}function f6(){return vh(8,[J1,{provide:J_,useExisting:J1}])}function p6(e){let t=[{provide:xk,useValue:Zz},{provide:Rk,useValue:te({skipNextTransition:!!e?.skipInitialTransition},e)}];return vh(9,t)}var h6=[_d,{provide:fh,useClass:bd},zt,hh,{provide:Fa,useFactory:Uk,deps:[zt]},YC,[]],Hk=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[h6,[],{provide:lh,multi:!0,useValue:n},[],r?.errorHandler?{provide:Mk,useValue:r.errorHandler}:[],{provide:mh,useValue:r||{}},r?.useHash?m6():v6(),g6(),r?.preloadingStrategy?d6(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_6(r):[],r?.bindToComponentInputs?f6().\u0275providers:[],r?.enableViewTransitions?p6().\u0275providers:[],y6()]}}static forChild(n){return{ngModule:e,providers:[{provide:lh,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=so({type:e});static \u0275inj=no({})}return e})();function g6(){return{provide:Fk,useFactory:()=>{let e=W(E1),t=W(Rt),n=W(mh),r=W(GC),i=W(fh);return n.scrollOffset&&e.setOffset(n.scrollOffset),new c6(i,r,e,t,n)}}}function m6(){return{provide:Ns,useClass:l1}}function v6(){return{provide:Ns,useClass:qT}}function _6(e){return[e.initialNavigation==="disabled"?l6().\u0275providers:[],e.initialNavigation==="enabledBlocking"?u6().\u0275providers:[]]}var nk=new de("");function y6(){return[{provide:nk,useFactory:Vk},{provide:Bp,multi:!0,useExisting:nk}]}var It=class e{user=new wt(this.getStoredUser());user$=this.user.asObservable();constructor(){}isLoggedIn(){return!!this.user.value}setUser(t){let n={id:t.sub,name:t.name,email:t.email,photoURL:t.picture,idToken:t.credential||t.authentication?.idToken};localStorage.setItem("user",JSON.stringify(n)),this.user.next(n)}getAuthToken(){return this.user.value?.idToken||null}setFamilyId(t){let n=this.user.value;if(n){let r=We(te({},n),{familyId:t});localStorage.setItem("user",JSON.stringify(r)),this.user.next(r)}}getFamilyId(){return this.user.value?.familyId}getStoredUser(){let t=localStorage.getItem("user");return t?JSON.parse(t):null}logout(){localStorage.removeItem("user"),this.user.next(null)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};function E6(e,t){if(e&1){let n=Pt();T(0,"div",11)(1,"button",12),Le("click",function(){nt(n);let i=Ie(2);return rt(i.logout())}),N()()}}function D6(e,t){if(e&1){let n=Pt();T(0,"div",1)(1,"div",2),be(2,"div",3),N(),T(3,"h2",4),K(4,"AI Smart Cart"),N(),T(5,"div",5)(6,"button",6),Le("click",function(){nt(n);let i=Ie();return rt(i.logout())}),T(7,"div",7),Gt(),T(8,"svg",8),be(9,"path",9),N()()()(),st(10,E6,2,0,"div",10),Tr(11,"async"),N()}if(e&2){let n=t.ngIf,r=Ie();$(2),xa("background-image","url("+n.photoURL+")"),$(8),ae("ngIf",ri(11,3,r.user$))}}var ey=class e{constructor(t,n){this.authService=t;this.router=n}showUpdateNotification=!1;user$;ngOnInit(){this.user$=this.authService.user$}handleUpdate(){window.location.reload()}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||e)(oe(It),oe(zt))};static \u0275cmp=Ut({type:e,selectors:[["app-header"]],inputs:{showUpdateNotification:"showUpdateNotification"},decls:2,vars:3,consts:[["class","sticky top-0 z-50 bg-white   flex items-center bg-white p-4 pb-2 justify-between",4,"ngIf"],[1,"sticky","top-0","z-50","bg-white","flex","items-center","bg-white","p-4","pb-2","justify-between"],[1,"flex","size-12","shrink-0","items-center"],[1,"bg-center","bg-no-repeat","aspect-square","bg-cover","rounded-full","size-8"],[1,"text-[#111418]","text-lg","leading-tight","tracking-[-0.015em]","flex-1"],[1,"flex","w-12","items-center","justify-end"],[1,"flex","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-12","bg-transparent","text-[#111418]","gap-2","text-base","font-bold","leading-normal","tracking-[0.015em]","min-w-0","p-0",3,"click"],["data-icon","DoorOpen","data-size","24px","data-weight","regular",1,"text-[#111418]"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","fill","currentColor","viewBox","0 0 256 256"],["d","M232,216H208V40a16,16,0,0,0-16-16H64A16,16,0,0,0,48,40V216H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16ZM192,40V216H176V40ZM64,40h96V216H64Zm80,92a12,12,0,1,1-12-12A12,12,0,0,1,144,132Z"],["class","profile",4,"ngIf"],[1,"profile"],[1,"logout-button",3,"click"]],template:function(n,r){n&1&&(st(0,D6,12,5,"div",0),Tr(1,"async")),n&2&&ae("ngIf",ri(1,1,r.user$))},dependencies:[Yt,tn,C_],encapsulation:2})};var I6=e=>({transform:e}),S6=e=>({display:e});function T6(e,t){if(e&1){let n=Pt();T(0,"div",1)(1,"div",2),be(2,"div",3),T(3,"div",4)(4,"p",5),K(5,"New Update Available"),N(),T(6,"div",6)(7,"p",7),K(8,"Tap to download the latest version"),N(),T(9,"button",8),Le("click",function(){nt(n);let i=Ie();return rt(i.update())}),T(10,"span",9),K(11),N()()()()(),T(12,"div",10)(13,"div",11),Le("click",function(){nt(n);let i=Ie();return rt(i.toggleMinimize())}),T(14,"div",12)(15,"div",13),K(16," 1 "),N(),Gt(),T(17,"svg",14),be(18,"path",15),N()(),Wn(),T(19,"p",16),K(20),N()(),T(21,"div",17)(22,"button",18),Le("click",function(){nt(n);let i=Ie();return rt(i.hide())}),T(23,"span",9),K(24,"Hide"),N()()()()()}if(e&2){let n=Ie();An("minimized",n.isMinimized),ae("ngStyle",PT(7,I6,n.isMinimized?"translateY(calc(100% - 56px))":"translateY(0)")),$(),ae("ngStyle",PT(9,S6,n.isMinimized?"none":"flex")),$(8),ae("disabled",n.isLoading),$(2),Sr(n.isLoading?"Downloading...":"Download"),$(9),en(" ",n.isMinimized?"Maximize":"Minimize"," ")}}var ty=class e{isVisible=!1;isLoading=!1;isMinimized=!1;updateApp=new Xt;hideNotification=new Xt;update(){this.isLoading=!0,this.updateApp.emit()}toggleMinimize(){this.isMinimized=!this.isMinimized}hide(){this.isVisible=!1,this.hideNotification.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ut({type:e,selectors:[["app-update-notification"]],inputs:{isVisible:"isVisible"},outputs:{updateApp:"updateApp",hideNotification:"hideNotification"},decls:1,vars:1,consts:[["class","p-4 @container fixed bottom-0 left-0 w-full bg-white",3,"minimized","ngStyle",4,"ngIf"],[1,"p-4","@container","fixed","bottom-0","left-0","w-full","bg-white",3,"ngStyle"],[1,"flex","flex-col","items-stretch","justify-start","rounded-xl","@xl:flex-row","@xl:items-start","shadow-[0_0_4px_rgba(0,0,0,0.1)]","bg-white",3,"ngStyle"],[1,"w-full","bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl",2,"background-image",'url("https://cdn.usegalileo.ai/sdxl10/1cb8014d-d9f5-450b-bc14-79de6bfeb00c.png")'],[1,"flex","w-full","min-w-72","grow","flex-col","items-stretch","justify-center","gap-1","py-4","@xl:px-4","px-4"],[1,"text-[#111418]","text-lg","font-bold","leading-tight","tracking-[-0.015em]"],[1,"flex","items-end","gap-3","justify-between"],[1,"text-[#637588]","text-base","font-normal","leading-normal"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-8","px-4","bg-[#1980e6]","text-white","text-sm","font-medium","leading-normal",3,"click","disabled"],[1,"truncate"],[1,"flex","items-center","gap-4","bg-white","px-4","min-h-14","justify-between"],[1,"flex","items-center","gap-4","cursor-pointer",3,"click"],[1,"relative","flex","h-12","items-center","justify-center","rounded-full","p-2"],[1,"absolute","-top-2","-right-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-red-500","text-xs","text-white",2,"margin-top","2%","margin-left","11%"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","fill","currentColor","viewBox","0 0 256 256",1,"transition-colors","duration-200"],["d","M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"],[1,"text-[#111418]","text-base","font-normal","leading-normal","flex-1","truncate"],[1,"shrink-0"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-8","px-4","bg-[#f0f2f4]","text-[#111418]","text-sm","font-medium","leading-normal","w-fit",3,"click"]],template:function(n,r){n&1&&st(0,T6,25,11,"div",0),n&2&&ae("ngIf",r.isVisible)},dependencies:[Yt,tn,m1],styles:["[_nghost-%COMP%]{display:block}.minimized[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}"]})};var Fi={production:!1,googleClientId:"330943388161-nng1skva9rdl0ql4q0t3j19g1otuofcd.apps.googleusercontent.com",apiUrl:"https://ocr-function-ai-grocery-bxgke3bjaedhckaz.eastus-01.azurewebsites.net",appInsightsConnectionString:"InstrumentationKey=36b65ba4-443f-47dd-ba94-415258c773b6;IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/;ApplicationId=3f3a6717-033d-45a8-ab98-5e9ac10dd18d",firebase:{apiKey:"AIzaSyD_SddQTYHKggUkU6h7XmZ-Gc-_6mqFd-0",authDomain:"ai-grocery-a.firebaseapp.com",projectId:"ai-grocery-a",storageBucket:"ai-grocery-a.firebasestorage.app",messagingSenderId:"931057592777",appId:"1:931057592777:web:bf0ebd69542f8d2285a018",measurementId:"G-3HQM0R2S5J"}};function ks(e,t){return e||t}function br(e,t){return e[t]}var Yr=void 0,mn=null,cb="",uy="function",yh="object",Ps="prototype",sb="__proto__",Eu="undefined",oy="constructor",ub="Symbol",C6="_polyfill",Md="length",sy="name",qn="call",ly="toString",Li=ks(Object),lb=br(Li,Ps),qk=ks(String),Du=br(qk,Ps),b6=ks(Math),Kk=ks(Array),dy=br(Kk,Ps),Os=br(dy,"slice");function _n(e,t){try{return{v:e.apply(this,t)}}catch(n){return{e:n}}}function w6(e,t){var n=_n(e);return n.e?t:n.v}var WC;function fy(e){return function(t){return typeof t===e}}function Xk(e){var t="[object "+e+"]";return function(n){return!!(n&&py(n)===t)}}function py(e){return lb[ly].call(e)}function at(e){return typeof e===Eu||e===Eu}function N6(e){return!hy(e)}function k(e){return e===mn||at(e)}function A6(e){return e===mn||!hy(e)}function hy(e){return!!e||e!==Yr}function x6(e){return!WC&&(WC=["string","number","boolean",Eu,"symbol","bigint"]),e!==yh&&WC.indexOf(e)!==-1}var fe=fy("string"),me=fy(uy);function an(e){return!e&&k(e)?!1:!!e&&typeof e===yh}var Se=br(Kk,"isArray"),Zk=Xk("Date"),fo=fy("number"),Eh=fy("boolean");var Iu=Xk("Error");function di(e){return!!(e&&e.then&&me(e.then))}function Ua(e){return!(!e||w6(function(){return!(e&&0+e)},!e))}var gy=br(Li,"getOwnPropertyDescriptor");function sr(e,t){return!!e&&lb.hasOwnProperty[qn](e,t)}var po=ks(br(Li,"hasOwn"),R6);function R6(e,t){return sr(e,t)||!!gy(e,t)}function Te(e,t,n){if(e&&an(e)){for(var r in e)if(po(e,r)&&t[qn](n||e,r,e[r])===-1)break}}var ny={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function M6(e){var t={};if(t[ny.c]=!0,t[ny.e]=!0,e.l){t.get=function(){return e.l.v};var n=gy(e.l,"v");n&&n.set&&(t.set=function(r){e.l.v=r})}return Te(e,function(r,i){t[ny[r]]=N6(i)?t[ny[r]]:i}),t}var li=br(Li,"defineProperty"),Jk=br(Li,"defineProperties");function ke(e,t,n){return li(e,t,M6(n))}function Qk(e,t,n,r,i){var o={};return Te(e,function(s,a){ay(o,s,t?a:s),ay(o,a,n?a:s)}),r?r(o):o}function ay(e,t,n,r){li(e,t,{value:n,enumerable:!0,writable:!1})}var sn=ks(qk),P6="[object Error]";function Q(e,t){var n=cb,r=lb[ly][qn](e);r===P6&&(e={stack:sn(e.stack),message:sn(e.message),name:sn(e.name)});try{n=JSON.stringify(e,mn,t?typeof t=="number"?t:4:Yr),n=(n?n.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):mn)||sn(e)}catch(i){n=" - "+Q(i,t)}return r+": "+n}function Ln(e){throw new Error(e)}function ar(e){throw new TypeError(e)}var eF=br(Li,"freeze");function O6(e){return e}function k6(e){return e[sb]||mn}var Od=br(Li,"assign"),cr=br(Li,"keys");function fi(e){return eF&&Te(e,function(t,n){(Se(n)||an(n))&&fi(n)}),ur(e)}var ur=ks(eF,O6);var ab=ks(br(Li,"getPrototypeOf"),k6);function tF(e){return Qk(e,1,0,ur)}function F6(e){return Qk(e,0,0,ur)}function L6(e){var t={};return Te(e,function(n,r){ay(t,n,r[1]),ay(t,r[0],r[1])}),ur(t)}function nF(e){return L6(e)}var rF=F6({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Yk="__tsUtils$gblCfg",qC;function iF(){var e;return typeof globalThis!==Eu&&(e=globalThis),!e&&typeof self!==Eu&&(e=self),!e&&typeof window!==Eu&&(e=window),!e&&typeof global!==Eu&&(e=global),e}function oF(){if(!qC){var e=_n(iF).v||{};qC=e[Yk]=e[Yk]||{}}return qC}var Su=my;function my(e,t,n){var r=t?t[e]:mn;return function(i){var o=(i?i[e]:mn)||r;if(o||n){var s=arguments;return(o||n).apply(i,o?Os[qn](s,1):s)}ar('"'+sn(e)+'" not defined for '+Q(i))}}function U6(e){return function(t){return t[e]}}var V6=br(b6,"max"),$k=Su("slice",Du),pi=Su("substring",Du),ho=my("substr",Du,j6);function j6(e,t,n){return k(e)&&ar("Invalid "+Q(e)),n<0?cb:(t=t||0,t<0&&(t=V6(t+e[Md],0)),at(n)?$k(e,t):$k(e,t,t+n))}function Dh(e,t){return pi(e,0,t)}var Gk="_urid",KC;function B6(){if(!KC){var e=oF();KC=e.gblSym=e.gblSym||{k:{},s:{}}}return KC}var ry;function db(e){var t={description:sn(e),toString:function(){return ub+"("+e+")"}};return t[C6]=!0,t}function H6(e){var t=B6();if(!po(t.k,e)){var n=db(e),r=cr(t.s).length;n[Gk]=function(){return r+"_"+n[ly]()},t.k[e]=n,t.s[n[Gk]()]=sn(e)}return t.k[e]}function Y6(e){!ry&&(ry={});var t,n=rF[e];return n&&(t=ry[n]=ry[n]||db(ub+"."+n)),t}var vn;function Va(){vn=oF()}function sF(e){var t={};return!vn&&Va(),t.b=vn.lzy,li(t,"v",{configurable:!0,get:function(){var n=e();return vn.lzy||li(t,"v",{value:n}),t.b=vn.lzy,n}}),t}function hi(e){return li({toJSON:function(){return e}},"v",{value:e})}var aF="window",_h;function kd(e,t){var n;return function(){return!vn&&Va(),(!n||vn.lzy)&&(n=hi(_n(e,t).v)),n.v}}function cn(e){return!vn&&Va(),(!_h||e===!1||vn.lzy)&&(_h=hi(_n(iF).v||mn)),_h.v}function Tt(e,t){var n;if(!_h||t===!1?n=cn(t):n=_h.v,n&&n[e])return n[e];if(e===aF)try{return window}catch{}return mn}function Ih(){return!!kt()}var kt=kd(Tt,["document"]);function ja(){return!!yn()}var yn=kd(Tt,[aF]);function fb(){return!!Kn()}var Kn=kd(Tt,["navigator"]);function pb(){return!!vy()}var vy=kd(Tt,["history"]),cF=kd(function(){return!!_n(function(){return process&&(process.versions||{}).node}).v}),_y=kd(function(){return!!_n(function(){return self&&self instanceof WorkerGlobalScope}).v}),Pd,XC;function yy(){return Pd=hi(_n(Tt,[ub]).v),Pd}function $6(e){var t=(vn.lzy?0:Pd)||yy();return t.v?t.v[e]:Yr}function uF(){return!!G6()}function G6(){return!vn&&Va(),((vn.lzy?0:Pd)||yy()).v}function Sh(e,t){var n=rF[e];!vn&&Va();var r=(vn.lzy?0:Pd)||yy();return r.v?r.v[n||e]:t?Yr:Y6(e)}function Fd(e,t){!vn&&Va();var n=(vn.lzy?0:Pd)||yy();return n.v?n.v(e):t?mn:db(e)}function Ey(e){return!vn&&Va(),XC=(vn.lzy?0:XC)||hi(_n($6,["for"]).v),(XC.v||H6)(e)}function cy(e){return!!e&&me(e.next)}function hb(e){return!A6(e)&&me(e[Sh(3)])}var iy;function Dy(e,t,n){if(e&&(cy(e)||(!iy&&(iy=hi(Sh(3))),e=e[iy.v]?e[iy.v]():mn),cy(e))){var r=Yr,i=Yr;try{for(var o=0;!(i=e.next()).done&&t[qn](n||e,i.value,o,e)!==-1;)o++}catch(s){r={e:s},e.throw&&(i=mn,e.throw(r))}finally{try{i&&!i.done&&e.return&&e.return(i)}finally{if(r)throw r.e}}}}function Rd(e,t,n){return e.apply(t,n)}function Fs(e,t){return!at(t)&&e&&(Se(t)?Rd(e.push,e,t):cy(t)||hb(t)?Dy(t,function(n){e.push(n)}):e.push(t)),e}function q(e,t,n){if(e)for(var r=e[Md]>>>0,i=0;i<r&&!(i in e&&t[qn](n||e,e[i],i,e)===-1);i++);}var Nt=Su("indexOf",dy);var Tu=Su("map",dy);function Ld(e,t,n){return((e?e.slice:mn)||Os).apply(e,Os[qn](arguments,1))}var gb=Su("reduce",dy);var Vo=ks(br(Li,"create"),z6);function z6(e){if(!e)return{};var t=typeof e;t!==yh&&t!==uy&&ar("Prototype must be an Object or function: "+Q(e));function n(){}return n[Ps]=e,new n}var ZC;function lF(e,t){var n=Li.setPrototypeOf||function(r,i){var o;!ZC&&(ZC=hi((o={},o[sb]=[],o instanceof Array))),ZC.v?r[sb]=i:Te(i,function(s,a){return r[s]=a})};return n(e,t)}function W6(e,t,n){_n(ke,[t,sy,{v:e,c:!0,e:!1}]),t=lF(t,n);function r(){this[oy]=t,_n(ke,[this,sy,{v:e,c:!0,e:!1}])}return t[Ps]=n===mn?Vo(n):(r[Ps]=n[Ps],new r),t}function zk(e,t){t&&(e[sy]=t)}function Iy(e,t,n){var r=n||Error,i=r[Ps][sy],o=Error.captureStackTrace;return W6(e,function(){var s=this,a=arguments;try{_n(zk,[r,e]);var c=Rd(r,s,Os[qn](a))||s;if(c!==s){var u=ab(s);u!==ab(c)&&lF(c,u)}return o&&o(c,s[oy]),t&&t(c,a),c}finally{_n(zk,[r,i])}},r)}var JC;function dF(e){throw JC||(JC=Iy("UnsupportedError")),new JC(e)}function xn(){return(Date.now||q6)()}function q6(){return new Date().getTime()}function K6(e){return function(n){return k(n)&&ar("strTrim called ["+Q(n)+"]"),n&&n.replace&&(n=n.replace(e,cb)),n}}var X6=K6(/^\s+|(?=\s)\s+$/g);var pt=my("trim",Du,X6);var QC,eb,tb;function En(e){if(!e||typeof e!==yh)return!1;tb||(tb=ja()?yn():!0);var t=!1;if(e!==tb){eb||(QC=Function[Ps][ly],eb=QC[qn](Li));try{var n=ab(e);t=!n,t||(sr(n,oy)&&(n=n[oy]),t=!!(n&&typeof n===uy&&QC[qn](n)===eb))}catch{}}return t}function Z6(e){return e.value&&pF(e),!0}var Wk=[t5,pF,r5,n5];function J6(e,t,n,r){var i;return q(e,function(o){if(o.k===t)return i=o,-1}),i||(i={k:t,v:t},e.push(i),r(i)),i.v}function mb(e,t,n,r){var i=n.handler,o=n.path?r?n.path.concat(r):n.path:[],s={handler:n.handler,src:n.src,path:o},a=typeof t,c=!1,u=t===mn;u||(t&&a===yh?c=En(t):u=x6(a));var l={type:a,isPrim:u,isPlain:c,value:t,result:t,path:o,origin:n.src,copy:function(d,p){return mb(e,d,p?s:n,p)},copyTo:function(d,p){return fF(e,d,p,s)}};return l.isPrim?i&&i[qn](n,l)?l.result:t:J6(e,t,o,function(d){ke(l,"result",{g:function(){return d.v},s:function(h){d.v=h}});for(var p=0,f=i;!(f||(p<Wk.length?Wk[p++]:Z6))[qn](n,l);)f=mn})}function fF(e,t,n,r){if(!k(n))for(var i in n)t[i]=mb(e,n[i],r,i);return t}function Q6(e,t,n){var r={handler:n,src:t,path:[]};return fF([],e,t,r)}function e5(e,t){var n={handler:t,src:e};return mb([],e,n)}function t5(e){var t=e.value;if(Se(t)){var n=e.result=[];return n.length=t.length,e.copyTo(n,t),!0}return!1}function n5(e){var t=e.value;return Zk(t)?(e.result=new Date(t.getTime()),!0):!1}function r5(e){return e.type===uy}function pF(e){var t=e.value;if(t&&e.isPlain){var n=e.result={};return e.copyTo(n,t),!0}return!1}function hF(e,t){return q(t,function(n){Q6(e,n)}),e}function vb(e,t,n,r,i,o,s){return hF(e5(e)||{},Os[qn](arguments))}function gF(e,t,n,r,i,o,s){return hF(e||{},Os[qn](arguments))}var _b=U6(Md);var nb;function wr(){return!vn&&Va(),(!nb||vn.lzy)&&(nb=hi(_n(Tt,["performance"]).v)),nb.v}var yb=Su("split",Du);function Eb(e,t,n){if(e&&t){var r=yb(t,"."),i=r.pop();q(r,function(o){k(e[o])&&(e[o]={}),e=e[o]}),e[i]=n}}var Th=my("endsWith",Du,i5);function i5(e,t,n){fe(e)||ar("'"+Q(e)+"' is not a string");var r=fe(t)?t:sn(t),i=!at(n)&&n<e[Md]?n:e[Md];return pi(e,i-r[Md],i)===r}var Wt=Su("indexOf",Du);var rb="ref",ib="unref",ob="hasRef",o5="enabled";function s5(e,t,n){var r=!0,i=e?t(mn):mn,o;function s(){return r=!1,i&&i[ib]&&i[ib](),o}function a(){i&&n(i),i=mn}function c(){return i=t(i),r||s(),o}function u(l){!l&&i&&a(),l&&!i&&c()}return o={cancel:a,refresh:c},o[ob]=function(){return i&&i[ob]?i[ob]():r},o[rb]=function(){return r=!0,i&&i[rb]&&i[rb](),o},o[ib]=s,o=li(o,o5,{get:function(){return!!i},set:u}),{h:o,dn:function(){i=mn}}}function mF(e,t,n){var r=Se(t),i=r?t.length:0,o=(i>0?t[0]:r?Yr:t)||setTimeout,s=(i>1?t[1]:Yr)||clearTimeout,a=n[0];n[0]=function(){c.dn(),Rd(a,Yr,Os[qn](arguments))};var c=s5(e,function(u){if(u){if(u.refresh)return u.refresh(),u;Rd(s,Yr,[u])}return Rd(o,Yr,n)},function(u){Rd(s,Yr,[u])});return c.h}function un(e,t){return mF(!0,Yr,Os[qn](arguments))}function vF(e,t){return mF(!1,Yr,Os[qn](arguments))}var Sy;var wy="constructor",Ls="prototype",Ny="function",Ay="_dynInstFuncs",Sb="_isDynProxy",Ud="_dynClass",a5="_dynCls$",Tb="_dynInstChk",Ch=Tb,IF="_dfOpts",_F="_unknown_",wb="__proto__",Ty="_dyn"+wb,yF="__dynProto$Gbl",Db="_dynInstProto",Cy="useBaseInst",Cb="setInstFuncs",Nb=Object,bh=Nb.getPrototypeOf,EF=Nb.getOwnPropertyNames,DF=cn(),bb=DF[yF]||(DF[yF]={o:(Sy={},Sy[Cb]=!0,Sy[Cy]=!0,Sy),n:1e3});function by(e){return e&&(e===Nb[Ls]||e===Array[Ls])}function Ab(e){return by(e)||e===Function[Ls]}function Cu(e){var t;if(e){if(bh)return bh(e);var n=e[wb]||e[Ls]||(e[wy]?e[wy][Ls]:null);t=e[Ty]||n,sr(e,Ty)||(delete e[Db],t=e[Ty]=e[Db]||e[Ty],e[Db]=n)}return t}function xy(e,t){var n=[];if(EF)n=EF(e);else for(var r in e)typeof r=="string"&&sr(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function xb(e,t,n){return t!==wy&&typeof e[t]===Ny&&(n||sr(e,t))&&t!==wb&&t!==Ls}function Ry(e){ar("DynamicProto: "+e)}function c5(e){var t=Vo(null);return xy(e,function(n){!t[n]&&xb(e,n,!1)&&(t[n]=e[n])}),t}function Rb(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function u5(e,t,n,r){function i(c,u,l){var d=u[l];if(d[Sb]&&r){var p=c[Ay]||{};p[Ch]!==!1&&(d=(p[u[Ud]]||{})[l]||d)}return function(){return d.apply(c,arguments)}}var o=Vo(null);xy(n,function(c){o[c]=i(t,n,c)});for(var s=Cu(e),a=[];s&&!Ab(s)&&!Rb(a,s);)xy(s,function(c){!o[c]&&xb(s,c,!bh)&&(o[c]=i(t,s,c))}),a.push(s),s=Cu(s);return o}function l5(e,t,n,r){var i=null;if(e&&sr(n,Ud)){var o=e[Ay]||Vo(null);if(i=(o[n[Ud]]||Vo(null))[t],i||Ry("Missing ["+t+"] "+Ny),!i[Tb]&&o[Ch]!==!1){for(var s=!sr(e,t),a=Cu(e),c=[];s&&a&&!Ab(a)&&!Rb(c,a);){var u=a[t];if(u){s=u===r;break}c.push(a),a=Cu(a)}try{s&&(e[t]=i),i[Tb]=1}catch{o[Ch]=!1}}}return i}function d5(e,t,n){var r=t[e];return r===n&&(r=Cu(t)[e]),typeof r!==Ny&&Ry("["+e+"] is not a "+Ny),r}function f5(e,t,n,r,i){function o(c,u){var l=function(){var d=l5(this,u,c,l)||d5(u,c,l);return d.apply(this,arguments)};return l[Sb]=1,l}if(!by(e)){var s=n[Ay]=n[Ay]||Vo(null);if(!by(s)){var a=s[t]=s[t]||Vo(null);s[Ch]!==!1&&(s[Ch]=!!i),by(a)||xy(n,function(c){xb(n,c,!1)&&n[c]!==r[c]&&(a[c]=n[c],delete n[c],(!sr(e,c)||e[c]&&!e[c][Sb])&&(e[c]=o(e,c)))})}}}function p5(e,t){if(bh){for(var n=[],r=Cu(t);r&&!Ab(r)&&!Rb(n,r);){if(r===e)return!0;n.push(r),r=Cu(r)}return!1}return!0}function Ib(e,t){return sr(e,Ls)?e.name||t||_F:((e||{})[wy]||{}).name||t||_F}function Oe(e,t,n,r){sr(e,Ls)||Ry("theClass is an invalid class definition.");var i=e[Ls];p5(i,t)||Ry("["+Ib(e)+"] not in hierarchy of ["+Ib(t)+"]");var o=null;sr(i,Ud)?o=i[Ud]:(o=a5+Ib(e,"_")+"$"+bb.n,bb.n++,i[Ud]=o);var s=Oe[IF],a=!!s[Cy];a&&r&&r[Cy]!==void 0&&(a=!!r[Cy]);var c=c5(t),u=u5(i,t,c,a);n(t,u);var l=!!bh&&!!s[Cb];l&&r&&(l=!!r[Cb]),f5(i,o,t,c,l!==!1)}Oe[IF]=bb.o;var Vd="function",wh="object",bu="undefined",lr="prototype";var jd=Object,Mb=jd[lr];var Dae=(cn()||{}).Symbol,Iae=(cn()||{}).Reflect;var SF="hasOwnProperty",g5=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Mb[SF].call(t,i)&&(e[i]=t[i])}return e},ln=Od||g5,Pb=function(e,t){return Pb=jd.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[SF](i)&&(n[i]=r[i])},Pb(e,t)};function Un(e,t){typeof t!==Vd&&t!==null&&ar("Class extends value "+String(t)+" is not a constructor or null"),Pb(e,t);function n(){this.constructor=e}e[lr]=t===null?Vo(t):(n[lr]=t[lr],new n)}function My(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var wu=tF,Ob=nF;var go=wu({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2});var mo="toLowerCase",Ba="blkVal",he="length",Nu="rdOnly",Au="notify",Bd="warnToConsole",Us="throwInternal",vo="setDf",_o="watch",At="logger",Ui="apply",Ve="push",Vi="splice",Py="hdlr",Vs="cancel",js="initialize",jo="identifier",Hd="removeNotificationListener",Yd="addNotificationListener",$r="isInitialized",kb="instrumentationKey",Oy="INACTIVE",xu="value",Nh="getNotifyMgr",Ha="getPlugin",Xn="name",$d="iKey",Ya="time",Rn="processNext",ky="getProcessTelContext",Fb="pollInternalLogs",$a="enabled",Lb="stopPollingInternalLogs",Gr="unload",Ah="onComplete",Gd="version",Fy="loggingLevelConsole",Bo="createNew",gi="teardown",zd="messageId",Ho="message",yo="isAsync",zr="diagLog",Ga="_doTeardown",Ru="update",mi="getNext",za="setNextPlugin",Ly="protocol",xh="userAgent",Eo="split",Uy="nodeType",Do="replace",Ub="logInternalMessage",Yo="type",Vy="handler",Mu="status",Vb="getResponseHeader",jb="getAllResponseHeaders",Rh="isChildEvt",Wa="data",Pu="getCtx",Io="setCtx",jy="complete",Bb="itemsReceived",Wd="urlString",Hb="sendPOST",By="headers",Ou="timeout",Yb="setRequestHeader",Mh="traceId",Ph="spanId",Oh="traceFlags",Hy="getAttribute";var $b;function TF(e,t){$b||($b=Iy("AggregationError",function(r,i){i[he]>1&&(r.errors=i[1])}));var n=e||"One or more errors occurred.";throw q(t,function(r,i){n+=`
`.concat(i," > ").concat(Q(r))}),new $b(n,t||[])}var $y="Promise";var Jb="rejected";function Nr(e,t){return NF(e,function(n){return t?t({status:"fulfilled",rejected:!1,value:n}):n},function(n){return t?t({status:Jb,rejected:!0,reason:n}):n})}function NF(e,t,n,r){var i=e;try{if(di(e))(t||n)&&(i=e.then(t,n));else try{t&&(i=t(e))}catch(o){if(n)i=n(o);else throw o}}finally{r&&m5(i,r)}return i}function m5(e,t){var n=e;return t&&(di(e)?e.finally?n=e.finally(t):n=e.then(function(r){return t(),r},function(r){throw t(),r}):t()),n}var Gb,zb,Wb,CF=!1;function v5(e,t,n,r){Gb=Gb||{toString:function(){return"[[PromiseState]]"}},zb=zb||{toString:function(){return"[[PromiseResult]]"}},Wb=Wb||{toString:function(){return"[[PromiseIsHandled]]"}};var i={};i[Gb]={get:t},i[zb]={get:n},i[Wb]={get:r},Jk(e,i)}var AF=["pending","resolving","resolved",Jb],bF="dispatchEvent",Yy;function _5(e){var t;return e&&e.createEvent&&(t=e.createEvent("Event")),!!t&&t.initEvent}function y5(e,t,n,r){var i=kt();!Yy&&(Yy=hi(!!_n(_5,[i]).v));var o=Yy.v?i.createEvent("Event"):r?new Event(t):{};if(n&&n(o),Yy.v&&o.initEvent(t,!1,!0),o&&e[bF])e[bF](o);else{var s=e["on"+t];if(s)s(o);else{var a=Tt("console");a&&(a.error||a.log)(t,Q(o))}}}var xF="unhandledRejection",E5=xF.toLowerCase(),kh=[],D5=0,I5=10;var qb;function wF(e){return me(e)?e.toString():Q(e)}function RF(e,t,n){var r=Ld(arguments,3),i=0,o=!1,s,a=[],c=D5++,u=kh.length>0?kh[kh.length-1]:void 0,l=!1,d=null,p;function f(U,X){try{kh.push(c),l=!0,d&&d.cancel(),d=null;var x=e(function(J,I){a.push(function(){try{var j=i===2?U:X,Z=at(j)?s:me(j)?j(s):j;di(Z)?Z.then(J,I):j?J(Z):i===3?I(Z):J(Z)}catch(Ee){I(Ee)}}),o&&_()},r);return x}finally{kh.pop()}}function h(U){return f(void 0,U)}function g(U){var X=U,x=U;return me(U)&&(X=function(J){return U&&U(),J},x=function(J){throw U&&U(),J}),f(X,x)}function m(){return AF[i]}function _(){if(a.length>0){var U=a.slice();a=[],l=!0,d&&d.cancel(),d=null,t(U)}}function E(U,X){return function(x){if(i===X){if(U===2&&di(x)){i=1,x.then(E(2,1),E(3,1));return}i=U,o=!0,s=x,_(),!l&&U===3&&!d&&(d=un(w,I5))}}}function w(){if(!l)if(l=!0,cF())process.emit(xF,s,p);else{var U=yn()||cn();!qb&&(qb=hi(_n(Tt,[$y+"RejectionEvent"]).v)),y5(U,E5,function(X){return ke(X,"promise",{g:function(){return p}}),X.reason=s,X},!!qb.v)}}p={then:f,catch:h,finally:g},li(p,"state",{get:m}),CF&&v5(p,m,function(){return py(s)},function(){return l}),uF()&&(p[Sh(11)]="IPromise");function R(){return"IPromise"+(CF?"["+c+(at(u)?"":":"+u)+"]":"")+" "+m()+(o?" - "+wF(s):"")}return p.toString=R,function(){me(n)||ar($y+": executor is not a function - "+wF(n));var X=E(3,0);try{n.call(p,E(2,0),X)}catch(x){X(x)}}(),p}function S5(e){return function(t){var n=Ld(arguments,1);return e(function(r,i){try{var o=[],s=1;Dy(t,function(a,c){a&&(s++,NF(a,function(u){o[c]=u,--s===0&&r(o)},i))}),s--,s===0&&r(o)}catch(a){i(a)}},n)}}function T5(e){return hi(function(t){var n=Ld(arguments,1);return e(function(r,i){var o=[],s=1;function a(c,u){s++,Nr(c,function(l){l.rejected?o[u]={status:Jb,reason:l.reason}:o[u]={status:"fulfilled",value:l.value},--s===0&&r(o)})}try{Se(t)?q(t,a):hb(t)?Dy(t,a):ar("Input is not an iterable"),s--,s===0&&r(o)}catch(c){i(c)}},n)})}function MF(e){q(e,function(t){try{t()}catch{}})}function C5(e){var t=fo(e)?e:0;return function(n){un(function(){MF(n)},t)}}function PF(e,t){return RF(PF,C5(t),e,t)}var Kb;function b5(e,t){!Kb&&(Kb=hi(_n(Tt,[$y]).v||null));var n=Kb.v;if(!n)return PF(e);me(e)||ar($y+": executor is not a function - "+Q(e));var r=0;function i(){return AF[r]}var o=new n(function(s,a){function c(l){r=2,s(l)}function u(l){r=3,a(l)}e(c,u)});return li(o,"state",{get:i}),o}var Xb;function qd(e){return RF(qd,MF,e)}function OF(e,t){return!Xb&&(Xb=T5(qd)),Xb.v(e,t)}var Zb;function vi(e,t){return!Zb&&(Zb=hi(b5)),Zb.v.call(this,e,t)}var kF=S5(vi);var ece=Sh(11);var _i=void 0,Ue="",qa="channels",Jt="core",Gy="createPerfMgr",Fh="disabled",Bs="extensionConfig",ku="extensions",Wr="processTelemetry",Fu="priority",Kd="eventsSent",Ka="eventsDiscarded",Xd="eventsSendRequest",$o="perfEvent",zy="offlineEventsStored",Wy="offlineBatchSent",qy="offlineBatchDrop",Zd="getPerfMgr",Ky="domain",Xy="path",FF="Not dynamic - ";var w5="getPrototypeOf",N5=/-([a-z])/g,A5=/([^\w\d_$])/g,x5=/^(\d+[\w\d_$])/,UF=Object[w5];function ji(e){return!k(e)}function Lu(e){var t=e;return t&&fe(t)&&(t=t[Do](N5,function(n,r){return r.toUpperCase()}),t=t[Do](A5,"_"),t=t[Do](x5,function(n,r){return"_"+r})),t}function Mn(e,t){return e&&t?Wt(e,t)!==-1:!1}function Bi(e){return e&&e.toISOString()||""}function qe(e){return Iu(e)?e[Xn]:Ue}function Et(e,t,n,r,i){var o=n;return e&&(o=e[t],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o)),o}function Pn(e,t,n){var r;return e?(r=e[t],!r&&k(r)&&(r=at(n)?{}:n,e[t]=r)):r=at(n)?{}:n,r}function VF(e,t){var n=null,r=null;return me(e)?n=e:r=e,function(){var i=arguments;if(n&&(r=n()),r)return r[t][Ui](r,i)}}function Qb(e,t,n){if(e&&t&&an(e)&&an(t)){var r=function(o){if(fe(o)){var s=t[o];me(s)?(!n||n(o,!0,t,e))&&(e[o]=VF(t,o)):(!n||n(o,!1,t,e))&&(po(e,o)&&delete e[o],ke(e,o,{g:function(){return t[o]},s:function(a){t[o]=a}}))}};for(var i in t)r(i)}return e}function Uu(e,t,n,r,i){e&&t&&n&&(i!==!1||at(e[t]))&&(e[t]=VF(n,r))}function Xa(e,t,n,r){return e&&t&&an(e)&&Se(n)&&q(n,function(i){fe(i)&&Uu(e,i,t,i,r)}),e}function ew(e){return function(){function t(){var n=this;e&&Te(e,function(r,i){n[r]=i})}return t}()}function Jy(e){return e&&Od&&(e=jd(Od({},e))),e}function Qy(e,t,n,r,i,o){var s=arguments,a=s[0]||{},c=s[he],u=!1,l=1;for(c>0&&Eh(a)&&(u=a,a=s[l]||{},l++),an(a)||(a={});l<c;l++){var d=s[l],p=Se(d),f=an(d);for(var h in d){var g=p&&h in d||f&&po(d,h);if(g){var m=d[h],_=void 0;if(u&&m&&((_=Se(m))||En(m))){var E=a[h];_?Se(E)||(E=[]):En(E)||(E={}),m=Qy(u,E,m)}m!==void 0&&(a[h]=m)}}}return a}function Lh(e,t){var n=!1,r=t&&t.featureOptIn&&t.featureOptIn[e];if(e&&r){var i=r.mode;n=i==3||i==1}return n}function Jd(e){try{return e.responseText}catch{}return null}function Uh(e,t){return e?"XDomainRequest,Response:"+Jd(e)||"":t}function Vu(e,t){return e?"XMLHttpRequest,Status:"+e[Mu]+",Response:"+Jd(e)||e.response||"":t}function eE(e,t){return t&&(fo(t)?e=[t].concat(e):Se(t)&&(e=t.concat(e))),e}var R5="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",LF="withCredentials",M5="timeout";function tw(e,t,n,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);function s(c,u,l){try{c[u]=l}catch{}}var a=new XMLHttpRequest;return r&&s(a,R5,r),n&&s(a,LF,n),a.open(e,t,!i),n&&s(a,LF,n),!i&&o&&s(a,M5,o),a}function jF(e){var t={};if(fe(e)){var n=pt(e)[Eo](/[\r\n]+/);q(n,function(r){if(r){var i=r.indexOf(": ");if(i!==-1){var o=pt(r.substring(0,i))[mo](),s=pt(r.substring(i+1));t[o]=s}else t[pt(r)]=1}})}return t}function Zy(e,t,n){if(!e[n]&&t&&t[Vb]){var r=t[Vb](n);r&&(e[n]=pt(r))}return e}var P5="kill-duration",O5="kill-duration-seconds",k5="time-delta-millis";function Vh(e,t){var n={};return e[jb]?n=jF(e[jb]()):t&&(n=Zy(n,e,k5),n=Zy(n,e,P5),n=Zy(n,e,O5)),n}var F5="documentMode",L5="location",U5="console",BF="JSON",V5="crypto",j5="msCrypto",B5="ReactNative",ow="msie",sw="trident/",HF="XMLHttpRequest",nw=null,rw=null,H5=!1,Qd=null,iw=null;function YF(e,t){var n=!1;if(e){try{if(n=t in e,!n){var r=e[lr];r&&(n=t in r)}}catch{}if(!n)try{var i=new e;n=!at(i[t])}catch{}}return n}function Zn(e){if(e&&H5){var t=Tt("__mockLocation");if(t)return t}return typeof location===wh&&location?location:Tt(L5)}function aw(){return typeof console!==bu?console:Tt(U5)}function Go(){return!!(typeof JSON===wh&&JSON||Tt(BF)!==null)}function Dn(){return Go()?JSON||Tt(BF):null}function cw(){return Tt(V5)}function uw(){return Tt(j5)}function lw(){var e=Kn();return e&&e.product?e.product===B5:!1}function ef(){var e=Kn();if(e&&(e[xh]!==rw||nw===null)){rw=e[xh];var t=(rw||Ue)[mo]();nw=Mn(t,ow)||Mn(t,sw)}return nw}function jh(e){if(e===void 0&&(e=null),!e){var t=Kn()||{};e=t?(t.userAgent||Ue)[mo]():Ue}var n=(e||Ue)[mo]();if(Mn(n,ow)){var r=kt()||{};return Math.max(parseInt(n[Eo](ow)[1]),r[F5]||0)}else if(Mn(n,sw)){var i=parseInt(n[Eo](sw)[1]);if(i)return i+4}return null}function Hs(e){return(iw===null||e===!1)&&(iw=fb()&&!!Kn().sendBeacon),iw}function ju(e){var t=!1;try{t=!!Tt("fetch");var n=Tt("Request");t&&e&&n&&(t=YF(n,"keepalive"))}catch{}return t}function dw(){return Qd===null&&(Qd=typeof XDomainRequest!==bu,Qd&&Za()&&(Qd=Qd&&!YF(Tt(HF),"withCredentials"))),Qd}function Za(){var e=!1;try{var t=Tt(HF);e=!!t}catch{}return e}function $F(e,t){return e&&e.dispatchEvent&&t?(e.dispatchEvent(t),!0):!1}function GF(e,t){var n=null,r={detail:t||null};if(me(CustomEvent))n=new CustomEvent(e,r);else{var i=kt();i&&i.createEvent&&(n=i.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,r))}return n}function fw(e,t,n){var r=cn();if(r&&r.CustomEvent)try{var i={cfg:t||null,customDetails:n||null};return $F(r,GF(e,i))}catch{}return!1}var zF=4294967296,Ja=4294967295,WF=123456789,qF=987654321,KF=!1,Bh=WF,Hh=qF;function Y5(e){e<0&&(e>>>=0),Bh=WF+e&Ja,Hh=qF-e&Ja,KF=!0}function $5(){try{var e=xn()&2147483647;Y5((Math.random()*zF^e)+e)}catch{}}function pw(e){return e>0?Math.floor(Bu()/Ja*(e+1))>>>0:0}function Bu(e){var t=0,n=cw()||uw();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&Ja),t===0&&ef()&&(KF||$5(),t=XF()&Ja),t===0&&(t=Math.floor(zF*Math.random()|0)),e||(t>>>=0),t}function XF(e){Hh=36969*(Hh&65535)+(Hh>>16)&Ja,Bh=18e3*(Bh&65535)+(Bh>>16)&Ja;var t=(Hh<<16)+(Bh&65535)>>>0&Ja|0;return e||(t>>>=0),t}function Hu(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Bu()>>>0,r=0,i=Ue;i[he]<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(Bu()<<2&4294967295|n&3)>>>0,r=0);return i}var ZF="3.3.5",G5="."+Hu(6),z5=0;function JF(e){return e[Uy]===1||e[Uy]===9||!+e[Uy]}function W5(e,t){var n=t[e.id];if(!n){n={};try{JF(t)&&ke(t,e.id,{e:!1,v:n})}catch{}}return n}function nn(e,t){return t===void 0&&(t=!1),Lu(e+z5+++(t?"."+ZF:Ue)+G5)}function tE(e){var t={id:nn("_aiData-"+(e||Ue)+"."+ZF),accept:function(n){return JF(n)},get:function(n,r,i,o){var s=n[t.id];return s?s[Lu(r)]:(o&&(s=W5(t,n),s[Lu(r)]=i),i)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return t}function nE(e){return e&&an(e)&&(e.isVal||e.fb||po(e,"v")||po(e,"mrg")||po(e,"ref")||e.set)}function QF(e,t,n){var r,i=n.dfVal||hy;if(t&&n.fb){var o=n.fb;Se(o)||(o=[o]);for(var s=0;s<o[he];s++){var a=o[s],c=t[a];if(i(c)?r=c:e&&(c=e.cfg[a],i(c)&&(r=c),e.set(e.cfg,sn(a),c)),i(r))break}}return!i(r)&&i(n.v)&&(r=n.v),r}function hw(e,t,n){var r=n;if(n&&nE(n)&&(r=QF(e,t,n)),r){nE(r)&&(r=hw(e,t,r));var i;Se(r)?(i=[],i[he]=r[he]):En(r)&&(i={}),i&&(Te(r,function(o,s){s&&nE(s)&&(s=hw(e,t,s)),i[o]=s}),r=i)}return r}function Yh(e,t,n,r){var i,o,s,a=r,c,u,l,d;nE(a)?(i=a.isVal,o=a.set,l=a[Nu],d=a[Ba],c=a.mrg,u=a.ref,!u&&at(u)&&(u=!!c),s=QF(e,t,a)):s=r,d&&e[Ba](t,n);var p,f=!0,h=t[n];(h||!k(h))&&(p=h,f=!1,i&&p!==s&&!i(p)&&(p=s,f=!0),o&&(p=o(p,s,t),f=p===s)),f?s?p=hw(e,t,s):p=s:(En(p)||Se(s))&&c&&s&&(En(s)||Se(s))&&Te(s,function(g,m){Yh(e,p,g,m)}),e.set(t,n,p),u&&e.ref(t,n),l&&e[Nu](t,n)}var zo=Ey("[[ai_dynCfg_1]]"),eL=Ey("[[ai_blkDynCfg_1]]"),q5=Ey("[[ai_frcDynCfg_1]]");function gw(e){if(e){var t;if(Se(e)?(t=[],t[he]=e[he]):En(e)&&(t={}),t)return Te(e,function(n,r){t[n]=gw(r)}),t}return e}function tL(e){if(e){var t=e[zo]||e;if(t.cfg&&(t.cfg===e||t.cfg[zo]===t))return t}return null}function nL(e){if(e&&(En(e)||Se(e)))try{e[eL]=!0}catch{}return e}function rE(e,t,n){var r=!1;return n&&!e[t.blkVal]&&(r=n[q5],!r&&!n[eL]&&(r=En(n)||Se(n))),r}function iE(e){ar("InvalidAccess:"+e)}var K5=["push","pop","shift","unshift","splice"],tf=function(e,t,n,r){e&&e[Us](3,108,"".concat(n," [").concat(t,"] failed - ")+Q(r))};function X5(e,t,n){Se(t)&&q(K5,function(r){var i=t[r];t[r]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=i[Ui](this,o);return $h(e,t,n,"Patching"),a}})}function oE(e,t){var n=gy(e,t);return n&&n.get}function Z5(e,t,n,r){var i={n,h:[],trk:function(u){u&&u.fn&&(Nt(i.h,u)===-1&&i.h[Ve](u),e.trk(u,i))},clr:function(u){var l=Nt(i.h,u);l!==-1&&i.h[Vi](l,1)}},o=!0,s=!1;function a(){o&&(s=s||rE(a,e,r),r&&!r[zo]&&s&&(r=$h(e,r,n,"Converting")),o=!1);var u=e.act;return u&&i.trk(u),r}a[e.prop]={chng:function(){e.add(i)}};function c(u){if(r!==u){a[e.ro]&&!e.upd&&iE("["+n+"] is read-only:"+Q(t)),o&&(s=s||rE(a,e,r),o=!1);var l=s&&a[e.rf];if(s)if(l){Te(r,function(p){r[p]=u?u[p]:_i});try{Te(u,function(p,f){Gh(e,r,p,f)}),u=r}catch(p){tf((e.hdlr||{})[At],n,"Assigning",p),s=!1}}else r&&r[zo]&&Te(r,function(p){var f=oE(r,p);if(f){var h=f[e.prop];h&&h.chng()}});if(u!==r){var d=u&&rE(a,e,u);!l&&d&&(u=$h(e,u,n,"Converting")),r=u,s=d}e.add(i)}}ke(t,i.n,{g:a,s:c})}function Gh(e,t,n,r){if(t){var i=oE(t,n),o=i&&!!i[e.prop];o?t[n]=r:Z5(e,t,n,r)}return t}function sE(e,t,n,r){if(t){var i=oE(t,n),o=i&&!!i[e.prop],s=r&&r[0],a=r&&r[1],c=r&&r[2];if(!o){if(c)try{nL(t)}catch(u){tf((e.hdlr||{})[At],n,"Blocking",u)}try{Gh(e,t,n,t[n]),i=oE(t,n)}catch(u){tf((e.hdlr||{})[At],n,"State",u)}}s&&(i[e.rf]=s),a&&(i[e.ro]=a),c&&(i[e.blkVal]=!0)}return t}function $h(e,t,n,r){try{Te(t,function(i,o){Gh(e,t,i,o)}),t[zo]||(li(t,zo,{get:function(){return e[Py]}}),X5(e,t,n))}catch(i){tf((e.hdlr||{})[At],n,r,i)}return t}var zh="[[ai_",Wh="]]";function rL(e){var t,n=Fd(zh+"get"+e.uid+Wh),r=Fd(zh+"ro"+e.uid+Wh),i=Fd(zh+"rf"+e.uid+Wh),o=Fd(zh+"blkVal"+e.uid+Wh),s=Fd(zh+"dtl"+e.uid+Wh),a=null,c=null,u;function l(h,g){var m=u.act;try{u.act=h,h&&h[s]&&(q(h[s],function(E){E.clr(h)}),h[s]=[]),g({cfg:e.cfg,set:e.set.bind(e),setDf:e[vo].bind(e),ref:e.ref.bind(e),rdOnly:e[Nu].bind(e)})}catch(E){var _=e[At];throw _&&_[Us](1,107,Q(E)),E}finally{u.act=m||null}}function d(){if(a){var h=a;a=null,c&&c[Vs](),c=null;var g=[];if(q(h,function(m){if(m&&(m[s]&&(q(m[s],function(_){_.clr(m)}),m[s]=null),m.fn))try{l(m,m.fn)}catch(_){g[Ve](_)}}),a)try{d()}catch(m){g[Ve](m)}g[he]>0&&TF("Watcher error(s): ",g)}}function p(h){if(h&&h.h[he]>0){a||(a=[]),c||(c=un(function(){c=null,d()},0));for(var g=0;g<h.h[he];g++){var m=h.h[g];m&&Nt(a,m)===-1&&a[Ve](m)}}}function f(h,g){if(h){var m=h[s]=h[s]||[];Nt(m,g)===-1&&m[Ve](g)}}return u=(t={prop:n,ro:r,rf:i},t[Ba]=o,t[Py]=e,t.add=p,t[Au]=d,t.use=l,t.trk=f,t),u}function J5(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return ke(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),e.use(n,t),n}function Q5(e,t,n){var r,i=tL(t);if(i)return i;var o=nn("dyncfg",!0),s=t&&n!==!1?t:gw(t),a;function c(){a[Au]()}function u(_,E,w){try{_=Gh(a,_,E,w)}catch(R){tf(e,E,"Setting value",R)}return _[E]}function l(_){return J5(a,_)}function d(_,E){a.use(null,function(w){var R=a.upd;try{at(E)||(a.upd=E),_(w)}finally{a.upd=R}})}function p(_,E){var w;return sE(a,_,E,(w={},w[0]=!0,w))[E]}function f(_,E){var w;return sE(a,_,E,(w={},w[1]=!0,w))[E]}function h(_,E){var w;return sE(a,_,E,(w={},w[2]=!0,w))[E]}function g(_,E){return E&&Te(E,function(w,R){Yh(m,_,w,R)}),_}var m=(r={uid:null,cfg:s},r[At]=e,r[Au]=c,r.set=u,r[vo]=g,r[_o]=l,r.ref=p,r[Nu]=f,r[Ba]=h,r._block=d,r);return ke(m,"uid",{c:!1,e:!1,w:!1,v:o}),a=rL(m),$h(a,s,"config","Creating"),m}function eW(e,t){e?(e[Bd](t),e[Us](2,108,t)):iE(t)}function In(e,t,n,r){var i=Q5(n,e||{},r);return t&&i[vo](i.cfg,t),i}function ct(e,t,n){var r=e[zo]||e;return r.cfg&&(r.cfg===e||r.cfg[zo]===r)?r[_o](t):(eW(n,FF+Q(e)),In(e,null,n)[_o](t))}function Ys(e,t){if(e&&e[Gr])return e[Gr](t)}function aE(e,t,n){var r;return n||(r=vi(function(i){n=i})),e&&_b(e)>0?Nr(Ys(e[0],t),function(){aE(Ld(e,1),t,n)}):n(),r}var iL=500,mw="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function tW(e,t,n){return!e&&k(e)?t:Eh(e)?e:sn(e)[mo]()==="true"}function Ar(e){return{mrg:!0,v:e}}function cE(e,t){return{set:e,v:t}}function Qa(e,t,n){return{fb:n,isVal:e,v:t}}function Qt(e,t){return{fb:t,set:tW,v:!!e}}function vw(e){return{isVal:fe,v:sn(e||Ue)}}var _w=[Kd,Ka,Xd,$o],lE=null,uE;function nW(e,t){return function(){var n=arguments,r=yw(t);if(r){var i=r.listener;i&&i[e]&&i[e][Ui](i,n)}}}function rW(){var e=Tt("Microsoft");return e&&(lE=e.ApplicationInsights),lE}function yw(e){var t=lE;return!t&&e.disableDbgExt!==!0&&(t=lE||rW()),t?t.ChromeDbgExt:null}function oL(e){if(!uE){uE={};for(var t=0;t<_w[he];t++)uE[_w[t]]=nW(_w[t],e)}return uE}var nf,aL="warnToConsole",iW="AI (Internal): ",oW="AI: ",sW="AITR_",aW={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},cW=(nf={},nf[0]=null,nf[1]="errorToConsole",nf[2]=aL,nf[3]="debugToConsole",nf);function sL(e){return e?'"'+e[Do](/\"/g,Ue)+'"':Ue}function Ew(e,t){var n=aw();if(n){var r="log";n[e]&&(r=e),me(n[r])&&n[r](t)}}var $s=function(){function e(t,n,r,i){r===void 0&&(r=!1);var o=this;o[zd]=t,o[Ho]=(r?oW:iW)+t;var s=Ue;Go()&&(s=Dn().stringify(i));var a=(n?" message:"+sL(n):Ue)+(i?" props:"+sL(s):Ue);o[Ho]+=a}return e.dataType="MessageData",e}();function xr(e,t){return(e||{})[At]||new rf(t)}var rf=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},i,o,s,a,c;Oe(e,this,function(u){c=d(t||{}),u.consoleLoggingLevel=function(){return i},u[Us]=function(h,g,m,_,E){E===void 0&&(E=!1);var w=new $s(g,m,E,_);if(a)throw Q(w);var R=cW[h]||aL;if(at(w[Ho]))f("throw"+(h===1?"Critical":"Warning"),w);else{if(E){var U=+w[zd];!r[U]&&i>=h&&(u[R](w[Ho]),r[U]=!0)}else i>=h&&u[R](w[Ho]);l(h,w)}},u.debugToConsole=function(h){Ew("debug",h),f("warning",h)},u[Bd]=function(h){Ew("warn",h),f("warning",h)},u.errorToConsole=function(h){Ew("error",h),f("error",h)},u.resetInternalMessageCount=function(){n=0,r={}},u[Ub]=l,u[Gr]=function(h){c&&c.rm(),c=null};function l(h,g){if(!p()){var m=!0,_=sW+g[zd];if(r[_]?m=!1:r[_]=!0,m&&(h<=o&&(u.queue[Ve](g),n++,f(h===1?"error":"warn",g)),n===s)){var E="Internal events throttle limit per PageView reached for this app.",w=new $s(23,E,!1);u.queue[Ve](w),h===1?u.errorToConsole(E):u[Bd](E)}}}function d(h){return ct(In(h,aW,u).cfg,function(g){var m=g.cfg;i=m[Fy],o=m.loggingLevelTelemetry,s=m.maxMessageLimit,a=m.enableDebug})}function p(){return n>=s}function f(h,g){var m=yw(t||{});m&&m[zr]&&m[zr](h,g)}})}return e.__ieDyn=1,e}();function Dw(e){return e||new rf}function H(e,t,n,r,i,o){o===void 0&&(o=!1),Dw(e)[Us](t,n,r,i,o)}function yi(e,t){Dw(e)[Bd](t)}function Iw(e,t,n){Dw(e)[Ub](t,n)}var Sw,Yu,cL="toGMTString",uL="toUTCString",Nw="cookie",Tw="expires",lL="isCookieUseDisabled",bw="disableCookiesUsage",ec="_ckMgr",dE=null,Cw=null,dL=null,Wo,fL={},pE={},uW=(Sw={cookieCfg:Ar((Yu={},Yu[Ky]={fb:"cookieDomain",dfVal:ji},Yu.path={fb:"cookiePath",dfVal:ji},Yu.enabled=_i,Yu.ignoreCookies=_i,Yu.blockedCookies=_i,Yu)),cookieDomain:_i,cookiePath:_i},Sw[bw]=_i,Sw);function Aw(){!Wo&&(Wo=sF(function(){return kt()}))}function lW(e,t){var n=$u[ec]||pE[ec];return n||(n=$u[ec]=$u(e,t),pE[ec]=n),n}function fE(e){return e?e.isEnabled():!0}function vL(e,t){return t&&e&&Se(e.ignoreCookies)?Nt(e.ignoreCookies,t)!==-1:!1}function dW(e,t){return t&&e&&Se(e.blockedCookies)&&Nt(e.blockedCookies,t)!==-1?!0:vL(e,t)}function pL(e,t){var n=t[$a];if(k(n)){var r=void 0;at(e[lL])||(r=!e[lL]),at(e[bw])||(r=!e[bw]),n=r}return n}function Gu(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r&&r[ec]?n=r[ec]:n=$u(t)}return n||(n=lW(t,(e||{})[At])),n}function $u(e,t){var n,r,i,o,s,a,c,u,l;e=In(e||pE,null,t).cfg,s=ct(e,function(p){p[vo](p.cfg,uW),r=p.ref(p.cfg,"cookieCfg"),i=r[Xy]||"/",o=r[Ky],a=pL(e,r)!==!1,c=r.getCookie||fW,u=r.setCookie||mL,l=r.delCookie||mL},t);var d=(n={isEnabled:function(){var p=pL(e,r)!==!1&&a&&ww(t),f=pE[ec];return p&&f&&d!==f&&(p=fE(f)),p},setEnabled:function(p){a=p!==!1,r[$a]=p},set:function(p,f,h,g,m){var _=!1;if(fE(d)&&!dW(r,p)){var E={},w=pt(f||Ue),R=Wt(w,";");if(R!==-1&&(w=pt(Dh(f,R)),E=_L(pi(f,R+1))),Et(E,Ky,g||o,Ua,at),!k(h)){var U=ef();if(at(E[Tw])){var X=xn(),x=X+h*1e3;if(x>0){var J=new Date;J.setTime(x),Et(E,Tw,hL(J,U?cL:uL)||hL(J,U?cL:uL)||Ue,Ua)}}U||Et(E,"max-age",Ue+h,null,at)}var I=Zn();I&&I[Ly]==="https:"&&(Et(E,"secure",null,null,at),Cw===null&&(Cw=!yL((Kn()||{})[xh])),Cw&&Et(E,"SameSite","None",null,at)),Et(E,Xy,m||i,null,at),u(p,gL(w,E)),_=!0}return _},get:function(p){var f=Ue;return fE(d)&&!vL(r,p)&&(f=c(p)),f},del:function(p,f){var h=!1;return fE(d)&&(h=d.purge(p,f)),h},purge:function(p,f){var h,g=!1;if(ww(t)){var m=(h={},h[Xy]=f||"/",h[Tw]="Thu, 01 Jan 1970 00:00:01 GMT",h);ef()||(m["max-age"]="0"),l(p,gL(Ue,m)),g=!0}return g}},n[Gr]=function(p){s&&s.rm(),s=null},n);return d[ec]=d,d}function ww(e){if(dE===null){dE=!1,!Wo&&Aw();try{var t=Wo.v||{};dE=t[Nw]!==void 0}catch(n){H(e,2,68,"Cannot access document.cookie - "+qe(n),{exception:Q(n)})}}return dE}function _L(e){var t={};if(e&&e[he]){var n=pt(e)[Eo](";");q(n,function(r){if(r=pt(r||Ue),r){var i=Wt(r,"=");i===-1?t[r]=null:t[pt(Dh(r,i))]=pt(pi(r,i+1))}})}return t}function hL(e,t){return me(e[t])?e[t]():null}function gL(e,t){var n=e||Ue;return Te(t,function(r,i){n+="; "+r+(k(i)?Ue:"="+i)}),n}function fW(e){var t=Ue;if(!Wo&&Aw(),Wo.v){var n=Wo.v[Nw]||Ue;dL!==n&&(fL=_L(n),dL=n),t=pt(fL[e]||Ue)}return t}function mL(e,t){!Wo&&Aw(),Wo.v&&(Wo.v[Nw]=e+"="+t)}function yL(e){return fe(e)?!!(Mn(e,"CPU iPhone OS 12")||Mn(e,"iPad; CPU OS 12")||Mn(e,"Macintosh; Intel Mac OS X 10_14")&&Mn(e,"Version/")&&Mn(e,"Safari")||Mn(e,"Macintosh; Intel Mac OS X 10_14")&&Th(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Mn(e,"Chrome/5")||Mn(e,"Chrome/6")||Mn(e,"UnrealEngine")&&!Mn(e,"Chrome")||Mn(e,"UCBrowser/12")||Mn(e,"UCBrowser/11")):!1}var pW={perfEvtsSendAll:!1};function hW(e){e.h=null;var t=e.cb;e.cb=[],q(t,function(n){_n(n.fn,[n.arg])})}function tc(e,t,n,r){q(e,function(i){i&&i[t]&&(n?(n.cb[Ve]({fn:r,arg:i}),n.h=n.h||un(hW,0,n)):_n(r,[i]))})}var EL=function(){function e(t){this.listeners=[];var n,r,i=[],o={h:null,cb:[]},s=In(t,pW);r=s[_o](function(a){n=!!a.cfg.perfEvtsSendAll}),Oe(e,this,function(a){ke(a,"listeners",{g:function(){return i}}),a[Yd]=function(c){i[Ve](c)},a[Hd]=function(c){for(var u=Nt(i,c);u>-1;)i[Vi](u,1),u=Nt(i,c)},a[Kd]=function(c){tc(i,Kd,o,function(u){u[Kd](c)})},a[Ka]=function(c,u){tc(i,Ka,o,function(l){l[Ka](c,u)})},a[Xd]=function(c,u){tc(i,Xd,u?o:null,function(l){l[Xd](c,u)})},a[$o]=function(c){c&&(n||!c[Rh]())&&tc(i,$o,null,function(u){c[yo]?un(function(){return u[$o](c)},0):u[$o](c)})},a[zy]=function(c){c&&c[he]&&tc(i,zy,o,function(u){u[zy](c)})},a[Wy]=function(c){c&&c[Wa]&&tc(i,Wy,o,function(u){u[Wy](c)})},a[qy]=function(c,u){if(c>0){var l=u||0;tc(i,qy,o,function(d){d[qy](c,l)})}},a[Gr]=function(c){var u=function(){r&&r.rm(),r=null,i=[],o.h&&o.h[Vs](),o.h=null,o.cb=[]},l;if(tc(i,"unload",null,function(d){var p=d[Gr](c);p&&(l||(l=[]),l[Ve](p))}),l)return vi(function(d){return Nr(kF(l),function(){u(),d()})});u()}})}return e.__ieDyn=1,e}();var of="ctx",Rw="ParentContextKey",qh="ChildrenContextKey",gW=null,Kh=function(){function e(t,n,r){var i=this;if(i.start=xn(),i[Xn]=t,i[yo]=r,i[Rh]=function(){return!1},me(n)){var o;ke(i,"payload",{g:function(){return!o&&me(n)&&(o=n(),n=null),o}})}i[Pu]=function(s){return s?s===e[Rw]||s===e[qh]?i[s]:(i[of]||{})[s]:null},i[Io]=function(s,a){if(s)if(s===e[Rw])i[s]||(i[Rh]=function(){return!0}),i[s]=a;else if(s===e[qh])i[s]=a;else{var c=i[of]=i[of]||{};c[s]=a}},i[jy]=function(){var s=0,a=i[Pu](e[qh]);if(Se(a))for(var c=0;c<a[he];c++){var u=a[c];u&&(s+=u[Ya])}i[Ya]=xn()-i.start,i.exTime=i[Ya]-s,i[jy]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}();var Mw=function(){function e(t){this.ctx={},Oe(e,this,function(n){n.create=function(r,i,o){return new Kh(r,i,o)},n.fire=function(r){r&&(r[jy](),t&&me(t[$o])&&t[$o](r))},n[Io]=function(r,i){if(r){var o=n[of]=n[of]||{};o[r]=i}},n[Pu]=function(r){return(n[of]||{})[r]}})}return e.__ieDyn=1,e}();var xw="CoreUtils.doPerf";function nc(e,t,n,r,i){if(e){var o=e;if(o[Zd]&&(o=o[Zd]()),o){var s=void 0,a=o[Pu](xw);try{if(s=o.create(t(),r,i),s){if(a&&s[Io]&&(s[Io](Kh[Rw],a),a[Pu]&&a[Io])){var c=a[Pu](Kh[qh]);c||(c=[],a[Io](Kh[qh],c)),c[Ve](s)}return o[Io](xw,s),n(s)}}catch(u){s&&s[Io]&&s[Io]("exception",u)}finally{s&&o.fire(s),o[Io](xw,a)}}}return n()}function Pw(){return gW}function Ei(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=Ue,n,r=0;r<4;r++)n=Bu(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(Bu()&3)|0];return ho(t,0,8)+ho(t,9,4)+"4"+ho(t,13,3)+i+ho(t,16,3)+ho(t,19,12)}var Ow="00",mW="ff",IL="00000000000000000000000000000000",SL="0000000000000000";function Xh(e,t,n){return e&&e[he]===t&&e!==n?!!e.match(/^[\da-f]*$/i):!1}function DL(e,t,n){return Xh(e,t)?e:n}function vW(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[he]<2;)t="0"+t;return t}function Zh(e,t,n,r){var i;return i={},i[Gd]=Xh(r,2,mW)?r:Ow,i[Mh]=zu(e)?e:Ei(),i[Ph]=Wu(t)?t:Dh(Ei(),16),i.traceFlags=n>=0&&n<=255?n:1,i}function zu(e){return Xh(e,32,IL)}function Wu(e){return Xh(e,16,SL)}function Jh(e){if(e){var t=vW(e[Oh]);Xh(t,2)||(t="01");var n=e[Gd]||Ow;return n!=="00"&&n!=="ff"&&(n=Ow),"".concat(n.toLowerCase(),"-").concat(DL(e.traceId,32,IL).toLowerCase(),"-").concat(DL(e.spanId,16,SL).toLowerCase(),"-").concat(t.toLowerCase())}return""}function hE(e){var t=e.getElementsByTagName("script"),n=[];return q(t,function(r){var i=r[Hy]("src");if(i){var o=r[Hy]("crossorigin"),s=r.hasAttribute("async")===!0,a=r.hasAttribute("defer")===!0,c=r[Hy]("referrerpolicy"),u={url:i};o&&(u.crossOrigin=o),s&&(u.async=s),a&&(u.defer=a),c&&(u.referrerPolicy=c),n[Ve](u)}}),n}var _W=tE("plugin");function Gs(e){return _W.get(e,"state",{},!0)}function kw(e,t){for(var n=[],r=null,i=e[mi](),o;i;){var s=i[Ha]();if(s){r&&r[za]&&s[Wr]&&r[za](s),o=Gs(s);var a=!!o[$r];s[$r]&&(a=s[$r]()),a||n[Ve](s),r=s,i=i[mi]()}}q(n,function(c){var u=e[Jt]();c[js](e.getCfg(),u,t,e[mi]()),o=Gs(c),!c[Jt]&&!o[Jt]&&(o[Jt]=u),o[$r]=!0,delete o[gi]})}function gE(e){return e.sort(function(t,n){var r=0;if(n){var i=n[Wr];t[Wr]?r=i?t[Fu]-n[Fu]:1:i&&(r=-1)}else r=t?1:-1;return r})}function TL(e){var t={};return{getName:function(){return t[Xn]},setName:function(n){e&&e.setName(n),t[Xn]=n},getTraceId:function(){return t[Mh]},setTraceId:function(n){e&&e.setTraceId(n),zu(n)&&(t[Mh]=n)},getSpanId:function(){return t[Ph]},setSpanId:function(n){e&&e.setSpanId(n),Wu(n)&&(t[Ph]=n)},getTraceFlags:function(){return t[Oh]},setTraceFlags:function(n){e&&e.setTraceFlags(n),t[Oh]=n}}}var yW="TelemetryPluginChain",CL="_hasRun",bL="_getTelCtx",wL=0;function EW(e,t,n){for(;e;){if(e[Ha]()===n)return e;e=e[mi]()}return rc([n],t.config||{},t)}function Fw(e,t,n,r){var i=null,o=[];t||(t=In({},null,n[At])),r!==null&&(i=r?EW(e,n,r):e);var s={_next:c,ctx:{core:function(){return n},diagLog:function(){return xr(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:l,getConfig:d,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(f){i=f},iterate:p,onComplete:a}};function a(f,h){for(var g=[],m=2;m<arguments.length;m++)g[m-2]=arguments[m];f&&o[Ve]({func:f,self:at(h)?s.ctx:h,args:g})}function c(){var f=i;if(i=f?f[mi]():null,!f){var h=o;h&&h[he]>0&&(q(h,function(g){try{g.func.call(g.self,g.args)}catch(m){H(n[At],2,73,"Unexpected Exception during onComplete - "+Q(m))}}),o=[])}return f}function u(f,h){var g=null,m=t.cfg;if(m&&f){var _=m[Bs];!_&&h&&(_={}),m[Bs]=_,_=t.ref(m,Bs),_&&(g=_[f],!g&&h&&(g={}),_[f]=g,g=t.ref(_,f))}return g}function l(f,h){var g=u(f,!0);return h&&Te(h,function(m,_){if(k(g[m])){var E=t.cfg[m];(E||!k(E))&&(g[m]=E)}Yh(t,g,m,_)}),t[vo](g,h)}function d(f,h,g){g===void 0&&(g=!1);var m,_=u(f,!1),E=t.cfg;return _&&(_[h]||!k(_[h]))?m=_[h]:(E[h]||!k(E[h]))&&(m=E[h]),m||!k(m)?m:g}function p(f){for(var h;h=s._next();){var g=h[Ha]();g&&f(g)}}return s}function Sn(e,t,n,r){var i=In(t),o=Fw(e,i,n,r),s=o.ctx;function a(u){var l=o._next();return l&&l[Wr](u,s),!l}function c(u,l){return u===void 0&&(u=null),Se(u)&&(u=rc(u,i.cfg,n,l)),Sn(u||s[mi](),i.cfg,n,l)}return s[Rn]=a,s[Bo]=c,s}function sf(e,t,n){var r=In(t.config),i=Fw(e,r,t,n),o=i.ctx;function s(c){var u=i._next();return u&&u[Gr](o,c),!u}function a(c,u){return c===void 0&&(c=null),Se(c)&&(c=rc(c,r.cfg,t,u)),sf(c||o[mi](),t,u)}return o[Rn]=s,o[Bo]=a,o}function Qh(e,t,n){var r=In(t.config),i=Fw(e,r,t,n),o=i.ctx;function s(c){return o.iterate(function(u){me(u[Ru])&&u[Ru](o,c)})}function a(c,u){return c===void 0&&(c=null),Se(c)&&(c=rc(c,r.cfg,t,u)),Qh(c||o[mi](),t,u)}return o[Rn]=s,o[Bo]=a,o}function rc(e,t,n,r){var i=null,o=!r;if(Se(e)&&e[he]>0){var s=null;q(e,function(a){if(!o&&r===a&&(o=!0),o&&a&&me(a[Wr])){var c=DW(a,t,n);i||(i=c),s&&s._setNext(c),s=c}})}return r&&!i?rc([r],t,n):i}function DW(e,t,n){var r=null,i=me(e[Wr]),o=me(e[za]),s;e?s=e[jo]+"-"+e[Fu]+"-"+wL++:s="Unknown-0-"+wL++;var a={getPlugin:function(){return e},getNext:function(){return r},processTelemetry:l,unload:d,update:p,_id:s,_setNext:function(f){r=f}};function c(){var f;return e&&me(e[bL])&&(f=e[bL]()),f||(f=Sn(a,t,n)),f}function u(f,h,g,m,_){var E=!1,w=e?e[jo]:yW,R=f[CL];return R||(R=f[CL]={}),f.setNext(r),e&&nc(f[Jt](),function(){return w+":"+g},function(){R[s]=!0;try{var U=r?r._id:Ue;U&&(R[U]=!1),E=h(f)}catch(x){var X=r?R[r._id]:!0;X&&(E=!0),(!r||!X)&&H(f[zr](),1,73,"Plugin ["+w+"] failed during "+g+" - "+Q(x)+", run flags: "+Q(R))}},m,_),E}function l(f,h){h=h||c();function g(m){if(!e||!i)return!1;var _=Gs(e);return _[gi]||_[Fh]?!1:(o&&e[za](r),e[Wr](f,m),!0)}u(h,g,"processTelemetry",function(){return{item:f}},!f.sync)||h[Rn](f)}function d(f,h){function g(){var m=!1;if(e){var _=Gs(e),E=e[Jt]||_[Jt];e&&(!E||E===f.core())&&!_[gi]&&(_[Jt]=null,_[gi]=!0,_[$r]=!1,e[gi]&&e[gi](f,h)===!0&&(m=!0))}return m}u(f,g,"unload",function(){},h[yo])||f[Rn](h)}function p(f,h){function g(){var m=!1;if(e){var _=Gs(e),E=e[Jt]||_[Jt];e&&(!E||E===f.core())&&!_[gi]&&e[Ru]&&e[Ru](f,h)===!0&&(m=!0)}return m}u(f,g,"update",function(){},!1)||f[Rn](h)}return ur(a)}function mE(){var e=[];function t(r){r&&e[Ve](r)}function n(r,i){q(e,function(o){try{o(r,i)}catch(s){H(r[zr](),2,73,"Unexpected error calling unload handler - "+Q(s))}}),e=[]}return{add:t,run:n}}var vE,_E;function yE(){var e=[];function t(r){var i=e;e=[],q(i,function(o){try{(o.rm||o.remove).call(o)}catch(s){H(r,2,73,"Unloading:"+Q(s))}}),vE&&i[he]>vE&&(_E?_E("doUnload",i):H(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}function n(r){r&&(Fs(e,r),vE&&e[he]>vE&&(_E?_E("Add",e):H(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return{run:t,add:n}}var Lw,ic="getPlugin",IW=(Lw={},Lw[Bs]={isVal:ji,v:{}},Lw),Di=function(){function e(){var t=this,n,r,i,o,s;u(),Oe(e,t,function(l){l[js]=function(d,p,f,h){c(d,p,h),n=!0},l[gi]=function(d,p){var f,h=l[Jt];if(!h||d&&h!==d[Jt]())return;var g,m=!1,_=d||sf(null,h,i&&i[ic]?i[ic]():i),E=p||(f={reason:0},f[yo]=!1,f);function w(){m||(m=!0,o.run(_,p),s.run(_[zr]()),g===!0&&_[Rn](E),u())}return!l[Ga]||l[Ga](_,E,w)!==!0?w():g=!0,g},l[Ru]=function(d,p){var f=l[Jt];if(!f||d&&f!==d[Jt]())return;var h,g=!1,m=d||Qh(null,f,i&&i[ic]?i[ic]():i),_=p||{reason:0};function E(){g||(g=!0,c(m.getCfg(),m.core(),m[mi]()))}return!l._doUpdate||l._doUpdate(m,_,E)!==!0?E():h=!0,h},Uu(l,"_addUnloadCb",function(){return o},"add"),Uu(l,"_addHook",function(){return s},"add"),ke(l,"_unloadHooks",{g:function(){return s}})}),t[zr]=function(l){return a(l)[zr]()},t[$r]=function(){return n},t.setInitialized=function(l){n=l},t[za]=function(l){i=l},t[Rn]=function(l,d){d?d[Rn](l):i&&me(i[Wr])&&i[Wr](l,null)},t._getTelCtx=a;function a(l){l===void 0&&(l=null);var d=l;if(!d){var p=r||Sn(null,{},t[Jt]);i&&i[ic]?d=p[Bo](null,i[ic]):d=p[Bo](null,i)}return d}function c(l,d,p){In(l,IW,xr(d)),!p&&d&&(p=d[ky]()[mi]());var f=i;i&&i[ic]&&(f=i[ic]()),t[Jt]=d,r=Sn(p,l,d,f)}function u(){n=!1,t[Jt]=null,r=null,i=null,s=yE(),o=mE()}}return e.__ieDyn=1,e}();function SW(e,t,n){var r={id:t,fn:n};Fs(e,r);var i={remove:function(){q(e,function(o,s){if(o.id===r.id)return e[Vi](s,1),-1})}};return i}function TW(e,t,n){for(var r=!1,i=e[he],o=0;o<i;++o){var s=e[o];if(s)try{if(s.fn[Ui](null,[t])===!1){r=!0;break}}catch(a){H(n,2,64,"Telemetry initializer failed: "+qe(a),{exception:Q(a)},!0)}}return!r}var NL=function(e){Un(t,e);function t(){var n=e.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,i;o(),Oe(t,n,function(s,a){s.addTelemetryInitializer=function(c){return SW(i,r++,c)},s[Wr]=function(c,u){TW(i,c,u?u[zr]():s[zr]())&&s[Rn](c,u)},s[Ga]=function(){o()}});function o(){r=0,i=[]}return n}return t.__ieDyn=1,t}(Di);var oc,ML="Plugins must provide initialize method",CW="_notificationManager",AL="SDK is still unloading...",bW="SDK is not initialized",wW=100,NW=5e4,Uw=fi((oc={cookieCfg:{}},oc[ku]={rdOnly:!0,ref:!0,v:[]},oc[qa]={rdOnly:!0,ref:!0,v:[]},oc[Bs]={ref:!0,v:{}},oc[Gy]=_i,oc.loggingLevelConsole=0,oc.diagnosticLogInterval=_i,oc));function AW(e,t){return new Mw(t)}function xW(e,t,n){var r,i=[],o=[],s={};return q(n,function(a){(k(a)||k(a[js]))&&Ln(ML);var c=a[Fu],u=a[jo];a&&c&&(k(s[c])?s[c]=u:yi(e,"Two extensions have same priority #"+c+" - "+s[c]+", "+u)),!c||c<t?i[Ve](a):o[Ve](a)}),r={},r[Jt]=i,r[qa]=o,r}function xL(e,t){var n=!1;return q(t,function(r){if(r===e)return n=!0,-1}),n}function Vw(e,t,n,r){n&&Te(n,function(i,o){r&&En(o)&&En(t[i])&&Vw(e,t[i],o,r),r&&En(o)&&En(t[i])?Vw(e,t[i],o,r):e.set(t,i,o)})}function RL(e,t){var n=null,r=-1;return q(e,function(i,o){if(i.w===t)return n=i,r=o,-1}),{i:r,l:n}}function RW(e,t){var n=RL(e,t).l;return n||(n={w:t,rm:function(){var r=RL(e,t);r.i!==-1&&e[Vi](r.i,1)}},e[Ve](n)),n}function MW(e,t,n){q(t,function(r){var i=ct(e,r.w,n);delete r.w,r.rm=function(){i.rm()}})}function PW(e,t,n,r){return t.add(e[_o](function(i){var o=i.cfg.disableDbgExt;o===!0&&r&&(n[Hd](r),r=null),n&&!r&&o!==!0&&(r=oL(i.cfg),n[Yd](r))})),r}function OW(e){return ke({rm:function(){e.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"}})}var jw=function(){function e(){var t,n,r,i,o,s,a,c,u,l,d,p,f,h,g,m,_,E,w,R,U,X,x,J,I,j,Z,Ee,ue,y,C,G,P;Oe(e,this,function(A){v(),A._getDbgPlgTargets=function(){return[x,i]},A[$r]=function(){return n},A.activeStatus=function(){return j},A._setPendingStatus=function(){j=3},A[js]=function(L,ce,Ne,_e){f&&Ln(AL),A[$r]()&&Ln("Core cannot be initialized more than once"),t=In(L,Uw,Ne||A[At],!1),L=t.cfg,Hn(t[_o](function(b){var F=b.cfg,z=j===3;if(!z){Ee=F.initInMemoMaxSize||wW;var B=F[kb],ee=F.endpointUrl;if(k(B)){U=null,j=go[Oy];var ye="Please provide instrumentation key";n?(H(r,1,100,ye),xe()):Ln(ye);return}var Ce=[];if(di(B)?(Ce[Ve](B),U=null):U=B,di(ee)?(Ce[Ve](ee),Z=null):Z=ee,Ce[he]){ue=!1,j=3;var Be=ji(F.initTimeOut)?F.initTimeOut:NW,Me=OF(Ce);y=un(function(){y=null,ue||ve()},Be),Nr(Me,function(vt){try{if(ue)return;if(!vt.rejected){var Kt=vt[xu];if(Kt&&Kt[he]){var Ni=Kt[0];if(U=Ni&&Ni[xu],Kt[he]>1){var ei=Kt[1];Z=ei&&ei[xu]}}U&&(L[kb]=U,L.endpointUrl=Z)}ve()}catch{ue||ve()}})}else ve();var it=b.ref(b.cfg,Bs);Te(it,function(vt){b.ref(it,vt)})}})),o=_e,w=PW(t,E,o&&A[Nh](),w),jt(),A[At]=Ne;var Re=L[ku];if(l=[],l[Ve].apply(l,My(My([],ce,!1),Re,!1)),d=L[qa],V(null),(!p||p[he]===0)&&Ln("No "+qa+" available"),d&&d[he]>1){var gt=A[Ha]("TeeChannelController");(!gt||!gt.plugin)&&H(r,1,28,"TeeChannel required")}MW(L,X,r),X=null,n=!0,j===go.ACTIVE&&xe()},A.getChannels=function(){var L=[];return p&&q(p,function(ce){L[Ve](ce)}),ur(L)},A.track=function(L){nc(A[Zd](),function(){return"AppInsightsCore:track"},function(){L===null&&(Bn(L),Ln("Invalid telemetry item")),!L[Xn]&&k(L[Xn])&&(Bn(L),Ln("telemetry name required")),L[$d]=L[$d]||U,L[Ya]=L[Ya]||Bi(new Date),L.ver=L.ver||"4.0",!f&&A[$r]()&&j===go.ACTIVE?O()[Rn](L):j!==go[Oy]&&i[he]<=Ee&&i[Ve](L)},function(){return{item:L}},!L.sync)},A[ky]=O,A[Nh]=function(){return o||(o=new EL(t.cfg),A[CW]=o),o},A[Yd]=function(L){A.getNotifyMgr()[Yd](L)},A[Hd]=function(L){o&&o[Hd](L)},A.getCookieMgr=function(){return c||(c=$u(t.cfg,A[At])),c},A.setCookieMgr=function(L){c!==L&&(Ys(c,!1),c=L)},A[Zd]=function(){return s||a||Pw()},A.setPerfMgr=function(L){s=L},A.eventCnt=function(){return i[he]},A.releaseQueue=function(){if(n&&i[he]>0){var L=i;i=[],j===2?q(L,function(ce){ce[$d]=ce[$d]||U,O()[Rn](ce)}):H(r,2,20,"core init status is not active")}},A[Fb]=function(L){return g=L||null,P=!1,C&&C[Vs](),Y(!0)};function ve(){ue=!0,k(U)?(j=go[Oy],H(r,1,112,"ikey can't be resolved from promises")):j=go.ACTIVE,xe()}function xe(){n&&(A.releaseQueue(),A[Fb]())}function Y(L){if((!C||!C[$a])&&!P){var ce=L||r&&r.queue[he]>0;ce&&(G||(G=!0,Hn(t[_o](function(Ne){var _e=Ne.cfg.diagnosticLogInterval;(!_e||!(_e>0))&&(_e=1e4);var Re=!1;C&&(Re=C[$a],C[Vs]()),C=vF(Je,_e),C.unref(),C[$a]=Re}))),C[$a]=!0)}return C}A[Lb]=function(){P=!0,C&&C[Vs](),Je()},Xa(A,function(){return h},["addTelemetryInitializer"]),A[Gr]=function(L,ce,Ne){var _e;L===void 0&&(L=!0),n||Ln(bW),f&&Ln(AL);var Re=(_e={reason:50},_e[yo]=L,_e.flushComplete=!1,_e),gt;L&&!ce&&(gt=vi(function(z){ce=z}));var b=sf(De(),A);b[Ah](function(){E.run(A[At]),aE([c,o,r],L,function(){v(),ce&&ce(Re)})},A);function F(z){Re.flushComplete=z,f=!0,_.run(b,Re),A[Lb](),b[Rn](Re)}return Je(),ut(L,F,6,Ne)||F(!1),gt},A[Ha]=ie,A.addPlugin=function(L,ce,Ne,_e){if(!L){_e&&_e(!1),xt(ML);return}var Re=ie(L[jo]);if(Re&&!ce){_e&&_e(!1),xt("Plugin ["+L[jo]+"] is already loaded!");return}var gt={reason:16};function b(B){l[Ve](L),gt.added=[L],V(gt),_e&&_e(!0)}if(Re){var F=[Re.plugin],z={reason:2,isAsync:!!Ne};Ze(F,z,function(B){B?(gt.removed=F,gt.reason|=32,b(!0)):_e&&_e(!1)})}else b(!1)},A.updateCfg=function(L,ce){ce===void 0&&(ce=!0);var Ne;if(A[$r]()){Ne={reason:1,cfg:t.cfg,oldCfg:vb({},t.cfg),newConfig:vb({},L),merge:ce},L=Ne.newConfig;var _e=t.cfg;L[ku]=_e[ku],L[qa]=_e[qa]}t._block(function(Re){var gt=Re.cfg;Vw(Re,gt,L,ce),ce||Te(gt,function(b){po(L,b)||Re.set(gt,b,_i)}),Re[vo](gt,Uw)},!0),t[Au](),Ne&&Qr(Ne)},A.evtNamespace=function(){return m},A.flush=ut,A.getTraceCtx=function(L){return R||(R=TL()),R},A.setTraceCtx=function(L){R=L||null},A.addUnloadHook=Hn,Uu(A,"addUnloadCb",function(){return _},"add"),A.onCfgChange=function(L){var ce;return n?ce=ct(t.cfg,L,A[At]):ce=RW(X,L),OW(ce)},A.getWParam=function(){return Ih()||t.cfg.enableWParam?0:-1};function ne(){var L={};J=[];var ce=function(Ne){Ne&&q(Ne,function(_e){if(_e[jo]&&_e[Gd]&&!L[_e.identifier]){var Re=_e[jo]+"="+_e[Gd];J[Ve](Re),L[_e.identifier]=_e}})};ce(p),d&&q(d,function(Ne){ce(Ne)}),ce(l)}function v(){n=!1,t=In({},Uw,A[At]),t.cfg[Fy]=1,ke(A,"config",{g:function(){return t.cfg},s:function(ce){A.updateCfg(ce,!1)}}),ke(A,"pluginVersionStringArr",{g:function(){return J||ne(),J}}),ke(A,"pluginVersionString",{g:function(){return I||(J||ne(),I=J.join(";")),I||Ue}}),ke(A,"logger",{g:function(){return r||(r=new rf(t.cfg),t[At]=r),r},s:function(ce){t[At]=ce,r!==ce&&(Ys(r,!1),r=ce)}}),A[At]=new rf(t.cfg),x=[];var L=A.config[ku]||[];L.splice(0,L[he]),Fs(L,x),h=new NL,i=[],Ys(o,!1),o=null,s=null,a=null,Ys(c,!1),c=null,u=null,l=[],d=null,p=null,f=!1,g=null,m=nn("AIBaseCore",!0),_=mE(),R=null,U=null,E=yE(),X=[],I=null,J=null,P=!1,C=null,G=!1,j=0,Z=null,Ee=null,ue=!1,y=null}function O(){var L=Sn(De(),t.cfg,A);return L[Ah](Y),L}function V(L){var ce=xW(A[At],iL,l);u=null,I=null,J=null,p=(d||[])[0]||[],p=gE(Fs(p,ce[qa]));var Ne=Fs(gE(ce[Jt]),p);x=ur(Ne);var _e=A.config[ku]||[];_e.splice(0,_e[he]),Fs(_e,x);var Re=O();p&&p[he]>0&&kw(Re[Bo](p),Ne),kw(Re,Ne),L&&Qr(L)}function ie(L){var ce=null,Ne=null,_e=[];return q(x,function(Re){if(Re[jo]===L&&Re!==h)return Ne=Re,-1;Re.getChannel&&_e[Ve](Re)}),!Ne&&_e[he]>0&&q(_e,function(Re){if(Ne=Re.getChannel(L),!Ne)return-1}),Ne&&(ce={plugin:Ne,setEnabled:function(Re){Gs(Ne)[Fh]=!Re},isEnabled:function(){var Re=Gs(Ne);return!Re[gi]&&!Re[Fh]},remove:function(Re,gt){var b;Re===void 0&&(Re=!0);var F=[Ne],z=(b={reason:1},b[yo]=Re,b);Ze(F,z,function(B){B&&V({reason:32,removed:F}),gt&&gt(B)})}}),ce}function De(){if(!u){var L=(x||[]).slice();Nt(L,h)===-1&&L[Ve](h),u=rc(gE(L),t.cfg,A)}return u}function Ze(L,ce,Ne){if(L&&L[he]>0){var _e=rc(L,t.cfg,A),Re=sf(_e,A);Re[Ah](function(){var gt=!1,b=[];q(l,function(z,B){xL(z,L)?gt=!0:b[Ve](z)}),l=b,I=null,J=null;var F=[];d&&(q(d,function(z,B){var ee=[];q(z,function(ye){xL(ye,L)?gt=!0:ee[Ve](ye)}),F[Ve](ee)}),d=F),Ne&&Ne(gt),Y()}),Re[Rn](ce)}else Ne(!1)}function Je(){if(r&&r.queue){var L=r.queue.slice(0);r.queue[he]=0,q(L,function(ce){var Ne,_e=(Ne={},Ne[Xn]=g||"InternalMessageId: "+ce[zd],Ne[$d]=U,Ne[Ya]=Bi(new Date),Ne.baseType=$s.dataType,Ne.baseData={message:ce[Ho]},Ne);A.track(_e)})}}function ut(L,ce,Ne,_e){var Re=1,gt=!1,b=null;_e=_e||5e3;function F(){Re--,gt&&Re===0&&(b&&b[Vs](),b=null,ce&&ce(gt),ce=null)}if(p&&p[he]>0){var z=O()[Bo](p);z.iterate(function(B){if(B.flush){Re++;var ee=!1;B.flush(L,function(){ee=!0,F()},Ne)||ee||(L&&b==null?b=un(function(){b=null,F()},_e):F())}})}return gt=!0,F(),!0}function jt(){var L;Hn(t[_o](function(ce){var Ne=ce.cfg.enablePerfMgr;if(Ne){var _e=ce.cfg[Gy];(L!==_e||!L)&&(_e||(_e=AW),Pn(ce.cfg,Gy,_e),L=_e,a=null),!s&&!a&&me(_e)&&(a=_e(A,A[Nh]()))}else a=null,L=null}))}function Qr(L){var ce=Qh(De(),A);ce[Ah](Y),(!A._updateHook||A._updateHook(ce,L)!==!0)&&ce[Rn](L)}function xt(L){var ce=A[At];ce?(H(ce,2,73,L),Y()):Ln(L)}function Bn(L){var ce=A[Nh]();ce&&ce[Ka]([L],2)}function Hn(L){E.add(L)}})}return e.__ieDyn=1,e}();function eg(e,t){try{if(e&&e!==""){var n=Dn().parse(e);if(n&&n[Bb]&&n[Bb]>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors[he])return n}}catch(r){H(t,1,43,"Cannot parse the response. "+(r[Xn]||Q(r)),{response:e})}return null}var qo="",kW="NoResponseBody",PL="&"+kW+"=true",Bw="POST",Hw=function(){function e(){var t=0,n,r,i,o,s,a,c,u,l,d,p,f,h,g;Oe(e,this,function(m,_){var E=!0;ue(),m[js]=function(y,C){i=C,r&&H(i,1,28,"Sender is already initialized"),m.SetConfig(y),r=!0},m._getDbgPlgTargets=function(){return[r,o,a,n]},m.SetConfig=function(y){try{if(s=y.senderOnCompleteCallBack||{},a=!!y.disableCredentials,c=y.fetchCredentials,o=!!y.isOneDs,n=!!y.enableSendPromise,l=!!y.disableXhr,d=!!y.disableBeacon,p=!!y.disableBeaconSync,g=y.timeWrapper,h=!!y.addNoResponse,f=!!y.disableFetchKeepAlive,u={sendPOST:j},o||(E=!1),a){var C=Zn();C&&C.protocol&&C.protocol[mo]()==="file:"&&(E=!1)}return!0}catch{}return!1},m.getSyncFetchPayload=function(){return t},m.getSenderInst=function(y,C){return y&&y[he]?X(y,C):null},m.getFallbackInst=function(){return u},m[Ga]=function(y,C){ue()};function w(y,C){x(C,200,{},y)}function R(y,C){H(i,2,26,"Failed to send telemetry.",{message:y}),x(C,400,{})}function U(y){R("No endpoint url is provided for the batch",y)}function X(y,C){for(var G,P=0,A=null,ve=0;A==null&&ve<y[he];)P=y[ve],!l&&P===1?dw()?A=Ee:Za()&&(A=j):P===2&&ju(C)&&(!C||!f)?A=Z:P===3&&Hs()&&(C?!p:!d)&&(A=I),ve++;return A?(G={_transport:P,_isSync:C},G[Hb]=A,G):null}function x(y,C,G,P){try{y&&y(C,G,P)}catch{}}function J(y,C){var G=Kn(),P=y[Wd];if(!P)return U(C),!0;P=y[Wd]+(h?PL:qo);var A=y[Wa],ve=o?A:new Blob([A],{type:"text/plain;charset=UTF-8"}),xe=G.sendBeacon(P,ve);return xe}function I(y,C,G){var P=y[Wa];try{if(P)if(J(y,C))w(qo,C);else{var A=s&&s.beaconOnRetry;A&&me(A)?A(y,C,J):(u&&u[Hb](y,C,!0),H(i,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(ve){o&&yi(i,"Failed to send telemetry using sendBeacon API. Ex:"+Q(ve)),x(C,o?0:400,{},qo)}}function j(y,C,G){var P,A,ve,xe=y[By]||{};!G&&n&&(P=vi(function(O,V){A=O,ve=V})),o&&G&&y.disableXhrSync&&(G=!1);var Y=y[Wd];if(!Y){U(C),A&&A(!1);return}var ne=tw(Bw,Y,E,!0,G,y[Ou]);o||ne[Yb]("Content-type","application/json"),q(cr(xe),function(O){ne[Yb](O,xe[O])}),ne.onreadystatechange=function(){o||(v(ne),ne.readyState===4&&A&&A(!0))},ne.onload=function(){o&&v(ne)};function v(O){var V=s&&s.xhrOnComplete,ie=V&&me(V);if(ie)V(O,C,y);else{var De=Jd(O);x(C,O[Mu],Vh(O,o),De)}}return ne.onerror=function(O){x(C,o?ne[Mu]:400,Vh(ne,o),o?qo:Vu(ne)),ve&&ve(O)},ne.ontimeout=function(){x(C,o?ne[Mu]:500,Vh(ne,o),o?qo:Vu(ne)),A&&A(!1)},ne.send(y[Wa]),P}function Z(y,C,G){var P,A=y[Wd],ve=y[Wa],xe=o?ve:new Blob([ve],{type:"application/json"}),Y,ne,v,O=new Headers,V=ve[he],ie=!1,De=!1,Ze=y[By]||{},Je=(P={method:Bw,body:xe},P[mw]=!0,P);y.headers&&cr(y.headers)[he]>0&&(q(cr(Ze),function(xt){O.append(xt,Ze[xt])}),Je[By]=O),c?Je.credentials=c:E&&o&&(Je.credentials="include"),G&&(Je.keepalive=!0,t+=V,o?y._sendReason===2&&(ie=!0,h&&(A+=PL)):ie=!0);var ut=new Request(A,Je);try{ut[mw]=!0}catch{}if(!G&&n&&(Y=vi(function(xt,Bn){ne=xt,v=Bn})),!A){U(C),ne&&ne(!1);return}function jt(xt){x(C,o?0:400,{},o?qo:xt)}function Qr(xt,Bn,Hn){var L=xt[Mu],ce=s.fetchOnComplete;ce&&me(ce)?ce(xt,C,Hn||qo,Bn):x(C,L,{},Hn||qo)}try{Nr(fetch(o?A:ut,o?Je:null),function(xt){if(G&&(t-=V,V=0),!De)if(De=!0,xt.rejected)jt(xt.reason&&xt.reason[Ho]),v&&v(xt.reason);else{var Bn=xt[xu];try{!o&&!Bn.ok?(jt(Bn.statusText),ne&&ne(!1)):o&&!Bn.body?(Qr(Bn,null,qo),ne&&ne(!0)):Nr(Bn.text(),function(Hn){Qr(Bn,y,Hn[xu]),ne&&ne(!0)})}catch(Hn){jt(Q(Hn)),v&&v(Hn)}}})}catch(xt){De||(jt(Q(xt)),v&&v(xt))}return ie&&!De&&(De=!0,x(C,200,{}),ne&&ne(!0)),o&&!De&&y[Ou]>0&&g&&g.set(function(){De||(De=!0,x(C,500,{}),ne&&ne(!0))},y[Ou]),Y}function Ee(y,C,G){var P=yn(),A=new XDomainRequest,ve=y[Wa];A.onload=function(){var O=Jd(A),V=s&&s.xdrOnComplete;V&&me(V)?V(A,C,y):x(C,200,{},O)},A.onerror=function(){x(C,400,{},o?qo:Uh(A))},A.ontimeout=function(){x(C,500,{})},A.onprogress=function(){};var xe=P&&P.location&&P.location[Ly]||"",Y=y[Wd];if(!Y){U(C);return}if(!o&&Y.lastIndexOf(xe,0)!==0){var ne="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";H(i,2,40,". "+ne),R(ne,C);return}var v=o?Y:Y[Do](/^(https?:)/,"");A.open(Bw,v),y[Ou]&&(A[Ou]=y[Ou]),A.send(ve),o&&G?g&&g.set(function(){A.send(ve)},0):A.send(ve)}function ue(){t=0,r=!1,n=!1,i=null,o=null,s=null,a=null,c=null,u=null,l=!1,d=!1,p=!1,f=!1,h=!1,g=null}})}return e.__ieDyn=1,e}();var jL="on",OL="attachEvent",kL="addEventListener",FL="detachEvent",LL="removeEventListener",Yw="events",$w="visibilitychange",SE="pagehide";var BL="unload",HL="beforeunload",YL=nn("aiEvtPageHide"),Dde=nn("aiEvtPageShow"),FW=/\.[\.]+/g,LW=/[\.]+$/,UW=1,EE=tE("events"),VW=/^([^.]*)(?:\.(.+)|)/;function UL(e){return e&&e[Do]?e[Do](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ue):e}function Gw(e,t){var n;if(t){var r=Ue;Se(t)?(r=Ue,q(t,function(o){o=UL(o),o&&(o[0]!=="."&&(o="."+o),r+=o)})):r=UL(t),r&&(r[0]!=="."&&(r="."+r),e=(e||Ue)+r)}var i=VW.exec(e||Ue)||[];return n={},n[Yo]=i[1],n.ns=(i[2]||Ue).replace(FW,".").replace(LW,Ue)[Eo](".").sort().join("."),n}function $L(e,t,n){n===void 0&&(n=!0);var r=EE.get(e,Yw,{},n),i=r[t];return i||(i=r[t]=[]),i}function GL(e,t,n,r){e&&t&&t[Yo]&&(e[LL]?e[LL](t[Yo],n,r):e[FL]&&e[FL](jL+t[Yo],n))}function jW(e,t,n,r){var i=!1;return e&&t&&t[Yo]&&n&&(e[kL]?(e[kL](t[Yo],n,r),i=!0):e[OL]&&(e[OL](jL+t[Yo],n),i=!0)),i}function VL(e,t,n,r){for(var i=t[he];i--;){var o=t[i];o&&(!n.ns||n.ns===o.evtName.ns)&&(!r||r(o))&&(GL(e,o.evtName,o[Vy],o.capture),t[Vi](i,1))}}function BW(e,t,n){if(t[Yo])VL(e,$L(e,t[Yo]),t,n);else{var r=EE.get(e,Yw,{});Te(r,function(i,o){VL(e,o,t,n)}),cr(r)[he]===0&&EE.kill(e,Yw)}}function Rr(e,t){var n;return t?(Se(t)?n=[e].concat(t):n=[e,t],n=Gw("xx",n).ns[Eo](".")):n=e,n}function qr(e,t,n,r,i){var o;i===void 0&&(i=!1);var s=!1;if(e)try{var a=Gw(t,r);if(s=jW(e,a,n,i),s&&EE.accept(e)){var c=(o={guid:UW++,evtName:a},o[Vy]=n,o.capture=i,o);$L(e,a.type)[Ve](c)}}catch{}return s}function Ko(e,t,n,r,i){if(i===void 0&&(i=!1),e)try{var o=Gw(t,r),s=!1;BW(e,o,function(a){return o.ns&&!n||a[Vy]===n?(s=!0,!0):!1}),s||GL(e,o,n,i)}catch{}}function zL(e,t,n){var r=!1,i=yn();i&&(r=qr(i,e,t,n),r=qr(i.body,e,t,n)||r);var o=kt();return o&&(r=qr(o,e,t,n)||r),r}function WL(e,t,n){var r=yn();r&&(Ko(r,e,t,n),Ko(r.body,e,t,n));var i=kt();i&&Ko(i,e,t,n)}function DE(e,t,n,r){var i=!1;return t&&e&&e[he]>0&&q(e,function(o){o&&(!n||Nt(n,o)===-1)&&(i=zL(o,t,r)||i)}),i}function qL(e,t,n,r){var i=!1;return t&&e&&Se(e)&&(i=DE(e,t,n,r),!i&&n&&n[he]>0&&(i=DE(e,t,null,r))),i}function IE(e,t,n){e&&Se(e)&&q(e,function(r){r&&WL(r,t,n)})}function zw(e,t,n){return qL([HL,BL,SE],e,t,n)}function Ww(e,t){IE([HL,BL,SE],e,t)}function tg(e,t,n){function r(s){var a=kt();e&&a&&a.visibilityState==="hidden"&&e(s)}var i=Rr(YL,n),o=DE([SE],e,t,i);return(!t||Nt(t,$w)===-1)&&(o=DE([$w],r,t,i)||o),!o&&t&&(o=tg(e,null,n)),o}function qw(e,t){var n=Rr(YL,t);IE([SE],e,n),IE([$w],null,n)}var KL="_aiHooks",XL=["req","rsp","hkErr","fnErr"];function Xw(e,t){if(e)for(var n=0;n<e[he]&&!t(e[n],n);n++);}function Kw(e,t,n,r,i){i>=0&&i<=2&&Xw(e,function(o,s){var a=o.cbks,c=a[XL[i]];if(c){t.ctx=function(){var d=r[s]=r[s]||{};return d};try{c[Ui](t.inst,n)}catch(d){var u=t.err;try{var l=a[XL[2]];l&&(t.err=d,l[Ui](t.inst,n))}catch{}finally{t.err=u}}}})}function HW(e){return function(){var t,n=this,r=arguments,i=e.h,o=(t={},t[Xn]=e.n,t.inst=n,t.ctx=null,t.set=u,t),s=[],a=c([o],r);o.evt=Tt("event");function c(d,p){return Xw(p,function(f){d[Ve](f)}),d}function u(d,p){r=c([],r),r[d]=p,a=c([o],r)}Kw(i,o,a,s,0);var l=e.f;if(l)try{o.rslt=l[Ui](n,r)}catch(d){throw o.err=d,Kw(i,o,a,s,3),d}return Kw(i,o,a,s,1),o.rslt}}function Zw(e,t,n,r){var i=null;return e&&(sr(e,t)?i=e:n&&(i=Zw(UF(e),t,r,!1))),i}function Jw(e,t,n){return e?ng(e[lr],t,n,!1):null}function ZL(e,t,n,r){var i=n&&n[KL];if(!i){i={i:0,n:t,f:n,h:[]};var o=HW(i);o[KL]=i,e[t]=o}var s={id:i.i,cbks:r,rm:function(){var a=this.id;Xw(i.h,function(c,u){if(c.id===a)return i.h[Vi](u,1),1})}};return i.i++,i.h[Ve](s),s}function ng(e,t,n,r,i){if(r===void 0&&(r=!0),e&&t&&n){var o=Zw(e,t,r,i);if(o){var s=o[t];if(typeof s===Vd)return ZL(o,t,s,n)}}return null}function af(e,t,n,r,i){if(e&&t&&n){var o=Zw(e,t,r,i)||e;if(o)return ZL(o,t,o[t],n)}return null}var cf="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",rg="sampleRate",ig="ProcessLegacy",TE="http.method",qu="https://dc.services.visualstudio.com",Xo="/v2/track",Tn="not_specified",CE="iKey";var mt=Ob({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});var zs="split",we="length",Ws="toLowerCase",sc="ingestionendpoint",ac="toString",cc="push",bE="removeItem",Cn="name",Zo="message",uc="count",wE="preTriggerDate",NE="disabled",AE="interval",Qw="daysOfMonth",xE="date",RE="getUTCDate",Ku="stringify",og="pathname",Xu="match",eN="correlationHeaderExcludePatterns";var Zu="exceptions",qs="parsedStack",Jn="properties",dr="measurements",Ju="sizeInBytes",Qu="typeName",el="severityLevel",ME="problemGroup",PE="isManual",sg="hasFullStack",uf="assembly",Jo="fileName",tl="line",ag="method",OE="level",lf="aiDataContract",nl="duration",tN="receivedResponse";function nN(e,t,n){var r=t[we],i=JL(e,t);if(i[we]!==r){for(var o=0,s=i;n[s]!==void 0;)o++,s=pi(i,0,147)+QL(o);i=s}return i}function JL(e,t){var n;return t&&(t=pt(sn(t)),t[we]>150&&(n=pi(t,0,150),H(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0))),n||t}function ht(e,t,n){n===void 0&&(n=1024);var r;return t&&(n=n||1024,t=pt(sn(t)),t[we]>n&&(r=pi(t,0,n),H(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Ks(e,t){return oN(e,t,2048,66)}function cg(e,t){var n;return t&&t[we]>32768&&(n=pi(t,0,32768),H(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function rN(e,t){var n;if(t){var r=""+t;r[we]>32768&&(n=pi(r,0,32768),H(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function Mr(e,t){if(t){var n={};Te(t,function(r,i){if(an(i)&&Go())try{i=Dn()[Ku](i)}catch(o){H(e,2,49,"custom property is not valid",{exception:o},!0)}i=ht(e,i,8192),r=nN(e,r,n),n[r]=i}),t=n}return t}function Pr(e,t){if(t){var n={};Te(t,function(r,i){r=nN(e,r,n),n[r]=i}),t=n}return t}function iN(e,t){return t&&oN(e,t,128,69)[ac]()}function oN(e,t,n,r){var i;return t&&(t=pt(sn(t)),t[we]>n&&(i=pi(t,0,n),H(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0))),i||t}function QL(e){var t="00"+e;return ho(t,t[we]-3)}var eU=kt()||{},tU=0,WW=[null,null,null,null,null];function ug(e){var t=tU,n=WW,r=n[t];return eU.createElement?n[t]||(r=n[t]=eU.createElement("a")):r={host:nU(e,!0)},r.href=e,t++,t>=n[we]&&(t=0),tU=t,r}function sN(e){var t,n=ug(e);return n&&(t=n.href),t}function aN(e,t){return e?e.toUpperCase()+" "+t:t}function nU(e,t){var n=kE(e,t)||"";if(n){var r=n[Xu](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[we]>3&&fe(r[2])&&r[2][we]>0)return r[2]+(r[3]||"")}return n}function kE(e,t){var n=null;if(e){var r=e[Xu](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[we]>2&&fe(r[2])&&r[2][we]>0&&(n=r[2]||"",t&&r[we]>2)){var i=(r[1]||"")[Ws](),o=r[3]||"";(i==="http"&&o===":80"||i==="https"&&o===":443")&&(o=""),n+=o}}return n}var qW=[qu+Xo,"https://breeze.aimon.applicationinsights.io"+Xo,"https://dc-int.services.visualstudio.com"+Xo],KW="cid-v1:";function df(e){return Nt(qW,e[Ws]())!==-1}function FE(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[eN]){for(var r=0;r<e.correlationHeaderExcludePatterns[we];r++)if(e[eN][r].test(t))return!1}var i=ug(t).host[Ws]();if(i&&(Wt(i,":443")!==-1||Wt(i,":80")!==-1)&&(i=(kE(t,!0)||"")[Ws]()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var o=e&&e.correlationHeaderDomains;if(o){var s;if(q(o,function(u){var l=new RegExp(u.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||l.test(i)}),!s)return!1}var a=e&&e.correlationHeaderExcludedDomains;if(!a||a[we]===0)return!0;for(var r=0;r<a[we];r++){var c=new RegExp(a[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(i))return!1}return i&&i[we]>0}function LE(e){if(e){var t=rU(e,mt[1]);if(t&&t!==KW)return t}}function rU(e,t){if(e)for(var n=e[zs](","),r=0;r<n[we];++r){var i=n[r][zs]("=");if(i[we]===2&&i[0]===t)return i[1]}}function iU(e,t,n,r){var i,o=r,s=r;if(t&&t[we]>0){var a=ug(t);if(i=a.host,!o)if(a[og]!=null){var c=a.pathname[we]===0?"/":a[og];c.charAt(0)!=="/"&&(c="/"+c),s=a[og],o=ht(e,n?n+" "+c:c)}else o=ht(e,t)}else i=r,o=r;return{target:i,name:o,data:s}}function ff(){var e=wr();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return xn()}function On(e,t){var n=null;return e!==0&&t!==0&&!k(e)&&!k(t)&&(n=t-e),n}function rl(e,t){var n=e||{};return{getName:function(){return n[Cn]},setName:function(r){t&&t.setName(r),n[Cn]=r},getTraceId:function(){return n.traceID},setTraceId:function(r){t&&t.setTraceId(r),zu(r)&&(n.traceID=r)},getSpanId:function(){return n.parentID},setSpanId:function(r){t&&t.setSpanId(r),Wu(r)&&(n.parentID=r)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(r){t&&t.setTraceFlags(r),n.traceFlags=r}}}var pf=wu({LocalStorage:0,SessionStorage:1}),$fe=wu({AI:0,AI_AND_W3C:1,W3C:2}),Gfe=wu({Normal:1,Critical:2});var lc=void 0,dc=void 0,oU="";function cN(){return ol()?UE(pf.LocalStorage):null}function UE(e){try{if(k(cn()))return null;var t=new Date()[ac](),n=Tt(e===pf.LocalStorage?"localStorage":"sessionStorage"),r=oU+t;n.setItem(r,t);var i=n.getItem(r)!==t;if(n[bE](r),!i)return n}catch{}return null}function uN(){return fc()?UE(pf.SessionStorage):null}function lN(){lc=!1,dc=!1}function il(e){oU=e||""}function dN(){lc=ol(!0),dc=fc(!0)}function ol(e){return(e||lc===void 0)&&(lc=!!UE(pf.LocalStorage)),lc}function lg(e,t){var n=cN();if(n!==null)try{return n.getItem(t)}catch(r){lc=!1,H(e,2,1,"Browser failed read of local storage. "+qe(r),{exception:Q(r)})}return null}function dg(e,t,n){var r=cN();if(r!==null)try{return r.setItem(t,n),!0}catch(i){lc=!1,H(e,2,3,"Browser failed write to local storage. "+qe(i),{exception:Q(i)})}return!1}function fN(e,t){var n=cN();if(n!==null)try{return n[bE](t),!0}catch(r){lc=!1,H(e,2,5,"Browser failed removal of local storage item. "+qe(r),{exception:Q(r)})}return!1}function fc(e){return(e||dc===void 0)&&(dc=!!UE(pf.SessionStorage)),dc}function hf(e,t){var n=uN();if(n!==null)try{return n.getItem(t)}catch(r){dc=!1,H(e,2,2,"Browser failed read of session storage. "+qe(r),{exception:Q(r)})}return null}function fg(e,t,n){var r=uN();if(r!==null)try{return r.setItem(t,n),!0}catch(i){dc=!1,H(e,2,4,"Browser failed write to session storage. "+qe(i),{exception:Q(i)})}return!1}function pg(e,t){var n=uN();if(n!==null)try{return n[bE](t),!0}catch(r){dc=!1,H(e,2,6,"Browser failed removal of session storage item. "+qe(r),{exception:Q(r)})}return!1}var XW="appInsightsThrottle",pN=function(){function e(t,n){var r=this,i,o,s,a,c,u,l,d=!1,p=!1;h(),r._getDbgPlgTargets=function(){return[l]},r.getConfig=function(){return s},r.canThrottle=function(y){var C=Z(y),G=g(y);return E(G,i,C)},r.isTriggered=function(y){return Ee(y)},r.isReady=function(){return d},r.flush=function(y){try{var C=ue(y);if(C&&C[we]>0){var G=C.slice(0);return l[y]=[],q(G,function(P){f(P.msgID,P[Zo],P.severity,!1)}),!0}}catch{}return!1},r.flushAll=function(){try{if(l){var y=!0;return Te(l,function(C){var G=r.flush(parseInt(C));y=y&&G}),y}}catch{}return!1},r.onReadyState=function(y,C){return C===void 0&&(C=!0),d=k(y)?!0:y,d&&C?r.flushAll():null},r.sendMessage=function(y,C,G){return f(y,C,G,!0)};function f(y,C,G,P){if(d){var A=j(y);if(!A)return;var ve=g(y),xe=Z(y),Y=E(ve,i,xe),ne=!1,v=0,O=Ee(y);try{Y&&!O?(v=Math.min(ve.limit.maxSendNumber,xe[uc]+1),xe[uc]=0,ne=!0,c[y]=!0,xe[wE]=new Date):(c[y]=Y,xe[uc]+=1);var V=w(y);x(o,V,xe);for(var ie=0;ie<v;ie++)I(y,o,C,G)}catch{}return{isThrottled:ne,throttleNum:v}}else if(P){var De=ue(y);De[cc]({msgID:y,message:C,severity:G})}return null}function h(){o=xr(t),c={},a={},l={},s={},m(109),u=ji(n)?n:"",t.addUnloadHook(ct(t.config,function(y){var C=y.cfg;i=ol();var G=C.throttleMgrCfg||{};Te(G,function(P,A){m(parseInt(P),A)})}))}function g(y){return s[y]||s[109]}function m(y,C){var G,P;try{var A=C||{},ve={};ve[NE]=!!A[NE];var xe=A[AE]||{};p=xe?.daysOfMonth&&xe?.daysOfMonth[we]>0,ve[AE]=_(xe);var Y={samplingRate:((G=A.limit)===null||G===void 0?void 0:G.samplingRate)||100,maxSendNumber:((P=A.limit)===null||P===void 0?void 0:P.maxSendNumber)||1};ve.limit=Y,s[y]=ve}catch{}}function _(y){y=y||{};var C=y?.monthInterval,G=y?.dayInterval;return k(C)&&k(G)&&(y.monthInterval=3,p||(y[Qw]=[28],p=!0)),y={monthInterval:y?.monthInterval,dayInterval:y?.dayInterval,daysOfMonth:y?.daysOfMonth},y}function E(y,C,G){if(y&&!y[NE]&&C&&ji(G)){var P=X(),A=G[xE],ve=y[AE],xe=1;if(ve?.monthInterval){var Y=(P.getUTCFullYear()-A.getUTCFullYear())*12+P.getUTCMonth()-A.getUTCMonth();xe=J(ve.monthInterval,0,Y)}var ne=1;if(p)ne=Nt(ve[Qw],P[RE]());else if(ve?.dayInterval){var v=Math.floor((P.getTime()-A.getTime())/864e5);ne=J(ve.dayInterval,0,v)}return xe>=0&&ne>=0}return!1}function w(y,C){var G=ji(C)?C:"";return y?XW+G+"-"+y:null}function R(y){try{if(y){var C=new Date;return y.getUTCFullYear()===C.getUTCFullYear()&&y.getUTCMonth()===C.getUTCMonth()&&y[RE]()===C[RE]()}}catch{}return!1}function U(y,C,G){try{var P={date:X(),count:0};if(y){var A=JSON.parse(y),ve={date:X(A[xE])||P[xE],count:A[uc]||P[uc],preTriggerDate:A.preTriggerDate?X(A[wE]):void 0};return ve}else return x(C,G,P),P}catch{}return null}function X(y){try{if(y){var C=new Date(y);if(!isNaN(C.getDate()))return C}else return new Date}catch{}return null}function x(y,C,G){try{return dg(y,C,pt(JSON[Ku](G)))}catch{}return!1}function J(y,C,G){return y<=0?1:G>=C&&(G-C)%y==0?Math.floor((G-C)/y)+1:-1}function I(y,C,G,P){H(C,P||1,y,G)}function j(y){try{var C=g(y);return pw(1e6)<=C.limit.samplingRate}catch{}return!1}function Z(y){try{var C=a[y];if(!C){var G=w(y,u);C=U(lg(o,G),o,G),a[y]=C}return a[y]}catch{}return null}function Ee(y){var C=c[y];if(k(C)){C=!1;var G=Z(y);G&&(C=R(G[wE])),c[y]=C}return c[y]}function ue(y){return l=l||{},k(l[y])&&(l[y]=[]),l[y]}}return e}();var ZW=";",JW="=";function VE(e){if(!e)return{};var t=e[zs](ZW),n=gb(t,function(i,o){var s=o[zs](JW);if(s[we]===2){var a=s[0][Ws](),c=s[1];i[a]=c}return i},{});if(cr(n)[we]>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n[sc]=n[sc]||"https://"+r+"dc."+n.endpointsuffix}n[sc]=n[sc]||qu,Th(n[sc],"/")&&(n[sc]=n[sc].slice(0,-1))}return n}var hN=function(){function e(t,n,r){var i=this,o=this;o.ver=1,o.sampleRate=100,o.tags={},o[Cn]=ht(t,r)||Tn,o.data=n,o.time=Bi(new Date),o[lf]={time:1,iKey:1,name:1,sampleRate:function(){return i.sampleRate===100?4:1},tags:1,data:1}}return e}();var Hi=function(){function e(t,n,r,i){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var o=this;o.ver=2,o[Cn]=ht(t,n)||Tn,o[Jn]=Mr(t,r),o[dr]=Pr(t,i)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}();var QW=58,eq=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,tq=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,nq=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,rq=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,iq=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,oq=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,sq=/([^\(\s\n]+):([0-9]+)$/,sU="<no_method>",gf="error",Yi="stack",mN="stackDetails",aU="errorSrc",vN="message",dU="description",cU=[{re:tq,len:5,m:1,fn:2,ln:3,col:4},{chk:cq,pre:aq,re:nq,len:4,m:1,fn:2,ln:3},{re:rq,len:3,m:1,fn:2,hdl:lU},{re:iq,len:2,fn:1,hdl:lU}];function aq(e){return e.replace(/(\(anonymous\))/,"<anonymous>")}function cq(e){return Wt(e,"[native")<0}function _N(e,t){var n=e;return n&&!fe(n)&&(JSON&&JSON[Ku]?(n=JSON[Ku](e),t&&(!n||n==="{}")&&(me(e[ac])?n=e[ac]():n=""+e)):n=""+e+" - (Missing JSON.stringify)"),n||""}function fU(e,t){var n=e;return e&&(n&&!fe(n)&&(n=e[vN]||e[dU]||n),n&&!fe(n)&&(n=_N(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&Wt(n||"",t)===-1&&(n=t+": "+n),n||""}function uq(e){try{if(an(e))return"hasFullStack"in e&&"typeName"in e}catch{}return!1}function lq(e){try{if(an(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch{}return!1}function uU(e){return e&&e.src&&fe(e.src)&&e.obj&&Se(e.obj)}function sl(e){var t=e||"";fe(t)||(fe(t[Yi])?t=t[Yi]:t=""+t);var n=t[zs](`
`);return{src:t,obj:n}}function dq(e){for(var t=[],n=e[zs](`
`),r=0;r<n[we];r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t[cc](i)}return{src:e,obj:t}}function pU(e){var t=null;if(e)try{if(e[Yi])t=sl(e[Yi]);else if(e[gf]&&e[gf][Yi])t=sl(e[gf][Yi]);else if(e.exception&&e.exception[Yi])t=sl(e.exception[Yi]);else if(uU(e))t=e;else if(uU(e[mN]))t=e[mN];else if(yn()&&yn().opera&&e[vN])t=dq(e[Zo]);else if(e.reason&&e.reason[Yi])t=sl(e.reason[Yi]);else if(fe(e))t=sl(e);else{var n=e[vN]||e[dU]||"";fe(e[aU])&&(n&&(n+=`
`),n+=" from "+e[aU]),n&&(t=sl(n))}}catch(r){t=sl(r)}return t||{src:"",obj:null}}function fq(e){var t="";return e&&(e.obj?t=e.obj.join(`
`):t=e.src||""),t}function pq(e){var t,n=e.obj;if(n&&n[we]>0){t=[];var r=0,i=!1,o=0;q(n,function(g){if(i||vq(g)){var m=sn(g);i=!0;var _=_q(m,r);_&&(o+=_[Ju],t[cc](_),r++)}});var s=32*1024;if(o>s)for(var a=0,c=t[we]-1,u=0,l=a,d=c;a<c;){var p=t[a][Ju],f=t[c][Ju];if(u+=p+f,u>s){var h=d-l+1;t.splice(l,h);break}l=a,d=c,a++,c--}}return t}function jE(e){var t="";if(e&&(t=e.typeName||e[Cn]||"",!t))try{var n=/function (.{1,200})\(/,r=n.exec(e.constructor[ac]());t=r&&r[we]>1?r[1]:""}catch{}return t}function gN(e){if(e)try{if(!fe(e)){var t=jE(e),n=_N(e,!1);return(!n||n==="{}")&&(e[gf]&&(e=e[gf],t=jE(e)),n=_N(e,!0)),Wt(n,t)!==0&&t!=="String"?t+":"+n:n}}catch{}return""+(e||"")}var fr=function(){function e(t,n,r,i,o,s){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,lq(n)?(a[Zu]=n[Zu]||[],a[Jn]=n[Jn],a[dr]=n[dr],n[el]&&(a[el]=n[el]),n.id&&(a.id=n.id,n[Jn].id=n.id),n[ME]&&(a[ME]=n[ME]),k(n[PE])||(a[PE]=n[PE])):(r||(r={}),s&&(r.id=s),a[Zu]=[hU(t,n,r)],a[Jn]=Mr(t,r),a[dr]=Pr(t,i),o&&(a[el]=o),s&&(a.id=s))}return e.CreateAutoException=function(t,n,r,i,o,s,a,c){var u,l=jE(o||s||t);return u={},u[Zo]=fU(t,l),u.url=n,u.lineNumber=r,u.columnNumber=i,u.error=gN(o||s||t),u.evt=gN(s||t),u[Qu]=l,u.stackDetails=pU(a||o||s),u.errorSrc=c,u},e.CreateFromInterface=function(t,n,r,i){var o=n[Zu]&&Tu(n[Zu],function(a){return mq(t,a)}),s=new e(t,ln(ln({},n),{exceptions:o}),r,i);return s},e.prototype.toInterface=function(){var t,n=this,r=n.exceptions,i=n.properties,o=n.measurements,s=n.severityLevel,a=n.problemGroup,c=n.id,u=n.isManual,l=r instanceof Array&&Tu(r,function(d){return d.toInterface()})||void 0;return t={ver:"4.0"},t[Zu]=l,t.severityLevel=s,t.properties=i,t.measurements=o,t.problemGroup=a,t.id=c,t.isManual=u,t},e.CreateSimpleException=function(t,n,r,i,o,s){var a;return{exceptions:[(a={},a[sg]=!0,a.message=t,a.stack=o,a.typeName=n,a)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=gN,e}();var hq=ur({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function gq(){var e,t=this,n=Se(t[qs])&&Tu(t[qs],function(i){return Eq(i)}),r=(e={id:t.id,outerId:t.outerId,typeName:t[Qu],message:t[Zo],hasFullStack:t[sg],stack:t[Yi]},e[qs]=n||void 0,e);return r}function hU(e,t,n){var r,i,o,s,a,c,u,l;if(uq(t))s=t[Qu],a=t[Zo],u=t[Yi],l=t[qs]||[],c=t[sg];else{var d=t,p=d&&d.evt;Iu(d)||(d=d[gf]||p||d),s=ht(e,jE(d))||Tn,a=cg(e,fU(t||d,s))||Tn;var f=t[mN]||pU(t);l=pq(f),Se(l)&&Tu(l,function(h){h[uf]=ht(e,h[uf]),h[Jo]=ht(e,h[Jo])}),u=rN(e,fq(f)),c=Se(l)&&l[we]>0,n&&(n[Qu]=n[Qu]||s)}return r={},r[lf]=hq,r.id=i,r.outerId=o,r[Qu]=s,r[Zo]=a,r[sg]=c,r.stack=u,r[qs]=l,r.toInterface=gq,r}function mq(e,t){var n=Se(t[qs])&&Tu(t[qs],function(i){return yq(i)})||t[qs],r=hU(e,ln(ln({},t),{parsedStack:n}));return r}function gU(e,t){var n=t[Xu](oq);if(n&&n[we]>=4)e[Jo]=n[1],e[tl]=parseInt(n[2]);else{var r=t[Xu](sq);r&&r[we]>=3?(e[Jo]=r[1],e[tl]=parseInt(r[2])):e[Jo]=t}}function lU(e,t,n){var r=e[Jo];t.fn&&n&&n[we]>t.fn&&(t.ln&&n[we]>t.ln?(r=pt(n[t.fn]||""),e[tl]=parseInt(pt(n[t.ln]||""))||0):r=pt(n[t.fn]||"")),r&&gU(e,r)}function vq(e){var t=!1;if(e&&fe(e)){var n=pt(e);n&&(t=eq.test(n))}return t}var mU=ur({level:1,method:1,assembly:0,fileName:0,line:0});function _q(e,t){var n,r;if(e&&fe(e)&&pt(e)){r=(n={},n[lf]=mU,n[OE]=t,n[uf]=pt(e),n[ag]=sU,n.fileName="",n.line=0,n[Ju]=0,n);for(var i=0;i<cU[we];){var o=cU[i];if(o.chk&&!o.chk(e))break;o.pre&&(e=o.pre(e));var s=e[Xu](o.re);if(s&&s[we]>=o.len){o.m&&(r[ag]=pt(s[o.m]||sU)),o.hdl?o.hdl(r,o,s):o.fn&&(o.ln?(r[Jo]=pt(s[o.fn]||""),r[tl]=parseInt(pt(s[o.ln]||""))||0):gU(r,s[o.fn]||""));break}i++}}return vU(r)}function yq(e){var t,n=(t={},t[lf]=mU,t.level=e[OE],t.method=e[ag],t.assembly=e[uf],t.fileName=e[Jo],t.line=e[tl],t[Ju]=0,t);return vU(n)}function vU(e){var t=QW;return e&&(t+=e.method[we],t+=e.assembly[we],t+=e.fileName[we],t+=e.level.toString()[we],t+=e.line.toString()[we],e[Ju]=t),e}function Eq(e){return{level:e[OE],method:e[ag],assembly:e[uf],fileName:e[Jo],line:e[tl]}}var _U=function(){function e(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return e}();var $i=function(){function e(t,n,r,i,o,s,a,c,u){this.aiDataContract={ver:1,metrics:1,properties:0};var l=this;l.ver=2;var d=new _U;d[uc]=i>0?i:void 0,d.max=isNaN(s)||s===null?void 0:s,d.min=isNaN(o)||o===null?void 0:o,d[Cn]=ht(t,n)||Tn,d.value=r,d.stdDev=isNaN(a)||a===null?void 0:a,l.metrics=[d],l[Jn]=Mr(t,c),l[dr]=Pr(t,u)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}();var hg="";function Ii(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=hg+e%1e3,n=hg+Math.floor(e/1e3)%60,r=hg+Math.floor(e/(1e3*60))%60,i=hg+Math.floor(e/(1e3*60*60))%24,o=Math.floor(e/(1e3*60*60*24));return t=t[we]===1?"00"+t:t[we]===2?"0"+t:t,n=n[we]<2?"0"+n:n,r=r[we]<2?"0"+r:r,i=i[we]<2?"0"+i:i,(o>0?o+".":hg)+i+":"+r+":"+n+"."+t}function yN(e,t,n,r,i){return!i&&fe(e)&&(e==="Script error."||e==="Script error")}var Kr=function(){function e(t,n,r,i,o,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=iN(t,a),c.url=Ks(t,r),c[Cn]=ht(t,n)||Tn,isNaN(i)||(c[nl]=Ii(i)),c[Jn]=Mr(t,o),c[dr]=Pr(t,s)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}();var Gi=function(){function e(t,n,r,i,o,s,a,c,u,l,d,p){u===void 0&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var f=this;f.ver=2,f.id=n,f[nl]=Ii(o),f.success=s,f.resultCode=a+"",f.type=ht(t,u);var h=iU(t,r,c,i);f.data=Ks(t,i)||h.data,f.target=ht(t,h.target),l&&(f.target="".concat(f.target," | ").concat(l)),f[Cn]=ht(t,h[Cn]),f[Jn]=Mr(t,d),f[dr]=Pr(t,p)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}();var Qo=function(){function e(t,n,r,i,o){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var s=this;s.ver=2,n=n||Tn,s[Zo]=cg(t,n),s[Jn]=Mr(t,i),s[dr]=Pr(t,o),r&&(s[el]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}();var es=function(){function e(t,n,r,i,o,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=Ks(t,r),c[Cn]=ht(t,n)||Tn,c[Jn]=Mr(t,o),c[dr]=Pr(t,s),a&&(c.domProcessing=a.domProcessing,c[nl]=a[nl],c.networkConnect=a.networkConnect,c.perfTotal=a.perfTotal,c[tN]=a[tN],c.sentRequest=a.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}();var Xs=function(){function e(t,n){this.aiDataContract={baseType:1,baseData:1},this.baseType=t,this.baseData=n}return e}();function hc(e){var t="ai."+e+".";return function(n){return t+n}}var gg=hc("application"),kn=hc("device"),BE=hc("location"),mf=hc("operation"),EN=hc("session"),pc=hc("user"),al=hc("cloud"),mg=hc("internal"),vg=function(e){Un(t,e);function t(){return e.call(this)||this}return t}(ew({applicationVersion:gg("ver"),applicationBuild:gg("build"),applicationTypeId:gg("typeId"),applicationId:gg("applicationId"),applicationLayer:gg("layer"),deviceId:kn("id"),deviceIp:kn("ip"),deviceLanguage:kn("language"),deviceLocale:kn("locale"),deviceModel:kn("model"),deviceFriendlyName:kn("friendlyName"),deviceNetwork:kn("network"),deviceNetworkName:kn("networkName"),deviceOEMName:kn("oemName"),deviceOS:kn("os"),deviceOSVersion:kn("osVersion"),deviceRoleInstance:kn("roleInstance"),deviceRoleName:kn("roleName"),deviceScreenResolution:kn("screenResolution"),deviceType:kn("type"),deviceMachineName:kn("machineName"),deviceVMName:kn("vmName"),deviceBrowser:kn("browser"),deviceBrowserVersion:kn("browserVersion"),locationIp:BE("ip"),locationCountry:BE("country"),locationProvince:BE("province"),locationCity:BE("city"),operationId:mf("id"),operationName:mf("name"),operationParentId:mf("parentId"),operationRootId:mf("rootId"),operationSyntheticSource:mf("syntheticSource"),operationCorrelationVector:mf("correlationVector"),sessionId:EN("id"),sessionIsFirst:EN("isFirst"),sessionIsNew:EN("isNew"),userAccountAcquisitionDate:pc("accountAcquisitionDate"),userAccountId:pc("accountId"),userAgent:pc("userAgent"),userId:pc("id"),userStoreRegion:pc("storeRegion"),userAuthUserId:pc("authUserId"),userAnonymousUserAcquisitionDate:pc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:pc("authUserAcquisitionDate"),cloudName:al("name"),cloudRole:al("role"),cloudRoleVer:al("roleVer"),cloudRoleInstance:al("roleInstance"),cloudEnvironment:al("environment"),cloudLocation:al("location"),cloudDeploymentUnit:al("deploymentUnit"),internalNodeName:mg("nodeName"),internalSdkVersion:mg("sdkVersion"),internalAgentVersion:mg("agentVersion"),internalSnippet:mg("snippet"),internalSdkSrc:mg("sdkSrc")}));function zi(e,t,n,r,i,o){var s;n=ht(r,n)||Tn,(k(e)||k(t)||k(n))&&Ln("Input doesn't contain all required fields");var a="";e[CE]&&(a=e[CE],delete e[CE]);var c=(s={},s[Cn]=n,s.time=Bi(new Date),s.iKey=a,s.ext=o||{},s.tags=[],s.data={},s.baseType=t,s.baseData=e,s);return k(i)||Te(i,function(u,l){c.data[u]=l}),c}var Dq=function(){function e(){}return e.create=zi,e}();var pr={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ct=new vg;function cl(e){var t=null;if(me(Event))t=new Event(e);else{var n=kt();n&&n.createEvent&&(t=n.createEvent("Event"),t.initEvent(e,!0,!0))}return t}function yU(e,t){Ko(e,null,null,t)}function DN(e){var t=kt(),n=Kn(),r=!1,i=[],o=1;n&&!k(n.onLine)&&!n.onLine&&(o=2);var s=0,a=p(),c=Rr(nn("OfflineListener"),e);try{if(l(yn())&&(r=!0),t){var u=t.body||t;u.ononline&&l(u)&&(r=!0)}}catch{r=!1}function l(w){var R=!1;return w&&(R=qr(w,"online",g,c),R&&qr(w,"offline",m,c)),R}function d(){return a}function p(){return!(s===2||o===2)}function f(){var w=p();a!==w&&(a=w,q(i,function(R){var U={isOnline:a,rState:o,uState:s};try{R(U)}catch{}}))}function h(w){s=w,f()}function g(){o=1,f()}function m(){o=2,f()}function _(){var w=yn();if(w&&r){if(yU(w,c),t){var R=t.body||t;at(R.ononline)||yU(R,c)}r=!1}}function E(w){return i[cc](w),{rm:function(){var R=i.indexOf(w);if(R>-1)return i.splice(R,1)}}}return{isOnline:d,isListening:function(){return r},unload:_,addListener:E,setOnlineState:h}}var gc="AppInsightsPropertiesPlugin",HE="AppInsightsChannelPlugin",YE="ApplicationInsightsAnalytics";var _g="toString",$E="isStorageUseDisabled",ul="_addHook",Vn="core",Zs="dataType",mc="envelopeType",Xr="diagLog",vc="track",vf="trackPageView",yg="trackPreviousPageVisit",Js="sendPageViewInternal",Qs="startTime",ll="properties",Si="duration",Eg="sendPageViewPerformanceInternal",_f="populatePageViewPerformanceEvent",_c="href",IN="sendExceptionInternal",GE="exception",yf="error",zE="_onerror",WE="errorSrc",qE="lineNumber",KE="columnNumber",SN="message",XE="CreateAutoException",Dg="addTelemetryInitializer",EU="overridePageViewDuration",ZE="autoExceptionInstrumented",TN="autoTrackPageVisitTime",CN="isBrowserLinkTrackingEnabled",yc="length",bN="enableAutoRouteTracking",wN="enableUnhandledPromiseRejectionTracking",JE="autoUnhandledPromiseInstrumented",Ig="getEntriesByType",QE="isPerformanceTimingSupported",eD="getPerformanceTiming",Ef="navigationStart",Sg="shouldCollectDuration",tD="isPerformanceTimingDataReady",Df="responseStart",DU="requestStart",Tg="loadEventEnd",nD="responseEnd",Cg="connectEnd",NN="pageVisitStartTime";var IU=function(){function e(t,n,r,i){Oe(e,this,function(o){var s=null,a=[],c=!1,u=!1,l;r&&(l=r.logger);function d(h){r&&r.flush(h,function(){})}function p(){s||(s=un(function(){s=null;var h=a.slice(0),g=!1;a=[],q(h,function(m){m()?g=!0:a.push(m)}),a[yc]>0&&p(),g&&d(!0)},100))}function f(h){a.push(h),p()}o[vf]=function(h,g){var m=h.name;if(k(m)||typeof m!="string"){var _=kt();m=h.name=_&&_.title||""}var E=h.uri;if(k(E)||typeof E!="string"){var w=Zn();E=h.uri=w&&w[_c]||""}if(!u){var R=wr(),U=R&&R[Ig]&&R[Ig]("navigation");if(U&&U[0]&&!at(R.timeOrigin)){var X=U[0].loadEventStart;h[Qs]=new Date(R.timeOrigin+X)}else{var x=(g||h[ll]||{})[Si]||0;h[Qs]=new Date(new Date().getTime()-x)}u=!0}if(!i[QE]()){t[Js](h,g),d(!0),_y()||H(l,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var J=!1,I,j=i[eD]()[Ef];j>0&&(I=On(j,+new Date),i[Sg](I)||(I=void 0));var Z;!k(g)&&!k(g[Si])&&(Z=g[Si]),(n||!isNaN(Z))&&(isNaN(Z)&&(g||(g={}),g[Si]=I),t[Js](h,g),d(!0),J=!0);var Ee=6e4;g||(g={}),f(function(){var ue=!1;try{if(i[tD]()){ue=!0;var y={name:m,uri:E};i[_f](y),!y.isValid&&!J?(g[Si]=I,t[Js](h,g)):(J||(g[Si]=y.durationMs,t[Js](h,g)),c||(t[Eg](y,g),c=!0))}else j>0&&On(j,+new Date)>Ee&&(ue=!0,J||(g[Si]=Ee,t[Js](h,g)))}catch(C){H(l,1,38,"trackPageView failed on page load calculation: "+qe(C),{exception:Q(C)})}return ue})},o.teardown=function(h,g){if(s){s.cancel(),s=null;var m=a.slice(0),_=!1;a=[],q(m,function(E){E()&&(_=!0)})}}})}return e.__ieDyn=1,e}();var Iq=36e5,SU=["googlebot","adsbot-google","apis-google","mediapartners-google"];function CU(){var e=wr();return e&&!!e.timing}function Sq(){var e=wr();return e&&e.getEntriesByType&&e.getEntriesByType("navigation")[yc]>0}function Tq(){var e=wr(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t[Ef]>0&&t[Df]>0&&t[DU]>0&&t[Tg]>0&&t[nD]>0&&t[Cg]>0&&t.domLoading>0}function TU(){return CU()?wr().timing:null}function Cq(){return Sq()?wr()[Ig]("navigation")[0]:null}function bq(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Kn()||{},r=n.userAgent,i=!1;if(r)for(var o=0;o<SU[yc];o++)i=i||Wt(r.toLowerCase(),SU[o])!==-1;if(i)return!1;for(var o=0;o<e[yc];o++)if(e[o]<0||e[o]>=Iq)return!1;return!0}var bU=function(){function e(t){var n=xr(t);Oe(e,this,function(r){r[_f]=function(i){i.isValid=!1;var o=Cq(),s=TU(),a=0,c=0,u=0,l=0,d=0;(o||s)&&(o?(a=o[Si],c=o[Qs]===0?o[Cg]:On(o[Qs],o[Cg]),u=On(o.requestStart,o[Df]),l=On(o[Df],o[nD]),d=On(o.responseEnd,o[Tg])):(a=On(s[Ef],s[Tg]),c=On(s[Ef],s[Cg]),u=On(s.requestStart,s[Df]),l=On(s[Df],s[nD]),d=On(s.responseEnd,s[Tg])),a===0?H(n,2,10,"error calculating page view performance.",{total:a,network:c,request:u,response:l,dom:d}):r[Sg](a,c,u,l,d)?a<Math.floor(c)+Math.floor(u)+Math.floor(l)+Math.floor(d)?H(n,2,8,"client performance math error.",{total:a,network:c,request:u,response:l,dom:d}):(i.durationMs=a,i.perfTotal=i[Si]=Ii(a),i.networkConnect=Ii(c),i.sentRequest=Ii(u),i.receivedResponse=Ii(l),i.domProcessing=Ii(d),i.isValid=!0):H(n,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:a,network:c,request:u,response:l,dom:d}))},r[eD]=TU,r[QE]=CU,r[tD]=Tq,r[Sg]=bq})}return e.__ieDyn=1,e}();var wU=function(){function e(t,n){var r="prevPageVisitData";Oe(e,this,function(i){i[yg]=function(a,c){try{var u=o(a,c);u&&n(u.pageName,u.pageUrl,u.pageVisitTime)}catch(l){yi(t,"Auto track page visit time failed, metric will not be collected: "+Q(l))}};function o(a,c){var u=null;try{if(u=s(),fc()){hf(t,r)!=null&&Ln("Cannot call startPageVisit consecutively without first calling stopPageVisit");var l=Dn().stringify(new wq(a,c));fg(t,r,l)}}catch(d){yi(t,"Call to restart failed: "+Q(d)),u=null}return u}function s(){var a=null;try{if(fc()){var c=xn(),u=hf(t,r);u&&Go()&&(a=Dn().parse(u),a.pageVisitTime=c-a[NN],pg(t,r))}}catch(l){yi(t,"Stop page visit timer failed: "+Q(l)),a=null}return a}ke(i,"_logger",{g:function(){return t}}),ke(i,"pageVisitTimeTrackingHandler",{g:function(){return n}})})}return e.__ieDyn=1,e}();var wq=function(){function e(t,n){this[NN]=xn(),this.pageName=t,this.pageUrl=n}return e}();var AN=function(){function e(t,n){var r=this,i={};r.start=function(o){typeof i[o]<"u"&&H(t,2,62,"start was called more than once for this event without calling stop.",{name:o,key:o},!0),i[o]=+new Date},r.stop=function(o,s,a,c){var u=i[o];if(isNaN(u))H(t,2,63,"stop was called without a corresponding start.",{name:o,key:o},!0);else{var l=+new Date,d=On(u,l);r.action(o,s,d,a,c)}delete i[o],i[o]=void 0}}return e}();var Or,Nq="event";function bg(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}function Aq(e){if(e&&e.reason){var t=e.reason;return!fe(t)&&me(t[_g])?t[_g]():Q(t)}return e||""}var NU=6e4,xq=fi((Or={sessionRenewalMs:cE(AU,30*60*1e3),sessionExpirationMs:cE(AU,24*60*60*1e3),disableExceptionTracking:Qt()},Or[TN]=Qt(),Or[EU]=Qt(),Or[wN]=Qt(),Or[JE]=!1,Or.samplingPercentage=Qa(Rq,100),Or[$E]=Qt(),Or[CN]=Qt(),Or[bN]=Qt(),Or.namePrefix=vw(),Or.enableDebug=Qt(),Or.disableFlushOnBeforeUnload=Qt(),Or.disableFlushOnUnload=Qt(!1,"disableFlushOnBeforeUnload"),Or.expCfg=Ar({inclScripts:!1,expLog:void 0,maxLogs:50}),Or));function AU(e,t){return e=e||t,e<NU&&(e=NU),+e}function Rq(e){return!isNaN(e)&&e>0&&e<=100}function Mq(e){at(e[$E])||(e[$E]?lN():dN())}var rD=function(e){Un(t,e);function t(){var n=e.call(this)||this;n.identifier=YE,n.priority=180,n.autoRoutePVDelay=500;var r,i,o,s,a,c,u,l,d,p,f,h,g,m,_,E,w,R=0,U,X,x,J;return Oe(t,n,function(I,j){var Z=j[ul];ne(),I.getCookieMgr=function(){return Gu(I[Vn])},I.processTelemetry=function(v,O){I.processNext(v,O)},I.trackEvent=function(v,O){try{var V=zi(v,Hi[Zs],Hi[mc],I[Xr](),O);I[Vn][vc](V)}catch(ie){Y(2,39,"trackTrace failed, trace will not be collected: "+qe(ie),{exception:Q(ie)})}},I.startTrackEvent=function(v){try{r.start(v)}catch(O){Y(1,29,"startTrackEvent failed, event will not be collected: "+qe(O),{exception:Q(O)})}},I.stopTrackEvent=function(v,O,V){try{r.stop(v,void 0,O,V)}catch(ie){Y(1,30,"stopTrackEvent failed, event will not be collected: "+qe(ie),{exception:Q(ie)})}},I.trackTrace=function(v,O){try{var V=zi(v,Qo[Zs],Qo[mc],I[Xr](),O);I[Vn][vc](V)}catch(ie){Y(2,39,"trackTrace failed, trace will not be collected: "+qe(ie),{exception:Q(ie)})}},I.trackMetric=function(v,O){try{var V=zi(v,$i[Zs],$i[mc],I[Xr](),O);I[Vn][vc](V)}catch(ie){Y(1,36,"trackMetric failed, metric will not be collected: "+qe(ie),{exception:Q(ie)})}},I[vf]=function(v,O){try{var V=v||{};o[vf](V,ln(ln(ln({},V.properties),V.measurements),O)),E&&a[yg](V.name,V.uri)}catch(ie){Y(1,37,"trackPageView failed, page view will not be collected: "+qe(ie),{exception:Q(ie)})}},I[Js]=function(v,O,V){var ie=kt();if(ie&&(v.refUri=v.refUri===void 0?ie.referrer:v.refUri),k(v[Qs])){var De=(O||v[ll]||{})[Si]||0;v[Qs]=new Date(new Date().getTime()-De)}var Ze=zi(v,Kr[Zs],Kr[mc],I[Xr](),O,V);I[Vn][vc](Ze),R=0},I[Eg]=function(v,O,V){var ie=zi(v,es[Zs],es[mc],I[Xr](),O,V);I[Vn][vc](ie)},I.trackPageViewPerformance=function(v,O){var V=v||{};try{s[_f](V),I[Eg](V,O)}catch(ie){Y(1,37,"trackPageViewPerformance failed, page view will not be collected: "+qe(ie),{exception:Q(ie)})}},I.startTrackPage=function(v){try{if(typeof v!="string"){var O=kt();v=O&&O.title||""}i.start(v)}catch(V){Y(1,31,"startTrackPage failed, page view may not be collected: "+qe(V),{exception:Q(V)})}},I.stopTrackPage=function(v,O,V,ie){try{if(typeof v!="string"){var De=kt();v=De&&De.title||""}if(typeof O!="string"){var Ze=Zn();O=Ze&&Ze[_c]||""}i.stop(v,O,V,ie),E&&a[yg](v,O)}catch(Je){Y(1,32,"stopTrackPage failed, page view will not be collected: "+qe(Je),{exception:Q(Je)})}},I[IN]=function(v,O,V){var ie=v&&(v[GE]||v[yf])||Iu(v)&&v||{name:v&&typeof v,message:v||Tn};v=v||{};var De=new fr(I[Xr](),ie,v[ll]||O,v.measurements,v.severityLevel,v.id).toInterface(),Ze=kt();if(Ze&&w?.inclScripts){var Je=hE(Ze);De[ll].exceptionScripts=JSON.stringify(Je)}if(w?.expLog){var ut=w.expLog();ut&&ut.logs&&Se(ut.logs)&&(De[ll].exceptionLog=ut.logs.slice(0,w.maxLogs).join(`
`))}var jt=zi(De,fr[Zs],fr[mc],I[Xr](),O,V);I[Vn][vc](jt)},I.trackException=function(v,O){v&&!v[GE]&&v[yf]&&(v[GE]=v[yf]);try{I[IN](v,O)}catch(V){Y(1,35,"trackException failed, exception will not be collected: "+qe(V),{exception:Q(V)})}},I[zE]=function(v){var O=v&&v[yf],V=v&&v.evt;try{if(!V){var ie=yn();ie&&(V=ie[Nq])}var De=v&&v.url||(kt()||{}).URL,Ze=v[WE]||"window.onerror@"+De+":"+(v[qE]||0)+":"+(v[KE]||0),Je={errorSrc:Ze,url:De,lineNumber:v[qE]||0,columnNumber:v[KE]||0,message:v[SN]};yN(v.message,v.url,v.lineNumber,v.columnNumber,v[yf])?C(fr[XE]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",De,v[qE]||0,v[KE]||0,O,V,null,Ze),Je):(v[WE]||(v[WE]=Ze),I.trackException({exception:v,severityLevel:3},Je))}catch(jt){var ut=O?O.name+", "+O[SN]:"null";Y(1,11,"_onError threw exception while logging error, error will not be collected: "+qe(jt),{exception:Q(jt),errorString:ut})}},I[Dg]=function(v){if(I[Vn])return I[Vn][Dg](v);c||(c=[]),c.push(v)},I.initialize=function(v,O,V,ie){if(!I.isInitialized()){k(O)&&Ln("Error initializing"),j.initialize(v,O,V,ie);try{x=Rr(nn(I.identifier),O.evtNamespace&&O.evtNamespace()),c&&(q(c,function(De){O[Dg](De)}),c=null),Ee(v),s=new bU(I[Vn]),o=new IU(I,_.overridePageViewDuration,I[Vn],s),a=new wU(I[Xr](),function(De,Ze,Je){return ue(De,Ze,Je)}),r=new AN(I[Xr](),"trackEvent"),r.action=function(De,Ze,Je,ut,jt){ut||(ut={}),jt||(jt={}),ut.duration=Je[_g](),I.trackEvent({name:De,properties:ut,measurements:jt})},i=new AN(I[Xr](),"trackPageView"),i.action=function(De,Ze,Je,ut,jt){k(ut)&&(ut={}),ut.duration=Je[_g]();var Qr={name:De,uri:Ze,properties:ut,measurements:jt};I[Js](Qr,ut)},ja()&&(G(),P())}catch(De){throw I.setInitialized(!1),De}}},I._doTeardown=function(v,O){o&&o.teardown(v,O),Ko(window,null,null,x),ne()},I._getDbgPlgTargets=function(){return[J,h]};function Ee(v){var O=I.identifier,V=I[Vn];I[ul](ct(v,function(){var ie=Sn(null,v,V);_=ie.getExtCfg(O,xq),h=h||v[ZE]||_[ZE],w=_.expCfg,E=_[TN],v.storagePrefix&&il(v.storagePrefix),Mq(_),u=_[CN],y()}))}function ue(v,O,V){var ie={PageName:v,PageUrl:O};I.trackMetric({name:"PageVisitTime",average:V,max:V,min:V,sampleCount:1},ie)}function y(){if(!l&&u){var v=["/browserLinkSignalR/","/__browserLink/"],O=function(V){if(u&&V.baseType===Gi[Zs]){var ie=V.baseData;if(ie){for(var De=0;De<v[yc];De++)if(ie.target&&Wt(ie.target,v[De])>=0)return!1}}return!0};I[ul](I[Dg](O)),l=!0}}function C(v,O){var V=zi(v,fr[Zs],fr[mc],I[Xr](),O);I[Vn][vc](V)}function G(){var v=yn(),O=Zn(!0);I[ul](ct(_,function(){f=_.disableExceptionTracking,!f&&!h&&!_[ZE]&&(Z(af(v,"onerror",{ns:x,rsp:function(V,ie,De,Ze,Je,ut){!f&&V.rslt!==!0&&I[zE](fr[XE](ie,De,Ze,Je,ut,V.evt))}},!1)),J++,h=!0)})),xe(v,O)}function P(){var v=yn(),O=Zn(!0);I[ul](ct(_,function(){if(d=_[bN]===!0,v&&d&&!p&&pb()){var V=vy();me(V.pushState)&&me(V.replaceState)&&typeof Event!==bu&&ve(v,V,O)}}))}function A(){var v=null;if(I[Vn]&&I[Vn].getTraceCtx&&(v=I[Vn].getTraceCtx(!1)),!v){var O=I[Vn].getPlugin(gc);if(O){var V=O.plugin.context;V&&(v=rl(V.telemetryTrace))}}return v}function ve(v,O,V){if(p)return;var ie=_.namePrefix||"";function De(){d&&bg(v,cl(ie+"locationchange"))}function Ze(){if(X?(U=X,X=V&&V[_c]||""):X=V&&V[_c]||"",d){var Je=A();if(Je){Je.setTraceId(Ei());var ut="_unknown_";V&&V.pathname&&(ut=V.pathname+(V.hash||"")),Je.setName(ht(I[Xr](),ut))}un(function(jt){I[vf]({refUri:jt,properties:{duration:0}})}.bind(I,U),I.autoRoutePVDelay)}}Z(af(O,"pushState",{ns:x,rsp:function(){d&&(bg(v,cl(ie+"pushState")),bg(v,cl(ie+"locationchange")))}},!0)),Z(af(O,"replaceState",{ns:x,rsp:function(){d&&(bg(v,cl(ie+"replaceState")),bg(v,cl(ie+"locationchange")))}},!0)),qr(v,ie+"popstate",De,x),qr(v,ie+"locationchange",Ze,x),p=!0}function xe(v,O){I[ul](ct(_,function(){g=_[wN]===!0,h=h||_[JE],g&&!m&&(Z(af(v,"onunhandledrejection",{ns:x,rsp:function(V,ie){g&&V.rslt!==!0&&I[zE](fr[XE](Aq(ie),O?O[_c]:"",0,0,ie,V.evt))}},!1)),J++,_[JE]=m=!0)}))}function Y(v,O,V,ie,De){I[Xr]().throwInternal(v,O,V,ie,De)}function ne(){r=null,i=null,o=null,s=null,a=null,c=null,u=!1,l=!1,d=!1,p=!1,f=!1,h=!1,g=!1,m=!1,E=!1,R=0;var v=Zn(!0);U=v&&v[_c]||"",X=null,x=null,_=null,J=0,ke(I,"config",{g:function(){return _}})}ke(I,"_pageViewManager",{g:function(){return o}}),ke(I,"_pageViewPerformanceManager",{g:function(){return s}}),ke(I,"_pageVisitTimeManager",{g:function(){return a}}),ke(I,"_evtNamespace",{g:function(){return"."+x}})}),n}return t.Version="3.3.5",t}(Di);var wg="featureOptIn",xN="onCfgChangeReceive",RN="nonOverrideConfigs",MN="scheduleFetchTimeout";function PN(e,t,n,r){try{var i=n>r;i&&(e=null);var o=n==0?gF({},e):e;return o&&t&&!i&&Te(o,function(s){var a=t[s];a&&(an(o[s])&&an(a)?o[s]=PN(o[s],a,++n,r):delete o[s])}),o}catch{}return e}var If="featureOptIn.",xU=".mode",RU=".onCfg",MU=".offCfg";function Pq(e,t,n){var r;if(!t||!t.enabled)return null;var i=(t[wg]||{})[e]||{mode:1},o=i.mode,s=i.onCfg,a=i.offCfg,c=(n||{})[e]||{mode:2},u=c.mode,l=c.onCfg,d=c.offCfg,p=!!c.blockCdnCfg,f=If+e+xU,h=If+e+RU,g=If+e+MU,m=u,_=l,E=d;return p||(o===4||o===5?(m=o==4?3:2,_=s||l,E=a||d):o===2||u===2?(m=2,_=l||s,E=d||a):o===3?(m=3,_=l||s,E=d||a):o===1&&u===1&&(m=1)),r={},r[f]=m,r[h]=_,r[g]=E,r}function PU(e,t){try{if(!e||!e.enabled)return null;if(!e[wg])return e.config;var n=e[wg],r=e.config||{};return Te(n,function(i){var o=Pq(i,e,t.config[wg]);k(o)||(Te(o,function(s,a){Eb(r,s,a)}),Oq(i,o,r))}),r}catch{}return null}function Oq(e,t,n){var r=t[If+e+xU],i=t[If+e+RU],o=t[If+e+MU],s=null;r===3&&(s=i),r===2&&(s=o),s&&Te(s,function(a,c){Eb(n,a,c)})}var Ng,kq="ai_cfgsync",OU="GET",Fq=18e5,Sf=void 0,Lq={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},Uq=fi((Ng={syncMode:1,blkCdnCfg:Sf,customEvtName:Sf,cfgUrl:Sf,overrideSyncFn:Sf,overrideFetchFn:Sf},Ng[xN]=Sf,Ng[MN]=Fq,Ng[RN]=Lq,Ng)),ON=function(e){Un(t,e);function t(){var n=e.call(this)||this;n.priority=198,n.identifier="AppInsightsCfgSyncPlugin";var r,i,o,s,a,c,u,l,d,p,f,h,g,m,_,E,w=!1;return Oe(t,n,function(R,U){X(),R.initialize=function(Y,ne,v,O){U.initialize(Y,ne,v,O),s=Rr(nn(R.identifier),ne.evtNamespace&&ne.evtNamespace()),x(Y)},R.getCfg=function(){return i},R.pause=function(){w=!0,xe()},R.resume=function(){w=!1,ve()},R.setCfg=function(Y){return J(Y)},R.sync=function(Y){return j(Y)},R.updateEventListenerName=function(Y){return Z(Y)},R._doTeardown=function(Y,ne){I(),xe(),X()},R._getDbgPlgTargets=function(){return[l,u,o,d,g]};function X(){i=null,o=null,s=null,a=null,u=null,l=null,g=null,c=null,p=null,f=null,d=null,_=null,E=null,h=null}function x(Y){var ne=R.identifier,v=R.core;R._addHook(ct(Y,function(){var O=Sn(null,Y,v);r=O.getExtCfg(ne,Uq);var V=d;d=!!r.blkCdnCfg,!k(V)&&V!==d&&(!d&&a?m&&m(a,C,l):xe()),k(u)&&(u=r.syncMode===2),k(l)&&(l=r.syncMode===1);var ie=r.customEvtName||kq;o!==ie&&(u?Z(ie):(I(),o=ie)),k(a)&&(a=r.cfgUrl),a||(i=Y,l&&j())})),E=r.overrideSyncFn,_=r.overrideFetchFn,h=r[xN],g=r[RN],p=r[MN],m=Ee(),f=0,a&&!d&&m&&m(a,C,l)}function J(Y,ne){if(Y){if(i=Y,ne&&!w)return j();if(u&&!w)return R.core.updateCfg(Y),!0}return!1}function I(){try{var Y=cn();Y&&Ko(Y,null,null,s)}catch{}}function j(Y){try{return E&&me(E)?E(i,Y):fw(o,i,Y)}catch{}return!1}function Z(Y){try{return I(),Y&&(o=Y,P()),!0}catch{}return!1}function Ee(){var Y=_;return k(Y)&&(ju()?Y=ue:Za()&&(Y=y)),Y}function ue(Y,ne,v){var O=cn(),V=O&&O.fetch||null;if(Y&&V&&me(V))try{var ie={method:OU},De=new Request(Y,ie);Nr(fetch(De),function(Ze){var Je=Ze.value;Ze.rejected?G(ne,400):Je.ok?Nr(Je.text(),function(ut){G(ne,Je.status,ut.value,v)}):G(ne,Je.status,null,v)})}catch{}}function y(Y,ne,v){try{var O=new XMLHttpRequest;O.open(OU,Y),O.onreadystatechange=function(){O.readyState===XMLHttpRequest.DONE&&G(ne,O.status,O.responseText,v)},O.onerror=function(){G(ne,400)},O.ontimeout=function(){G(ne,400)},O.send()}catch{}}function C(Y,ne,v){try{if(Y>=200&&Y<400&&ne){f=0;var O=Dn();if(O){var V=O.parse(ne),ie=PU(V,R.core),De=ie&&En(ie)&&A(ie);De&&J(De,v)}}else f++;f<3&&ve()}catch{}}function G(Y,ne,v,O){try{Y(ne,v,O)}catch{}}function P(){if(u){var Y=cn();if(Y)try{qr(Y,o,function(ne){var v=ne&&ne.detail;if(h&&v)h(v);else{var O=v&&v.cfg,V=O&&En(O)&&A(O);V&&J(V)}},s,!0)}catch{}}}function A(Y,ne){var v=null;try{Y&&(v=PN(Y,g,0,5))}catch{}return v}function ve(){!c&&p&&(c=un(function(){c=null,m(a,C,l)},p),c.unref())}function xe(){c&&c.cancel(),c=null,f=0}R.processTelemetry=function(Y,ne){R.processNext(Y,ne)}}),n}return t.__ieDyn=1,t}(Di);var Ec="duration";var bn="tags",iD="deviceType",Qn="data",ts="name",dl="traceID",ze="length",Dc="stringify",Ic="measurements",Wi="dataType",Sc="envelopeType",ea="toString",Tf="_get",ta="enqueue",na="count",oD="eventsLimitInMem",qi="push",Cf="item",Ag="emitLineDelimitedJson",Tc="clear",xg="createNew",bf="markAsSent",fl="clearSent",Rg="bufferOverride",sD="BUFFER_KEY",ra="SENT_BUFFER_KEY",Cc="concat",wf="MAX_BUFFER_SIZE",Nf="triggerSend",er="diagLog",aD="initialize",Af="_sender",xf="endpointUrl",Rf="instrumentationKey",cD="customHeaders",kN="maxBatchSizeInBytes",uD="onunloadDisableBeacon",lD="isBeaconApiDisabled",FN="alwaysUseXhrOverride",dD="disableXhr",LN="enableSessionStorageBuffer",ia="_buffer",UN="onunloadDisableFetch",VN="disableSendBeaconSplit",jN="enableSendPromise",Mg="getSenderInst",BN="unloadTransports",HN="convertUndefined",YN="maxBatchInterval",Mf="serialize",bc="_onError",fD="_onPartialSuccess",Pg="_onSuccess",pD="itemsReceived",hD="itemsAccepted",gD="oriPayload",mD="baseType",Pf="sampleRate",$N="eventsSendRequest",vD="getSamplingScore",kU="getHashCodeScore";var GN="baseType",qt="baseData",jn="properties",FU="true";function dn(e,t,n){return Et(e,t,n,Ua)}function Vq(e,t,n){var r=n[bn]=n[bn]||{},i=t.ext=t.ext||{},o=t[bn]=t[bn]||[],s=i.user;s&&(dn(r,Ct.userAuthUserId,s.authId),dn(r,Ct.userId,s.id||s.localId));var a=i.app;a&&dn(r,Ct.sessionId,a.sesId);var c=i.device;c&&(dn(r,Ct.deviceId,c.id||c.localId),dn(r,Ct[iD],c.deviceClass),dn(r,Ct.deviceIp,c.ip),dn(r,Ct.deviceModel,c.model),dn(r,Ct[iD],c[iD]));var u=t.ext.web;if(u){dn(r,Ct.deviceLanguage,u.browserLang),dn(r,Ct.deviceBrowserVersion,u.browserVer),dn(r,Ct.deviceBrowser,u.browser);var l=n[Qn]=n[Qn]||{},d=l[qt]=l[qt]||{},p=d[jn]=d[jn]||{};dn(p,"domain",u.domain),dn(p,"isManual",u.isManual?FU:null),dn(p,"screenRes",u.screenRes),dn(p,"userConsent",u.userConsent?FU:null)}var f=i.os;f&&(dn(r,Ct.deviceOS,f[ts]),dn(r,Ct.deviceOSVersion,f.osVer));var h=i.trace;h&&(dn(r,Ct.operationParentId,h.parentID),dn(r,Ct.operationName,ht(e,h[ts])),dn(r,Ct.operationId,h[dl]));for(var g={},m=o[ze]-1;m>=0;m--){var _=o[m];Te(_,function(w,R){g[w]=R}),o.splice(m,1)}Te(o,function(w,R){g[w]=R});var E=ln(ln({},r),g);E[Ct.internalSdkVersion]||(E[Ct.internalSdkVersion]=ht(e,"javascript:".concat(jq.Version),64)),n[bn]=Jy(E)}function wc(e,t,n){k(e)||Te(e,function(r,i){fo(i)?n[r]=i:fe(i)?t[r]=i:Go()&&(t[r]=Dn()[Dc](i))})}function pl(e,t){k(e)||Te(e,function(n,r){e[n]=r||t})}function hl(e,t,n,r){var i=new hN(e,r,t);dn(i,"sampleRate",n[rg]),(n[qt]||{}).startTime&&(i.time=Bi(n[qt].startTime)),i.iKey=n.iKey;var o=n.iKey.replace(/-/g,"");return i[ts]=i[ts].replace("{0}",o),Vq(e,n,i),n[bn]=n[bn]||[],Jy(i)}function gl(e,t){k(t[qt])&&H(e,1,46,"telemetryItem.baseData cannot be null.")}var jq={Version:"3.3.5"};function LU(e,t,n){gl(e,t);var r=t[qt][Ic]||{},i=t[qt][jn]||{};wc(t[Qn],i,r),k(n)||pl(i,n);var o=t[qt];if(k(o))return yi(e,"Invalid input for dependency data"),null;var s=o[jn]&&o[jn][TE]?o[jn][TE]:"GET",a=new Gi(e,o.id,o.target,o[ts],o[Ec],o.success,o.responseCode,s,o.type,o.correlationContext,i,r),c=new Xs(Gi[Wi],a);return hl(e,Gi[Sc],t,c)}function zN(e,t,n){gl(e,t);var r={},i={};t[GN]!==Hi[Wi]&&(r.baseTypeSource=t[GN]),t[GN]===Hi[Wi]?(r=t[qt][jn]||{},i=t[qt][Ic]||{}):t[qt]&&wc(t[qt],r,i),wc(t[Qn],r,i),k(n)||pl(r,n);var o=t[qt][ts],s=new Hi(e,o,r,i),a=new Xs(Hi[Wi],s);return hl(e,Hi[Sc],t,a)}function UU(e,t,n){gl(e,t);var r=t[qt][Ic]||{},i=t[qt][jn]||{};wc(t[Qn],i,r),k(n)||pl(i,n);var o=t[qt],s=fr.CreateFromInterface(e,o,i,r),a=new Xs(fr[Wi],s);return hl(e,fr[Sc],t,a)}function VU(e,t,n){gl(e,t);var r=t[qt],i=r[jn]||{},o=r[Ic]||{};wc(t[Qn],i,o),k(n)||pl(i,n);var s=new $i(e,r[ts],r.average,r.sampleCount,r.min,r.max,r.stdDev,i,o),a=new Xs($i[Wi],s);return hl(e,$i[Sc],t,a)}function jU(e,t,n){gl(e,t);var r,i=t[qt];!k(i)&&!k(i[jn])&&!k(i[jn][Ec])?(r=i[jn][Ec],delete i[jn][Ec]):!k(t[Qn])&&!k(t[Qn][Ec])&&(r=t[Qn][Ec],delete t[Qn][Ec]);var o=t[qt],s;((t.ext||{}).trace||{})[dl]&&(s=t.ext.trace[dl]);var a=o.id||s,c=o[ts],u=o.uri,l=o[jn]||{},d=o[Ic]||{};if(k(o.refUri)||(l.refUri=o.refUri),k(o.pageType)||(l.pageType=o.pageType),k(o.isLoggedIn)||(l.isLoggedIn=o.isLoggedIn[ea]()),!k(o[jn])){var p=o[jn];Te(p,function(g,m){l[g]=m})}wc(t[Qn],l,d),k(n)||pl(l,n);var f=new Kr(e,c,u,r,l,d,a),h=new Xs(Kr[Wi],f);return hl(e,Kr[Sc],t,h)}function BU(e,t,n){gl(e,t);var r=t[qt],i=r[ts],o=r.uri||r.url,s=r[jn]||{},a=r[Ic]||{};wc(t[Qn],s,a),k(n)||pl(s,n);var c=new es(e,i,o,void 0,s,a,r),u=new Xs(es[Wi],c);return hl(e,es[Sc],t,u)}function HU(e,t,n){gl(e,t);var r=t[qt].message,i=t[qt].severityLevel,o=t[qt][jn]||{},s=t[qt][Ic]||{};wc(t[Qn],o,s),k(n)||pl(o,n);var a=new Qo(e,r,i,o,s),c=new Xs(Qo[Wi],a);return hl(e,Qo[Sc],t,c)}var YU=function(){function e(t,n){var r=[],i=!1,o=n.maxRetryCnt;this[Tf]=function(){return r},this._set=function(s){return r=s,r},Oe(e,this,function(s){s[ta]=function(a){if(s[na]()>=n[oD]){i||(H(t,2,105,"Maximum in-memory buffer size reached: "+s[na](),!0),i=!0);return}a.cnt=a.cnt||0,!(!k(o)&&a.cnt>o)&&r[qi](a)},s[na]=function(){return r[ze]},s.size=function(){for(var a=r[ze],c=0;c<r[ze];c++)a+=r[c].item[ze];return n[Ag]||(a+=2),a},s[Tc]=function(){r=[],i=!1},s.getItems=function(){return r.slice(0)},s.batchPayloads=function(a){if(a&&a[ze]>0){var c=[];q(a,function(l){c[qi](l[Cf])});var u=n[Ag]?c.join(`
`):"["+c.join(",")+"]";return u}return null},s[xg]=function(a,c,u){var l=r.slice(0);a=a||t,c=c||{};var d=u?new WN(a,c):new _D(a,c);return q(l,function(p){d[ta](p)}),d}})}return e.__ieDyn=1,e}(),_D=function(e){Un(t,e);function t(n,r){var i=e.call(this,n,r)||this;return Oe(t,i,function(o,s){o[bf]=function(a){s[Tc]()},o[fl]=function(a){}}),i}return t.__ieDyn=1,t}(YU);var Bq=["AI_buffer","AI_sentBuffer"],WN=function(e){Un(t,e);function t(r,i){var o=e.call(this,r,i)||this,s=!1,a=i?.namePrefix,c=i[Rg]||{getItem:hf,setItem:fg},u=c.getItem,l=c.setItem,d=i.maxRetryCnt;return Oe(t,o,function(p,f){var h=R(t[sD]),g=R(t[ra]),m=x(),_=g[Cc](m),E=p._set(h[Cc](_));E[ze]>t[wf]&&(E[ze]=t[wf]),X(t[ra],[]),X(t[sD],E),p[ta]=function(I){if(p[na]()>=t[wf]){s||(H(r,2,67,"Maximum buffer size reached: "+p[na](),!0),s=!0);return}I.cnt=I.cnt||0,!(!k(d)&&I.cnt>d)&&(f[ta](I),X(t.BUFFER_KEY,p[Tf]()))},p[Tc]=function(){f[Tc](),X(t.BUFFER_KEY,p[Tf]()),X(t[ra],[]),s=!1},p[bf]=function(I){X(t[sD],p._set(w(I,p[Tf]())));var j=R(t[ra]);j instanceof Array&&I instanceof Array&&(j=j[Cc](I),j[ze]>t[wf]&&(H(r,1,67,"Sent buffer reached its maximum size: "+j[ze],!0),j[ze]=t[wf]),X(t[ra],j))},p[fl]=function(I){var j=R(t[ra]);j=w(I,j),X(t[ra],j)},p[xg]=function(I,j,Z){Z=!!Z;var Ee=p[Tf]().slice(0),ue=R(t[ra]).slice(0);I=I||r,j=j||{},p[Tc]();var y=Z?new t(I,j):new _D(I,j);return q(Ee,function(C){y[ta](C)}),Z&&y[bf](ue),y};function w(I,j){var Z=[],Ee=[];return q(I,function(ue){Ee[qi](ue[Cf])}),q(j,function(ue){!me(ue)&&Nt(Ee,ue[Cf])===-1&&Z[qi](ue)}),Z}function R(I){var j=I;return j=a?a+"_"+j:j,U(j)}function U(I){try{var j=u(r,I);if(j){var Z=Dn().parse(j);if(fe(Z)&&(Z=Dn().parse(Z)),Z&&Se(Z))return Z}}catch(Ee){H(r,1,42," storage key: "+I+", "+qe(Ee),{exception:Q(Ee)})}return[]}function X(I,j){var Z=I;try{Z=a?a+"_"+Z:Z;var Ee=JSON[Dc](j);l(r,Z,Ee)}catch(ue){l(r,Z,JSON[Dc]([])),H(r,2,41," storage key: "+Z+", "+qe(ue)+". Buffer cleared",{exception:Q(ue)})}}function x(){var I=[];try{return q(Bq,function(j){var Z=J(j);if(I=I[Cc](Z),a){var Ee=a+"_"+j,ue=J(Ee);I=I[Cc](ue)}}),I}catch(j){H(r,2,41,"Transfer events from previous buffers: "+qe(j)+". previous Buffer items can not be removed",{exception:Q(j)})}return[]}function J(I){try{var j=U(I),Z=[];return q(j,function(Ee){var ue={item:Ee,cnt:0};Z[qi](ue)}),pg(r,I),Z}catch{}return[]}}),o}var n;return n=t,t.VERSION="_1",t.BUFFER_KEY="AI_buffer"+n.VERSION,t.SENT_BUFFER_KEY="AI_sentBuffer"+n.VERSION,t.MAX_BUFFER_SIZE=2e3,t}(YU);var $U=function(){function e(t){Oe(e,this,function(n){n[Mf]=function(s){var a=r(s,"root");try{return Dn()[Dc](a)}catch(c){H(t,1,48,c&&me(c[ea])?c[ea]():"Error serializing object",null,!0)}};function r(s,a){var c="__aiCircularRefCheck",u={};if(!s)return H(t,1,48,"cannot serialize object because it is null or undefined",{name:a},!0),u;if(s[c])return H(t,2,50,"Circular reference detected while serializing object",{name:a},!0),u;if(!s.aiDataContract){if(a==="measurements")u=o(s,"number",a);else if(a==="properties")u=o(s,"string",a);else if(a==="tags")u=o(s,"string",a);else if(Se(s))u=i(s,a);else{H(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:a},!0);try{Dn()[Dc](s),u=s}catch(l){H(t,1,48,l&&me(l[ea])?l[ea]():"Error serializing object",null,!0)}}return u}return s[c]=!0,Te(s.aiDataContract,function(l,d){var p=me(d)?d()&1:d&1,f=me(d)?d()&4:d&4,h=d&2,g=s[l]!==void 0,m=an(s[l])&&s[l]!==null;if(p&&!g&&!h)H(t,1,24,"Missing required field specification. The field is required but not present on source",{field:l,name:a});else if(!f){var _=void 0;m?h?_=i(s[l],l):_=r(s[l],l):_=s[l],_!==void 0&&(u[l]=_)}}),delete s[c],u}function i(s,a){var c;if(s)if(!Se(s))H(t,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:a},!0);else{c=[];for(var u=0;u<s[ze];u++){var l=s[u],d=r(l,a+"["+u+"]");c[qi](d)}}return c}function o(s,a,c){var u;return s&&(u={},Te(s,function(l,d){if(a==="string")d===void 0?u[l]="undefined":d===null?u[l]="null":d[ea]?u[l]=d[ea]():u[l]="invalid field: toString() is not defined.";else if(a==="number")if(d===void 0)u[l]="undefined";else if(d===null)u[l]="null";else{var p=parseFloat(d);u[l]=p}else u[l]="invalid field: "+c+" is of unknown type.",H(t,1,u[l],null,!0)})),u}})}return e.__ieDyn=1,e}();var Hq=8,GU=function(){function e(){}return e.prototype.getHashCodeScore=function(t){var n=this.getHashCode(t)/e.INT_MAX_VALUE;return n*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t[ze]<Hq;)t=t[Cc](t);for(var n=5381,r=0;r<t[ze];++r)n=(n<<5)+n+t.charCodeAt(r),n=n&n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e}();var zU=function(){function e(){var t=this,n=new GU,r=new vg;t[vD]=function(i){var o=0;return i[bn]&&i[bn][r.userId]?o=n.getHashCodeScore(i[bn][r.userId]):i.ext&&i.ext.user&&i.ext.user.id?o=n[kU](i.ext.user.id):i[bn]&&i[bn][r.operationId]?o=n.getHashCodeScore(i[bn][r.operationId]):i.ext&&i.ext.telemetryTrace&&i.ext.telemetryTrace[dl]?o=n.getHashCodeScore(i.ext.telemetryTrace[dl]):o=Math.random()*100,o}}return e}();var WU=function(){function e(t,n){this.INT_MAX_VALUE=2147483647;var r=n||xr(null);(t>100||t<0)&&(r.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this[Pf]=t,this.samplingScoreGenerator=new zU}return e.prototype.isSampledIn=function(t){var n=this[Pf],r=!1;return n==null||n>=100||t.baseType===$i[Wi]?!0:(r=this.samplingScoreGenerator[vD](t)<n,r)},e}();var $t,oa,ns=void 0,qU="",Yq=65e3;function KU(e){try{return e.responseText}catch{}return null}function $q(e){return e&&e.sendPOST}var XU=fi(($t={endpointUrl:Qa(Ua,qu+Xo)},$t[Ag]=Qt(),$t[YN]=15e3,$t[kN]=102400,$t.disableTelemetry=Qt(),$t[LN]=Qt(!0),$t.isRetryDisabled=Qt(),$t[lD]=Qt(!0),$t[VN]=Qt(!0),$t[dD]=Qt(),$t[UN]=Qt(),$t[uD]=Qt(),$t[Rf]=ns,$t.namePrefix=ns,$t.samplingPercentage=Qa(Gq,100),$t[cD]=ns,$t[HN]=ns,$t[oD]=1e4,$t[Rg]=!1,$t.httpXHROverride={isVal:$q,v:ns},$t[FN]=Qt(),$t.transports=ns,$t.retryCodes=ns,$t.maxRetryCnt={isVal:fo,v:10},$t));function Gq(e){return!isNaN(e)&&e>0&&e<=100}var zq=(oa={},oa[Hi.dataType]=zN,oa[Qo.dataType]=HU,oa[Kr.dataType]=jU,oa[es.dataType]=BU,oa[fr.dataType]=UU,oa[$i.dataType]=VU,oa[Gi.dataType]=LU,oa),qN=function(e){Un(t,e);function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=HE;var r,i,o,s,a,c,u,l,d=0,p,f,h,g,m,_,E,w,R,U,X,x,J,I,j,Z,Ee,ue,y,C,G,P,A,ve,xe,Y,ne;return Oe(t,n,function(v,O){Wc(),v.pause=function(){vt(),s=!0},v.resume=function(){s&&(s=!1,i=null,b(),it())},v.flush=function(S,M,le){if(S===void 0&&(S=!0),!s){vt();try{return v[Nf](S,null,le||1)}catch(pe){H(v[er](),1,22,"flush failed, telemetry will not be collected: "+qe(pe),{exception:Q(pe)})}}},v.onunloadFlush=function(){if(!s)if(E||C)try{return v[Nf](!0,B,2)}catch(S){H(v[er](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+qe(S),{exception:Q(S)})}else v.flush(!1)},v.addHeader=function(S,M){l[S]=M},v[aD]=function(S,M,le,pe){v.isInitialized()&&H(v[er](),1,28,"Sender is already initialized"),O[aD](S,M,le,pe);var Fe=v.identifier;c=new $U(M.logger),r=0,i=null,o=0,v[Af]=null,u=0;var Pe=v[er]();h=Rr(nn("Sender"),M.evtNamespace&&M.evtNamespace()),f=DN(h),v._addHook(ct(S,function(Qe){var Bt=Qe.cfg;Bt.storagePrefix&&il(Bt.storagePrefix);var Ai=Sn(null,Bt,M),He=Ai.getExtCfg(Fe,XU),zx=He[xf];if(g&&zx===g){var e0=Bt[xf];e0&&e0!==zx&&(He[xf]=e0)}di(He[Rf])&&(He[Rf]=Bt[Rf]),ke(v,"_senderConfig",{g:function(){return He}}),m!==He[xf]&&(g=m=He[xf]),M.activeStatus()===go.PENDING?v.pause():M.activeStatus()===go.ACTIVE&&v.resume(),U&&U!==He[cD]&&q(U,function(Yn){delete l[Yn.header]}),_=He[kN],E=(He[uD]===!1||He[lD]===!1)&&Hs(),w=He[uD]===!1&&Hs(),R=He[lD]===!1&&Hs(),C=He[FN],G=!!He[dD],ne=He.retryCodes;var t0=He[Rg],Ol=!!He[LN]&&(!!t0||fc()),Wx=He.namePrefix,Wj=Ol!==Z||Ol&&ue!==Wx||Ol&&Ee!==t0;if(v[ia]){if(Wj)try{v._buffer=v._buffer[xg](Pe,He,Ol)}catch(Yn){H(v[er](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+qe(Yn),{exception:Q(Yn)})}b()}else v[ia]=Ol?new WN(Pe,He):new _D(Pe,He);ue=Wx,Z=Ol,Ee=t0,P=!He[UN]&&ju(!0),xe=!!He[VN],v._sample=new WU(He.samplingPercentage,Pe),x=He[Rf],!di(x)&&!mr(x,Bt)&&H(Pe,1,100,"Invalid Instrumentation key "+x),U=He[cD],fe(g)&&!df(g)&&U&&U[ze]>0?q(U,function(Yn){n.addHeader(Yn.header,Yn.value)}):U=null,y=He[jN];var qx=ie();Y?Y.SetConfig(qx):(Y=new Hw,Y[aD](qx,Pe));var Sm=He.httpXHROverride,Tm=null,_p=null,qj=eE([3,1,2],He.transports);Tm=Y&&Y[Mg](qj,!1);var n0=Y&&Y.getFallbackInst();A=function(Yn,qc){return _e(n0,Yn,qc)},ve=function(Yn,qc){return _e(n0,Yn,qc,!1)},Tm=C?Sm:Tm||Sm||n0,v[Af]=function(Yn,qc){return _e(Tm,Yn,qc)},P&&(p=Ce);var r0=eE([3,1],He[BN]);P||(r0=r0.filter(function(Yn){return Yn!==2})),_p=Y&&Y[Mg](r0,!0),_p=C?Sm:_p||Sm,(C||He[BN]||!p)&&_p&&(p=function(Yn,qc){return _e(_p,Yn,qc)}),p||(p=A),X=He.disableTelemetry,J=He[HN]||ns,I=He.isRetryDisabled,j=He[YN]}))},v.processTelemetry=function(S,M){var le;M=v._getTelCtx(M);var pe=M[er]();try{var Fe=Qr(S,pe);if(!Fe)return;var Pe=xt(S,pe);if(!Pe)return;var Qe=c[Mf](Pe),Bt=v[ia];b(Qe);var Ai=(le={},le[Cf]=Qe,le.cnt=0,le);Bt[ta](Ai),it()}catch(He){H(pe,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+qe(He),{exception:Q(He)})}v.processNext(S,M)},v.isCompletelyIdle=function(){return!s&&d===0&&v._buffer[na]()===0},v.getOfflineListener=function(){return f},v._xhrReadyStateChange=function(S,M,le){if(!ye(M))return De(S,M,le)},v[Nf]=function(S,M,le){S===void 0&&(S=!0);var pe;if(!s)try{var Fe=v[ia];if(X)Fe[Tc]();else{if(Fe[na]()>0){var Pe=Fe.getItems();ei(le||0,S),M?pe=M.call(v,Pe,S):pe=v[Af](Pe,S)}o=+new Date}vt()}catch(Bt){var Qe=jh();(!Qe||Qe>9)&&H(v[er](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+qe(Bt),{exception:Q(Bt)})}return pe},v.getOfflineSupport=function(){var S;return S={getUrl:function(){return g},createPayload:L},S[Mf]=Bn,S.batch=Hn,S.shouldProcess=function(M){return!!Qr(M)},S},v._doTeardown=function(S,M){v.onunloadFlush(),Ys(f,!1),Wc()},v[bc]=function(S,M,le){if(!ye(S))return Ze(S,M,le)},v[fD]=function(S,M){if(!ye(S))return Je(S,M)},v[Pg]=function(S,M){if(!ye(S))return ut(S,M)},v._xdrOnLoad=function(S,M){if(!ye(M))return V(S,M)};function V(S,M){var le=KU(S);if(S&&(le+""=="200"||le===""))r=0,v[Pg](M,0);else{var pe=eg(le);pe&&pe[pD]&&pe[pD]>pe[hD]&&!I?v[fD](M,pe):v[bc](M,Uh(S))}}function ie(){var S;try{var M={xdrOnComplete:function(pe,Fe,Pe){var Qe=jt(Pe);if(Qe)return V(pe,Qe)},fetchOnComplete:function(pe,Fe,Pe,Qe){var Bt=jt(Qe);if(Bt)return F(pe.status,Bt,pe.url,Bt[ze],pe.statusText,Pe||"")},xhrOnComplete:function(pe,Fe,Pe){var Qe=jt(Pe);if(Qe)return De(pe,Qe,Qe[ze])},beaconOnRetry:function(pe,Fe,Pe){return ee(pe,Fe,Pe)}},le=(S={},S[jN]=y,S.isOneDs=!1,S.disableCredentials=!1,S[dD]=G,S.disableBeacon=!R,S.disableBeaconSync=!w,S.senderOnCompleteCallBack=M,S);return le}catch{}return null}function De(S,M,le){S.readyState===4&&F(S.status,M,S.responseURL,le,Vu(S),KU(S)||S.response)}function Ze(S,M,le){H(v[er](),2,26,"Failed to send telemetry.",{message:M}),v._buffer&&v._buffer[fl](S)}function Je(S,M){for(var le=[],pe=[],Fe=M.errors.reverse(),Pe=0,Qe=Fe;Pe<Qe.length;Pe++){var Bt=Qe[Pe],Ai=S.splice(Bt.index,1)[0];Kt(Bt.statusCode)?pe[qi](Ai):le[qi](Ai)}S[ze]>0&&v[Pg](S,M[hD]),le[ze]>0&&v[bc](le,Vu(null,["partial success",M[hD],"of",M.itemsReceived].join(" "))),pe[ze]>0&&(Be(pe),H(v[er](),2,40,"Partial success. Delivered: "+S[ze]+", Failed: "+le[ze]+". Will retry to send "+pe[ze]+" our of "+M[pD]+" items"))}function ut(S,M){v._buffer&&v._buffer[fl](S)}function jt(S){try{if(S){var M=S,le=M[gD];return le&&le[ze]?le:null}}catch{}return null}function Qr(S,M){if(X)return!1;if(!S)return M&&H(M,1,7,"Cannot send empty telemetry"),!1;if(S.baseData&&!S[mD])return M&&H(M,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(S[mD]||(S[mD]="EventData"),!v[Af])return M&&H(M,1,28,"Sender was not initialized"),!1;if(ce(S))S[rg]=v._sample[Pf];else return M&&H(M,2,33,"Telemetry item was sampled out and not sent",{SampleRate:v._sample[Pf]}),!1;return!0}function xt(S,M){var le=S.iKey||x,pe=t.constructEnvelope(S,le,M,J);if(!pe){H(M,1,47,"Unable to create an AppInsights envelope");return}var Fe=!1;if(S[bn]&&S[bn][ig]&&(q(S[bn][ig],function(Pe){try{Pe&&Pe(pe)===!1&&(Fe=!0,yi(M,"Telemetry processor check returns false"))}catch(Qe){H(M,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+qe(Qe),{exception:Q(Qe)},!0)}}),delete S[bn][ig]),!Fe)return pe}function Bn(S){var M=qU,le=v[er]();try{var pe=Qr(S,le),Fe=null;pe&&(Fe=xt(S,le)),Fe&&(M=c[Mf](Fe))}catch{}return M}function Hn(S){var M=qU;return S&&S[ze]&&(M="["+S.join(",")+"]"),M}function L(S){var M,le=gt();return M={urlString:g},M[Qn]=S,M.headers=le,M}function ce(S){return v._sample.isSampledIn(S)}function Ne(S,M,le,pe){M===200&&S?v._onSuccess(S,S[ze]):pe&&v[bc](S,pe)}function _e(S,M,le,pe){pe===void 0&&(pe=!0);var Fe=function(Bt,Ai,He){return Ne(M,Bt,Ai,He)},Pe=Re(M),Qe=S&&S.sendPOST;return Qe&&Pe?(pe&&v._buffer[bf](M),Qe(Pe,Fe,!le)):null}function Re(S){var M;if(Se(S)&&S[ze]>0){var le=v[ia].batchPayloads(S),pe=gt(),Fe=(M={},M[Qn]=le,M.urlString=g,M.headers=pe,M.disableXhrSync=G,M.disableFetchKeepAlive=!P,M[gD]=S,M);return Fe}return null}function gt(){try{var S=l||{};return df(g)&&(S[mt[6]]=mt[7]),S}catch{}return null}function b(S){var M=S?S[ze]:0;return v[ia].size()+M>_?((!f||f.isOnline())&&v[Nf](!0,null,10),!0):!1}function F(S,M,le,pe,Fe,Pe){var Qe=null;if(v._appId||(Qe=eg(Pe),Qe&&Qe.appId&&(v._appId=Qe.appId)),(S<200||S>=300)&&S!==0){if((S===301||S===307||S===308)&&!z(le)){v[bc](M,Fe);return}if(f&&!f.isOnline()){if(!I){var Bt=10;Be(M,Bt),H(v[er](),2,40,". Offline - Response Code: ".concat(S,". Offline status: ").concat(!f.isOnline(),". Will retry to send ").concat(M.length," items."))}return}!I&&Kt(S)?(Be(M),H(v[er](),2,40,". Response code "+S+". Will retry to send "+M[ze]+" items.")):v[bc](M,Fe)}else z(le),S===206?(Qe||(Qe=eg(Pe)),Qe&&!I?v[fD](M,Qe):v[bc](M,Fe)):(r=0,v[Pg](M,pe))}function z(S){return u>=10?!1:!k(S)&&S!==""&&S!==g?(g=S,++u,!0):!1}function B(S,M){if(p)p(S,!1);else{var le=Y&&Y[Mg]([3],!0);return _e(le,S,M)}}function ee(S,M,le){var pe=S,Fe=pe&&pe[gD];if(xe)ve&&ve(Fe,!0),H(v[er](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Pe=[],Qe=0;Qe<Fe[ze];Qe++){var Bt=Fe[Qe],Ai=[Bt],He=Re(Ai);le(He,M)?v._onSuccess(Ai,Ai[ze]):Pe[qi](Bt)}Pe[ze]>0&&(ve&&ve(Pe,!0),H(v[er](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function ye(S){try{if(S&&S[ze])return fe(S[0])}catch{}return null}function Ce(S,M){var le=null;if(Se(S)){for(var pe=S[ze],Fe=0;Fe<S[ze];Fe++)pe+=S[Fe].item[ze];var Pe=Y.getSyncFetchPayload();Pe+pe<=Yq?le=2:Hs()?le=3:(le=1,H(v[er](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Qe=Y&&Y[Mg]([le],!0);return _e(Qe,S,M)}return null}function Be(S,M){if(M===void 0&&(M=1),!(!S||S[ze]===0)){var le=v[ia];le[fl](S),r++;for(var pe=0,Fe=S;pe<Fe.length;pe++){var Pe=Fe[pe];Pe.cnt=Pe.cnt||0,Pe.cnt++,le[ta](Pe)}Me(M),it()}}function Me(S){var M=10,le;if(r<=1)le=M;else{var pe=(Math.pow(2,r)-1)/2,Fe=Math.floor(Math.random()*pe*M)+1;Fe=S*Fe,le=Math.max(Math.min(Fe,3600),M)}var Pe=xn()+le*1e3;i=Pe}function it(){if(!a&&!s){var S=i?Math.max(0,i-xn()):0,M=Math.max(j,S);a=un(function(){a=null,v[Nf](!0,null,1)},M)}}function vt(){a&&a.cancel(),a=null,i=null}function Kt(S){return k(ne)?S===401||S===408||S===429||S===500||S===502||S===503||S===504:ne[ze]&&ne.indexOf(S)>-1}function Ni(){var S="getNotifyMgr";return v.core[S]?v.core[S]():v.core._notificationManager}function ei(S,M){var le=Ni();if(le&&le[$N])try{le[$N](S,M)}catch(pe){H(v[er](),1,74,"send request notification failed: "+qe(pe),{exception:Q(pe)})}}function mr(S,M){var le=M.disableInstrumentationKeyValidation,pe=k(le)?!1:le;if(pe)return!0;var Fe="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Pe=new RegExp(Fe);return Pe.test(S)}function Wc(){v[Af]=null,v[ia]=null,v._appId=null,v._sample=null,l={},f=null,r=0,i=null,o=null,s=!1,a=null,c=null,u=0,d=0,p=null,h=null,g=null,m=null,_=0,E=!1,U=null,X=!1,x=null,J=ns,I=!1,Z=null,ue=ns,G=!1,P=!1,xe=!1,A=null,ve=null,Y=null,ke(v,"_senderConfig",{g:function(){return Qy({},XU)}})}}),n}return t.constructEnvelope=function(n,r,i,o){var s;r!==n.iKey&&!k(r)?s=ln(ln({},n),{iKey:r}):s=n;var a=zq[s.baseType]||zN;return a(i,s,o)},t}(Di);var KN="duration",sa="properties";var Ti="requestUrl",Of="inst",aa="length",So="traceID",rs="spanID",Zr="traceFlags",kf="context",Nc="aborted",Ff="traceId",Lf="spanId",Og="_addHook",Ki="core",yD="includeCorrelationHeaders",kg="getAbsoluteUrl",Ac="headers",Jr="requestHeaders",ED="setRequestHeader",XN="trackDependencyDataInternal",ca="startTime",ml="toLowerCase",DD="enableRequestHeaderTracking",ZN="enableAjaxErrorStatusText",JN="enableAjaxPerfTracking",QN="maxAjaxCallsPerView",eA="excludeRequestFromAutoTrackingPatterns",tA="addRequestContext",ID="disableAjaxTracking",nA="ajaxPerfLookupDelay",rA="disableFetchTracking",iA="enableResponseHeaderTracking",Ci="status",ua="statusText",xc="headerMap",Fg="openDone",Lg="sendDone",la="requestSentTime",Ug="abortDone",Vg="getTraceId",jg="getTraceFlags",is="method",Bg="errorStatusText",SD="stateChangeAttached",oA="responseText",vl="responseFinishedTime",Hg="CreateTrackItem",TD="response",sA="getAllResponseHeaders",Yg="getPartAProps",Uf="perfMark",Rc="name",$g="perfTiming",Vf="exception",aA="ajaxDiagnosticsMessage",Gg="correlationContext",CD="ajaxTotalDuration",bD="eventTraceCtx";function ZU(e,t,n){var r=0,i=e[t],o=e[n];return i&&o&&(r=On(i,o)),r}function _l(e,t,n,r,i){var o=0,s=ZU(n,r,i);return s&&(o=Mc(e,t,Ii(s))),o}function Mc(e,t,n){var r="ajaxPerf",i=0;if(e&&t&&n){var o=e[r]=e[r]||{};o[t]=n,i=1}return i}function Wq(e,t){var n=e[$g],r=t[sa]||{},i=0,o="name",s="Start",a="End",c="domainLookup",u="connect",l="redirect",d="request",p="response",f="startTime",h=c+s,g=c+a,m=u+s,_=u+a,E=d+s,w=d+a,R=p+s,U=p+a,X=l+s,x=l=a,J="transferSize",I="encodedBodySize",j="decodedBodySize",Z="serverTiming";if(n){i|=_l(r,l,n,X,x),i|=_l(r,c,n,h,g),i|=_l(r,u,n,m,_),i|=_l(r,d,n,E,w),i|=_l(r,p,n,R,U),i|=_l(r,"networkConnect",n,f,_),i|=_l(r,"sentRequest",n,E,U);var Ee=n[KN];Ee||(Ee=ZU(n,f,U)||0),i|=Mc(r,KN,Ee),i|=Mc(r,"perfTotal",Ee);var ue=n[Z];if(ue){var y={};q(ue,function(C,G){var P=Lu(C[o]||""+G),A=y[P]||{};Te(C,function(ve,xe){(ve!==o&&fe(xe)||fo(xe))&&(A[ve]&&(xe=A[ve]+";"+xe),(xe||!fe(xe))&&(A[ve]=xe))}),y[P]=A}),i|=Mc(r,Z,y)}i|=Mc(r,J,n[J]),i|=Mc(r,I,n[I]),i|=Mc(r,j,n[j])}else e[Uf]&&(i|=Mc(r,"missing",e.perfAttempts));i&&(t[sa]=r)}var qq=function(){function e(){var t=this;t[Fg]=!1,t.setRequestHeaderDone=!1,t[Lg]=!1,t[Ug]=!1,t[SD]=!1}return e}();var cA=function(){function e(t,n,r,i){var o,s=this,a=r,c="responseText";s[Uf]=null,s.completed=!1,s.requestHeadersSize=null,s[Jr]=null,s.responseReceivingDuration=null,s.callbackDuration=null,s[CD]=null,s[Nc]=0,s.pageUrl=null,s[Ti]=null,s.requestSize=0,s[is]=null,s[Ci]=null,s[la]=null,s.responseStartedTime=null,s[vl]=null,s.callbackFinishedTime=null,s.endTime=null,s.xhrMonitoringState=new qq,s.clientFailure=0,s[So]=t,s[rs]=n,s[Zr]=i?.getTraceFlags(),i?s[bD]=(o={},o[Ff]=i[Vg](),o[Lf]=i.getSpanId(),o[Zr]=i[jg](),o):s[bD]=null,Oe(e,s,function(u){u.getAbsoluteUrl=function(){return u[Ti]?sN(u[Ti]):null},u.getPathName=function(){return u[Ti]?Ks(a,aN(u[is],u[Ti])):null},u[Hg]=function(l,d,p){var f;if(u.ajaxTotalDuration=Math.round(On(u.requestSentTime,u.responseFinishedTime)*1e3)/1e3,u[CD]<0)return null;var h=(f={id:"|"+u[So]+"."+u[rs],target:u[kg]()},f[Rc]=u.getPathName(),f.type=l,f[ca]=null,f.duration=u[CD],f.success=+u[Ci]>=200&&+u[Ci]<400,f.responseCode=+u[Ci],f[sa]={HttpMethod:u[is]},f),g=h[sa];if(u[Nc]&&(g[Nc]=!0),u[la]&&(h[ca]=new Date,h[ca].setTime(u[la])),Wq(u,h),d&&cr(u.requestHeaders)[aa]>0&&(g[Jr]=u[Jr]),p){var m=p();if(m){var _=m[Gg];if(_&&(h.correlationContext=_),m[xc]&&cr(m.headerMap)[aa]>0&&(g.responseHeaders=m[xc]),u[Bg])if(u[Ci]>=400){var E=m.type;(E===""||E==="text")&&(g.responseText=m.responseText?m[ua]+" - "+m[c]:m[ua]),E==="json"&&(g.responseText=m.response?m[ua]+" - "+JSON.stringify(m[TD]):m[ua])}else u[Ci]===0&&(g.responseText=m[ua]||"")}}return h},u[Yg]=function(){var l,d=null,p=u[bD];if(p&&(p[Ff]||p[Lf])){d={};var f=d[pr.TraceExt]=(l={},l[So]=p[Ff],l.parentID=p[Lf],l);k(p[Zr])||(f[Zr]=p[Zr])}return d}})}return e.__ieDyn=1,e}();var rn;var qg="diagLog",Pc="_ajaxData",yl="fetch",zg="Failed to monitor XMLHttpRequest",iV=", monitoring data for this ajax call ",jf=iV+"may be incorrect.",JU=iV+"won't be sent.",QU="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",eV="Failed to add custom defined request context as configured call back may missing a null check.",tV="Failed to calculate the duration of the ",nV=0;function Kq(){var e=cn();return!e||k(e.Request)||k(e.Request[lr])||k(e[yl])?null:e[yl]}function Xq(e,t){var n,r,i=!1;if(Za()){var o=XMLHttpRequest[lr];i=!k(o)&&!k(o.open)&&!k(o.send)&&!k(o.abort)}var s=jh();if(s&&s<9&&(i=!1),i)try{var a=new XMLHttpRequest,c={xh:[],i:(n={},n[t]={},n)};a[Pc]=c;var u=XMLHttpRequest[lr].open;XMLHttpRequest[lr].open=u}catch(l){i=!1,Kg(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",(r={},r[Vf]=Q(l),r))}return i}var Hf=function(e,t){return e&&t&&e[Pc]?(e[Pc].i||{})[t]:null},Zq=function(e,t,n){if(e){var r=(e[Pc]||{}).xh;r&&r.push({n:t,v:n})}},uA=function(e,t){var n=!1;if(e){var r=(e[Pc]||{}).xh;r&&q(r,function(i){if(i.n===t)return n=!0,-1})}return n};function ND(e,t){var n="";try{var r=Hf(e,t);r&&r[Ti]&&(n+="(url: '"+r[Ti]+"')")}catch{}return n}function Kg(e,t,n,r,i){H(e[qg](),1,t,n,r,i)}function da(e,t,n,r,i){H(e[qg](),2,t,n,r,i)}function Wg(e,t,n){return function(r){var i;Kg(e,t,n,(i={ajaxDiagnosticsMessage:ND(r[Of],e._ajaxDataId)},i[Vf]=Q(r.err),i))}}function Bf(e,t){return e&&t?Wt(e,t):-1}function rV(e,t,n){var r={id:t,fn:n};return e.push(r),{remove:function(){q(e,function(i,o){if(i.id===r.id)return e.splice(o,1),-1})}}}function oV(e,t,n,r){var i=!0;return q(t,function(o,s){try{o.fn.call(null,n)===!1&&(i=!1)}catch(a){H(e&&e.logger,1,64,"Dependency "+r+" [#"+s+"] failed: "+qe(a),{exception:Q(a)},!0)}}),i}function Jq(e,t,n,r,i,o){var s,a=e[aa];if(a>0){var c=(s={},s[Ki]=t,s.xhr=r,s.input=i,s.init=o,s.traceId=n[So],s.spanId=n[rs],s.traceFlags=n[Zr],s.context=n[kf]||{},s.aborted=!!n[Nc],s);oV(t,e,c,"listener"),n[So]=c[Ff],n[rs]=c[Lf],n[Zr]=c[Zr],n[kf]=c[kf]}}var wD="*.blob.core.",sV=ur([wD+"windows.net",wD+"chinacloudapi.cn",wD+"cloudapi.de",wD+"usgovcloudapi.net"]),Qq=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],e9=ur((rn={},rn[QN]=500,rn[ID]=!1,rn[rA]=!1,rn[eA]=void 0,rn.disableCorrelationHeaders=!1,rn.distributedTracingMode=1,rn.correlationHeaderExcludedDomains=sV,rn.correlationHeaderDomains=void 0,rn.correlationHeaderExcludePatterns=void 0,rn.appId=void 0,rn.enableCorsCorrelation=!1,rn[DD]=!1,rn[iA]=!1,rn[ZN]=!1,rn[JN]=!1,rn.maxAjaxPerfLookupAttempts=3,rn[nA]=25,rn.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],rn[tA]=void 0,rn.addIntEndpoints=!0,rn)),lA=function(e){Un(t,e);function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,o,s,a,c,u,l,d,p,f,h,g,m,_,E,w,R,U,X,x,J,I,j,Z,Ee,ue,y,C,G;return Oe(t,n,function(P,A){var ve=A[Og];xe(),P.initialize=function(b,F,z,B){P.isInitialized()||(A.initialize(b,F,z,B),X=Rr(nn("ajax"),F&&F.evtNamespace&&F.evtNamespace()),Y(b),ie(),O(),ne())},P._doTeardown=function(){xe()},P.trackDependencyData=function(b,F){gt(j,P[Ki],null,b,F)},P[yD]=function(b,F,z,B){var ee=P._currentWindowHost||o;if(Jq(I,P[Ki],b,B,F,z),F||F===""){if(FE(s,b[kg](),ee)){z||(z={});var ye=new Headers(z[Ac]||(F instanceof Request?F[Ac]||{}:{}));if(p){var Ce="|"+b[So]+"."+b[rs];ye.set(mt[3],Ce),a&&(b[Jr][mt[3]]=Ce)}var Be=C||l&&l.appId();if(Be&&(ye.set(mt[0],mt[2]+Be),a&&(b[Jr][mt[0]]=mt[2]+Be)),d){var Me=b[Zr];k(Me)&&(Me=1);var it=Jh(Zh(b[So],b[rs],Me));ye.set(mt[4],it),a&&(b[Jr][mt[4]]=it)}z[Ac]=ye}return z}else if(B){if(FE(s,b[kg](),ee)){if(p)if(uA(B,mt[3]))da(P,71,"Unable to set ["+mt[3]+"] as it has already been set by another instance");else{var Ce="|"+b[So]+"."+b[rs];B[ED](mt[3],Ce),a&&(b[Jr][mt[3]]=Ce)}var Be=C||l&&l.appId();if(Be&&(uA(B,mt[0])?da(P,71,"Unable to set ["+mt[0]+"] as it has already been set by another instance"):(B[ED](mt[0],mt[2]+Be),a&&(b[Jr][mt[0]]=mt[2]+Be))),d){var Me=b[Zr];if(k(Me)&&(Me=1),uA(B,mt[4]))da(P,71,"Unable to set ["+mt[4]+"] as it has already been set by another instance");else{var it=Jh(Zh(b[So],b[rs],Me));B[ED](mt[4],it),a&&(b[Jr][mt[4]]=it)}}}return B}},P[XN]=function(b,F,z){if(g===-1||u<g){(y===2||y===1)&&typeof b.id=="string"&&b.id[b.id[aa]-1]!=="."&&(b.id+="."),k(b[ca])&&(b[ca]=new Date);var B=zi(b,Gi.dataType,Gi.envelopeType,P[qg](),F,z);P[Ki].track(B)}else u===g&&Kg(P,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++u},P.addDependencyListener=function(b){return rV(I,J++,b)},P.addDependencyInitializer=function(b){return rV(j,J++,b)};function xe(){var b=Zn();r=!1,i=!1,G=!1,o=b&&b.host&&b.host[ml](),s=null,a=!1,c=!1,u=0,l=null,d=!1,p=!1,f=null,h=!1,g=0,m=!1,_={},E=!1,w=!1,R=null,U=null,X=null,J=0,I=[],j=[],x=nn("ajaxData"),P._ajaxDataId=x,Z=null,Ee=1,ue=1,y=1,C=null}function Y(b){P[Og](ct(b,function(F){var z=F.cfg,B=Sn(null,z,P[Ki]);s=B.getExtCfg(t.identifier,e9),y=s.distributedTracingMode,a=s[DD],c=s[ZN],h=s[JN],g=s[QN],R=[].concat(s[eA]||[],s.addIntEndpoints!==!1?Qq:[]),U=s[tA],p=y===0||y===1,d=y===1||y===2,h&&(f=x),E=!!s[ID],Ee=s.maxAjaxPerfLookupAttempts,ue=s[nA],Z=s.ignoreHeaders,C=s.appId}))}function ne(){var b=P[Ki].getPlugin(gc);b&&(l=b.plugin[kf])}function v(b){var F=!0;return(b||Z)&&q(Z,function(z){if(z[ml]()===b[ml]())return F=!1,-1}),F}function O(){var b=Kq();if(b){var F=cn(),z=b.polyfill;P[Og](ct(s,function(){w=!!s[rA],m=s[iA],!w&&!r?(ve(ng(F,yl,{ns:X,req:function(B,ee,ye){var Ce;if(!w&&r&&!De(null,ee,ye)&&!(z&&i)){var Be=B.ctx();Ce=ce(ee,ye);var Me=P[yD](Ce,ee,ye);Me!==ye&&B.set(1,Me),Be.data=Ce}},rsp:function(B,ee){if(!w){var ye=B.ctx().data;ye&&(B.rslt=B.rslt.then(function(Ce){return _e(B,(Ce||{})[Ci],ee,Ce,ye,function(){var Be,Me=(Be={statusText:(Ce||{})[ua]},Be[xc]=null,Be[Gg]=Re(Ce),Be);if(m&&Ce){var it={};Ce.headers.forEach(function(vt,Kt){v(Kt)&&(it[Kt]=vt)}),Me[xc]=it}return Me}),Ce}).catch(function(Ce){throw _e(B,0,ee,null,ye,null,{error:Ce.message||Q(Ce)}),Ce}))}},hkErr:Wg(P,15,"Failed to monitor Window.fetch"+jf)},!0,_y())),r=!0):z&&!G&&(ve(ng(F,yl,{ns:X,req:function(B,ee,ye){De(null,ee,ye)}})),G=!0)})),z&&(F[yl].polyfill=z)}}function V(b,F,z){ve(Jw(b,F,z))}function ie(){Xq(P,x)&&P[Og](ct(s,function(){E=!!s[ID],a=s[DD],!E&&!i&&(V(XMLHttpRequest,"open",{ns:X,req:function(b,F,z,B){if(!E){var ee=b[Of],ye=Hf(ee,x);!De(ee,z)&&Ze(ee,ye,!0)&&((!ye||!ye.xhrMonitoringState[Fg])&&(ye=ut(ee,F,z,B)),jt(ee,ye))}},hkErr:Wg(P,15,zg+".open"+jf)}),V(XMLHttpRequest,"send",{ns:X,req:function(b,F){if(!E){var z=b[Of],B=Hf(z,x);Ze(z,B)&&!B.xhrMonitoringState[Lg]&&(Hn("xhr",B),B[la]=ff(),P[yD](B,void 0,void 0,z),B.xhrMonitoringState[Lg]=!0)}},hkErr:Wg(P,17,zg+jf)}),V(XMLHttpRequest,"abort",{ns:X,req:function(b){if(!E){var F=b[Of],z=Hf(F,x);Ze(F,z)&&!z.xhrMonitoringState[Ug]&&(z[Nc]=1,z.xhrMonitoringState[Ug]=!0)}},hkErr:Wg(P,13,zg+".abort"+jf)}),V(XMLHttpRequest,"setRequestHeader",{ns:X,req:function(b,F,z){if(!E){var B=b[Of],ee=Hf(B,x);ee&&Ze(B,ee)&&(Zq(B,F,z),a&&v(F)&&ee&&(ee[Jr][F]=z))}},hkErr:Wg(P,71,zg+".setRequestHeader"+jf)}),i=!0)}))}function De(b,F,z){var B=!1,ee=((fe(F)?F:(F||{}).url||"")||"")[ml]();if(q(R,function(Be){var Me=Be;fe(Be)&&(Me=new RegExp(Be)),B||(B=Me.test(ee))}),B)return B;var ye=Bf(ee,"?"),Ce=Bf(ee,"#");return(ye===-1||Ce!==-1&&Ce<ye)&&(ye=Ce),ye!==-1&&(ee=ee.substring(0,ye)),k(b)?k(F)||(B=(typeof F=="object"?F[cf]===!0:!1)||(z?z[cf]===!0:!1)):B=b[cf]===!0||ee[cf]===!0,!B&&ee&&df(ee)&&(B=!0),B?_[ee]||(_[ee]=1):_[ee]&&(B=!0),B}function Ze(b,F,z){var B=!0,ee=i;return k(b)||(B=z===!0||!k(F)),ee&&B}function Je(){var b=null;return P[Ki]&&P[Ki].getTraceCtx&&(b=P[Ki].getTraceCtx(!1)),!b&&l&&l.telemetryTrace&&(b=rl(l.telemetryTrace)),b}function ut(b,F,z,B){var ee,ye=Je(),Ce=ye&&ye[Vg]()||Ei(),Be=ho(Ei(),0,16),Me=b[Pc]=b[Pc]||{xh:[],i:{}},it=Me.i=Me.i||{},vt=it[x]=it[x]||new cA(Ce,Be,P[qg](),(ee=P.core)===null||ee===void 0?void 0:ee.getTraceCtx());return vt[Zr]=ye&&ye[jg](),vt[is]=F,vt[Ti]=z,vt.xhrMonitoringState[Fg]=!0,vt[Jr]={},vt.async=B,vt[Bg]=c,vt}function jt(b,F){F.xhrMonitoringState[SD]=qr(b,"readystatechange",function(){var z;try{b&&b.readyState===4&&Ze(b,F)&&xt(b)}catch(ee){var B=Q(ee);(!B||Bf(B[ml](),"c00c023f")===-1)&&Kg(P,16,zg+" 'readystatechange' event handler"+jf,(z={},z[aA]=ND(b,x),z[Vf]=B,z))}},X)}function Qr(b){try{var F=b.responseType;if(F===""||F==="text")return b[oA]}catch{}return null}function xt(b){var F=Hf(b,x);F[vl]=ff(),F[Ci]=b[Ci];function z(B,ee){var ye=ee||{};ye.ajaxDiagnosticsMessage=ND(b,x),B&&(ye.exception=Q(B)),da(P,14,tV+"ajax call"+JU,ye)}L("xmlhttprequest",F,function(){try{var B=F[Hg]("Ajax",a,function(){var Me,it=(Me={statusText:b[ua]},Me[xc]=null,Me[Gg]=Bn(b),Me.type=b.responseType,Me[oA]=Qr(b),Me.response=b[TD],Me);if(m){var vt=b[sA]();if(vt){var Kt=pt(vt).split(/[\r\n]+/),Ni={};q(Kt,function(ei){var mr=ei.split(": "),Wc=mr.shift(),S=mr.join(": ");v(Wc)&&(Ni[Wc]=S)}),it[xc]=Ni}}return it}),ee=void 0;try{U&&(ee=U({status:b[Ci],xhr:b}))}catch{da(P,104,eV)}if(B){ee!==void 0&&(B[sa]=ln(ln({},B.properties),ee));var ye=F[Yg]();gt(j,P[Ki],F,B,null,ye)}else z(null,{requestSentTime:F[la],responseFinishedTime:F[vl]})}finally{try{var Ce=b[Pc]||{i:{}},Be=Ce.i||{};Be[x]&&(Be[x]=null)}catch{}}},function(B){z(B,null)})}function Bn(b){var F;try{var z=b[sA]();if(z!==null){var B=Bf(z[ml](),mt[8]);if(B!==-1){var ee=b.getResponseHeader(mt[0]);return LE(ee)}}}catch(ye){da(P,18,QU,(F={},F[aA]=ND(b,x),F[Vf]=Q(ye),F))}}function Hn(b,F){if(F[Ti]&&f&&h){var z=wr();if(z&&me(z.mark)){nV++;var B=f+b+"#"+nV;z.mark(B);var ee=z.getEntriesByName(B);ee&&ee[aa]===1&&(F[Uf]=ee[0])}}}function L(b,F,z,B){var ee=F[Uf],ye=wr(),Ce=Ee,Be=ue,Me=F[Ti],it=0;(function vt(){try{if(ye&&ee){it++;for(var Kt=null,Ni=ye.getEntries(),ei=Ni[aa]-1;ei>=0;ei--){var mr=Ni[ei];if(mr){if(mr.entryType==="resource")mr.initiatorType===b&&(Bf(mr[Rc],Me)!==-1||Bf(Me,mr[Rc])!==-1)&&(Kt=mr);else if(mr.entryType==="mark"&&mr[Rc]===ee[Rc]){F[$g]=Kt;break}if(mr[ca]<ee[ca]-1e3)break}}}!ee||F[$g]||it>=Ce||F.async===!1?(ee&&me(ye.clearMarks)&&ye.clearMarks(ee[Rc]),F.perfAttempts=it,z()):un(vt,Be)}catch(Wc){B(Wc)}})()}function ce(b,F){var z,B=Je(),ee=B&&B[Vg]()||Ei(),ye=ho(Ei(),0,16),Ce=new cA(ee,ye,P[qg](),(z=P.core)===null||z===void 0?void 0:z.getTraceCtx());Ce[Zr]=B&&B[jg](),Ce[la]=ff(),Ce[Bg]=c;var Be;if(b instanceof Request?Be=(b||{}).url||"":Be=b,Be===""){var Me=Zn();Me&&Me.href&&(Be=yb(Me.href,"#")[0])}Ce[Ti]=Be;var it="GET";F&&F[is]?it=F[is]:b&&b instanceof Request&&(it=b[is]),Ce[is]=it;var vt={};if(a){var Kt=new Headers((F?F[Ac]:0)||(b instanceof Request?b[Ac]||{}:{}));Kt.forEach(function(Ni,ei){v(ei)&&(vt[ei]=Ni)})}return Ce[Jr]=vt,Hn(yl,Ce),Ce}function Ne(b){var F="";try{k(b)||(typeof b=="string"?F+="(url: '".concat(b,"')"):F+="(url: '".concat(b.url,"')"))}catch(z){Kg(P,15,"Failed to grab failed fetch diagnostics message",{exception:Q(z)})}return F}function _e(b,F,z,B,ee,ye,Ce){if(!ee)return;function Be(Me,it,vt){var Kt=vt||{};Kt.fetchDiagnosticsMessage=Ne(z),it&&(Kt.exception=Q(it)),da(P,Me,tV+"fetch call"+JU,Kt)}ee[vl]=ff(),ee[Ci]=F,L(yl,ee,function(){var Me=ee[Hg]("Fetch",a,ye),it;try{U&&(it=U({status:F,request:z,response:B}))}catch{da(P,104,eV)}if(Me){it!==void 0&&(Me[sa]=ln(ln({},Me.properties),it));var vt=ee[Yg]();gt(j,P[Ki],ee,Me,null,vt)}else Be(14,null,{requestSentTime:ee[la],responseFinishedTime:ee[vl]})},function(Me){Be(18,Me,null)})}function Re(b){var F;if(b&&b[Ac])try{var z=b[Ac].get(mt[0]);return LE(z)}catch(B){da(P,18,QU,(F={fetchDiagnosticsMessage:Ne(b)},F[Vf]=Q(B),F))}}function gt(b,F,z,B,ee,ye){var Ce,Be=!0,Me=b[aa];if(Me>0){var it=(Ce={item:B},Ce[sa]=ee,Ce.sysProperties=ye,Ce.context=z?z[kf]:null,Ce.aborted=z?!!z[Nc]:!1,Ce);Be=oV(F,b,it,"initializer")}Be&&P[XN](B,ee,ye)}}),n}return t.prototype.processTelemetry=function(n,r){this.processNext(n,r)},t.prototype.addDependencyInitializer=function(n){return null},t.identifier="AjaxDependencyPlugin",t}(Di);var aV=function(){function e(){}return e}();var cV=function(){function e(){this.id="browser",this.deviceClass="Browser"}return e}();var t9="3.3.5",uV=function(){function e(t,n){var r=this,i=ct(t,function(){var o=t.sdkExtension;r.sdkVersion=(o?o+"_":"")+"javascript:"+t9});n&&n.add(i)}return e}();var lV=function(){function e(){}return e}();var Yf="sessionManager",El="update",$f="isUserCookieSet",Gf="isNewUser",AD="getTraceCtx",Xg="telemetryTrace",xD="applySessionContext",RD="applyApplicationContext",MD="applyDeviceContext",PD="applyOperationContext",OD="applyUserContext",kD="applyOperatingSystemContxt",FD="applyLocationContext",LD="applyInternalContext",os="accountId",zf="getSessionId",Wf="namePrefix",dV="sessionCookiePostfix",UD="userCookiePostfix",Dl="idLength",qf="getNewId",Il="length",Oc="automaticSession",kc="authenticatedId",Kf="acquisitionDate",Zg="renewalDate",Sl="join",Xf="cookieSeparator",VD="authUserCookieName";var n9="ai_session",r9=864e5,i9=18e5,o9=6e4,dA=function(){function e(){}return e}();var fV=function(){function e(t,n,r){var i=this,o,s,a=xr(n),c=Gu(n),u,l;Oe(e,i,function(d){t||(t={});var p=ct(t,function(E){u=t.sessionExpirationMs||r9,l=t.sessionRenewalMs||i9;var w=t.sessionCookiePostfix||t[Wf]||"";o=n9+w});r&&r.add(p),d[Oc]=new dA,d[El]=function(){var E=xn(),w=!1,R=d[Oc];if(R.id||(w=!f(R,E)),!w&&u>0){var U=E-R[Kf],X=E-R[Zg];w=U<0||X<0,w=w||U>u,w=w||X>l}w?g(E):(!s||E-s>o9)&&m(R,E)},d.backup=function(){var E=d[Oc];_(E.id,E[Kf],E[Zg])};function f(E,w){var R=!1,U=c.get(o);if(U&&me(U.split))R=h(E,U);else{var X=lg(a,o);X&&(R=h(E,X))}return R||!!E.id}function h(E,w){var R=!1,U=", session will be reset",X=w.split("|");if(X[Il]>=2)try{var x=+X[1]||0,J=+X[2]||0;isNaN(x)||x<=0?H(a,2,27,"AI session acquisition date is 0"+U):isNaN(J)||J<=0?H(a,2,27,"AI session renewal date is 0"+U):X[0]&&(E.id=X[0],E[Kf]=x,E[Zg]=J,R=!0)}catch(I){H(a,1,9,"Error parsing ai_session value ["+(w||"")+"]"+U+" - "+qe(I),{exception:Q(I)})}return R}function g(E){var w=t[qf]||Hu;d.automaticSession.id=w(t[Dl]||22),d[Oc][Kf]=E,m(d[Oc],E),ol()||H(a,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}function m(E,w){var R=E[Kf];E[Zg]=w;var U=l,X=R+u-w,x=[E.id,R,w],J=0;X<U?J=X/1e3:J=U/1e3;var I=t.cookieDomain||null;c.set(o,x[Sl]("|"),u>0?J:null,I),s=w}function _(E,w,R){dg(a,o,[E,w,R][Sl]("|"))}})}return e.__ieDyn=1,e}();var pV=function(){function e(t,n,r,i){var o=this;o.traceID=t||Ei(),o.parentID=n;var s=Zn();!r&&s&&s.pathname&&(r=s.pathname),o.name=ht(i,r)}return e}();function hV(e){return!(typeof e!="string"||!e||e.match(/,|;|=| |\|/))}var gV=function(){function e(t,n,r){this.isNewUser=!1,this.isUserCookieSet=!1;var i=xr(n),o=Gu(n),s;Oe(e,this,function(a){ke(a,"config",{g:function(){return t}});var c=ct(t,function(){var p=t[UD]||"";s=e.userCookieName+p;var f=o.get(s);if(f){a[Gf]=!1;var h=f.split(e[Xf]);h[Il]>0&&(a.id=h[0],a[$f]=!!a.id)}if(!a.id){a.id=u();var g=l(a.id);d(g[Sl](e[Xf]));var m=(t[Wf]||"")+"ai_session";fN(i,m)}a[os]=t[os]||void 0;var _=o.get(e[VD]);if(_){_=decodeURI(_);var E=_.split(e[Xf]);E[0]&&(a[kc]=E[0]),E[Il]>1&&E[1]&&(a[os]=E[1])}});r&&r.add(c);function u(){var p=t||{},f=p[qf]||Hu,h=f(p[Dl]?t[Dl]:22);return h}function l(p){var f=Bi(new Date);a.accountAcquisitionDate=f,a[Gf]=!0;var h=[p,f];return h}function d(p){var f=31536e3;a[$f]=o.set(s,p,f)}a.setAuthenticatedUserContext=function(p,f,h){h===void 0&&(h=!1);var g=!hV(p)||f&&!hV(f);if(g){H(i,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}a[kc]=p;var m=a[kc];f&&(a[os]=f,m=[a[kc],a.accountId][Sl](e[Xf])),h&&o.set(e[VD],encodeURI(m))},a.clearAuthenticatedUserContext=function(){a[kc]=null,a[os]=null,o.del(e[VD])},a[El]=function(p){if(a.id!==p||!a[$f]){var f=p||u(),h=l(f);d(h[Sl](e[Xf]))}}})}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}();var jD="ext",BD="tags";function Zf(e,t){e&&e[t]&&cr(e[t])[Il]===0&&delete e[t]}function mV(){return null}var vV=function(){function e(t,n,r,i){var o=this,s=t.logger;Oe(e,this,function(a){if(a.appId=mV,a[zf]=mV,a.application=new aV,a.internal=new uV(n,i),ja()){a[Yf]=new fV(n,t,i),a.device=new cV,a.location=new lV,a.user=new gV(n,t,i);var c=void 0,u=void 0,l;r&&(c=r.getTraceId(),u=r.getSpanId(),l=r.getName()),a[Xg]=new pV(c,u,l,s),a.session=new dA}a[zf]=function(){var d=a.session,p=null;if(d&&fe(d.id))p=d.id;else{var f=(a[Yf]||{})[Oc];p=f&&fe(f.id)?f.id:null}return p},a[xD]=function(d,p){Et(Pn(d.ext,pr.AppExt),"sesId",a[zf](),fe)},a[kD]=function(d,p){Et(d.ext,pr.OSExt,a.os)},a[RD]=function(d,p){var f=a.application;if(f){var h=Pn(d,BD);Et(h,Ct.applicationVersion,f.ver,fe),Et(h,Ct.applicationBuild,f.build,fe)}},a[MD]=function(d,p){var f=a.device;if(f){var h=Pn(Pn(d,jD),pr.DeviceExt);Et(h,"localId",f.id,fe),Et(h,"ip",f.ip,fe),Et(h,"model",f.model,fe),Et(h,"deviceClass",f.deviceClass,fe)}},a[LD]=function(d,p){var f=a.internal;if(f){var h=Pn(d,BD);Et(h,Ct.internalAgentVersion,f.agentVersion,fe),Et(h,Ct.internalSdkVersion,ht(s,f.sdkVersion,64),fe),(d.baseType===$s.dataType||d.baseType===Kr.dataType)&&(Et(h,Ct.internalSnippet,f.snippetVer,fe),Et(h,Ct.internalSdkSrc,f.sdkSrc,fe))}},a[FD]=function(d,p){var f=o.location;f&&Et(Pn(d,BD,[]),Ct.locationIp,f.ip,fe)},a[PD]=function(d,p){var f=a[Xg];if(f){var h=Pn(Pn(d,jD),pr.TraceExt,{traceID:void 0,parentID:void 0});Et(h,"traceID",f.traceID,fe,k),Et(h,"name",f.name,fe,k),Et(h,"parentID",f.parentID,fe,k)}},a.applyWebContext=function(d,p){var f=o.web;f&&Et(Pn(d,jD),pr.WebExt,f)},a[OD]=function(d,p){var f=a.user;if(f){var h=Pn(d,BD,[]);Et(h,Ct.userAccountId,f[os],fe);var g=Pn(Pn(d,jD),pr.UserExt);Et(g,"id",f.id,fe),Et(g,"authId",f[kc],fe)}},a.cleanUp=function(d,p){var f=d.ext;f&&(Zf(f,pr.DeviceExt),Zf(f,pr.UserExt),Zf(f,pr.WebExt),Zf(f,pr.OSExt),Zf(f,pr.AppExt),Zf(f,pr.TraceExt))}})}return e.__ieDyn=1,e}();var hr,fA,Jf=null,s9=fi((hr={},hr[os]=Jf,hr.sessionRenewalMs=30*60*1e3,hr.samplingPercentage=100,hr.sessionExpirationMs=24*60*60*1e3,hr.cookieDomain=Jf,hr.sdkExtension=Jf,hr.isBrowserLinkTrackingEnabled=!1,hr.appId=Jf,hr[zf]=Jf,hr[Wf]=fA,hr[dV]=fA,hr[UD]=fA,hr[Dl]=22,hr[qf]=Jf,hr)),a9=function(e){Un(t,e);function t(){var n=e.call(this)||this;n.priority=110,n.identifier=gc;var r,i,o,s,a;return Oe(t,n,function(c,u){l(),ke(c,"context",{g:function(){return s}}),c.initialize=function(f,h,g,m){u.initialize(f,h,g,m),d(f)},c.processTelemetry=function(f,h){if(!k(f)){h=c._getTelCtx(h),f.name===Kr.envelopeType&&h.diagLog().resetInternalMessageCount();var g=s||{};g.session&&typeof s.session.id!="string"&&g[Yf]&&g[Yf][El]();var m=g.user;if(m&&!m[$f]&&m[El](g.user.id),p(f,h),m&&m[Gf]&&(m[Gf]=!1,!a)){var _=new $s(72,(Kn()||{}).userAgent||"");Iw(h.diagLog(),1,_)}c.processNext(f,h)}},c._doTeardown=function(f,h){var g=(f||{}).core();if(g&&g[AD]){var m=g[AD](!1);m===i&&g.setTraceCtx(o)}l()};function l(){r=null,i=null,o=null,s=null,a=!0}function d(f){var h=c.identifier,g=c.core;c._addHook(ct(f,function(){var m=Sn(null,f,g);f.storagePrefix&&il(f.storagePrefix),a=f.disableUserInitMessage!==!1,r=m.getExtCfg(h,s9),c._extConfig=r})),o=g[AD](!1),s=new vV(g,r,o,c._unloadHooks),i=rl(c.context[Xg],o),g.setTraceCtx(i),c.context.appId=function(){var m=g.getPlugin(HE);return m?m.plugin._appId:null}}function p(f,h){Pn(f,"tags",[]),Pn(f,"ext",{});var g=c.context;g[xD](f,h),g[RD](f,h),g[MD](f,h),g[PD](f,h),g[OD](f,h),g[kD](f,h),g.applyWebContext(f,h),g[FD](f,h),g[LD](f,h),g.cleanUp(f,h)}}),n}return t.__ieDyn=1,t}(Di),pA=a9;var _V="AuthenticatedUserContext",Qf="track";var HD="snippet",yV="getCookieMgr",EV="startTrackPage",DV="stopTrackPage",YD="flush",IV="startTrackEvent",SV="stopTrackEvent",hA="addTelemetryInitializer",Pve=hA+"s",gA="pollInternalLogs",$D="getPlugin",GD="evtNamespace",TV=Qf+"Event",CV=Qf+"Trace",bV=Qf+"Metric",wV=Qf+"PageView",NV=Qf+"Exception",AV=Qf+"DependencyData",xV="set"+_V,RV="clear"+_V,MV="https://js.monitor.azure.com/scripts/b/ai.config.1.cfg.json";var zD="version",Fc="queue",Jg="connectionString",ep="instrumentationKey",mA="instrumentationkey",Tl="userOverrideEndpointUrl",Qg="endpointUrl",vA="ingestionendpoint",tp="onunloadFlush",bi="context",_A="addHousekeepingBeforeUnload",WD="sendMessage",PV="updateSnippetDefinitions";var ss,em,np,yA,tm,OV=[HD,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],kV="iKeyUsage",FV="CdnUsage",LV="SdkLoaderVer",qD=void 0,c9={samplingRate:100,maxSendNumber:1},u9={monthInterval:3,daysOfMonth:[28]},KD={disabled:!0,limit:Ar(c9),interval:Ar(u9)},l9=(ss={},ss[Jg]=qD,ss[Qg]=qD,ss[ep]=qD,ss[Tl]=qD,ss.diagnosticLogInterval=Qa(d9,1e4),ss.featureOptIn=(em={},em[kV]={mode:3},em[FV]={mode:2},em[LV]={mode:2},em),ss.throttleMgrCfg=Ar((np={},np[109]=Ar(KD),np[106]=Ar(KD),np[111]=Ar(KD),np[110]=Ar(KD),np)),ss.extensionConfig=Ar((yA={},yA.AppInsightsCfgSyncPlugin=Ar({cfgUrl:MV,syncMode:2}),yA)),ss);function d9(e){return e&&e>0}var EA=function(){function e(t){var n=this,r,i,o,s,a,c,u,l,d,p,f,h,g,m;Oe(e,this,function(_){R(),ke(_,"config",{g:function(){return l}}),q(["pluginVersionStringArr","pluginVersionString"],function(x){ke(_,x,{g:function(){return u?u[x]:null}})}),s=""+(t.sv||t[zD]||""),t[Fc]=t[Fc]||[],t[zD]=t[zD]||2;var E=In(t.config||{},l9);l=E.cfg,d=new rD,ke(_,"appInsights",{g:function(){return d}}),i=new pA,r=new lA,o=new qN,u=new jw,ke(_,"core",{g:function(){return u}}),X(ct(E,function(){var x=l[Jg];function J(){return qd(function(ue,y){Nr(x,function(C){var G=C&&C.value,P=null;!C.rejected&&G&&(l[Jg]=G,P=VE(G)),ue(P)})})}if(di(x)){var I=qd(function(ue,y){J().then(function(C){var G=l[ep];G=C&&C[mA]||G,ue(G)}).catch(function(C){ue(null)})}),j=l[Tl];k(j)&&(j=qd(function(ue,y){J().then(function(C){var G=l[Qg],P=C&&C[vA];G=P?P+Xo:G,ue(G)}).catch(function(C){ue(null)})})),l[ep]=I,l[Qg]=j}if(fe(x)&&x){var Z=VE(x),Ee=Z[vA];l.endpointUrl=l[Tl]?l[Tl]:Ee+Xo,l[ep]=Z[mA]||l[ep]}l.endpointUrl=l[Tl]?l[Tl]:l[Qg]})),_[HD]=t,_[YD]=function(x,J){x===void 0&&(x=!0);var I;return nc(u,function(){return"AISKU.flush"},function(){x&&!J&&(I=vi(function(Ee){J=Ee}));var j=1,Z=function(){j--,j===0&&J()};q(u.getChannels(),function(Ee){Ee&&(j++,Ee[YD](x,Z))}),Z()},null,x),I},_[tp]=function(x){x===void 0&&(x=!0),q(u.getChannels(),function(J){J[tp]?J[tp]():J[YD](x)})},_.loadAppInsights=function(x,J,I){x===void 0&&(x=!1),x&&dF("Legacy Mode is no longer supported");function j(Z){if(Z){var Ee="";k(s)||(Ee+=s),_[bi]&&_[bi].internal&&(_[bi].internal.snippetVer=Ee||"-"),Te(_,function(ue,y){fe(ue)&&!me(y)&&ue&&ue[0]!=="_"&&Nt(OV,ue)===-1&&Z[ue]!==y&&(Z[ue]=y)})}}return nc(_.core,function(){return"AISKU.loadAppInsights"},function(){u.initialize(l,[o,i,r,d,p],J,I),ke(_,"context",{g:function(){return i[bi]}}),f||(f=new pN(u));var Z=f9();Z&&_[bi]&&(_[bi].internal.sdkSrc=Z),j(_[HD]),_.emptyQueue(),_[gA](),_[_A](_),X(ct(E,function(){var Ee=!1;l.throttleMgrCfg[109]&&(Ee=!l.throttleMgrCfg[109].disabled),!f.isReady()&&l.extensionConfig&&l.extensionConfig[p.identifier]&&Ee&&f.onReadyState(!0);var ue;!h&&!l[Jg]&&Lh(kV,l)&&(ue=f[WD](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),h=!0),!g&&_[bi].internal.sdkSrc&&_[bi].internal.sdkSrc.indexOf("az416426")!=-1&&Lh(FV,l)&&(ue=f[WD](110,"See Cdn support notice at aka.ms/JsActiveCdn"),g=!0),!m&&parseInt(s)<6&&Lh(LV,l)&&(ue=f[WD](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),m=!0)}))}),_},_[PV]=function(x){Qb(x,_,function(J){return J&&Nt(OV,J)===-1})},_.emptyQueue=function(){try{if(Se(_.snippet[Fc])){for(var x=_.snippet[Fc].length,J=0;J<x;J++){var I=_.snippet[Fc][J];I()}_.snippet[Fc]=void 0,delete _.snippet[Fc]}}catch(Z){var j={};Z&&me(Z.toString)&&(j.exception=Z.toString())}},_[_A]=function(x){if(ja()||Ih()){var J=function(){if(x[tp](!1),me(_.core[$D])){var j=n.core[$D](gc);if(j){var Z=j.plugin;Z&&Z[bi]&&Z[bi]._sessionManager&&Z[bi]._sessionManager.backup()}}},I=!1;c||(c=Rr(a,u[GD]&&u[GD]())),X(ct(l,function(j){var Z=j.cfg,Ee=x.appInsights,ue=Sn(null,Z,Ee.core),y=ue.getExtCfg(Ee.identifier||YE);U();var C=Z.disablePageUnloadEvents;y.disableFlushOnBeforeUnload||(zw(J,C,c)&&(I=!0),tg(J,C,c)&&(I=!0),!I&&!lw()&&H(u.logger,1,19,"Could not add handler for beforeunload and pagehide")),!I&&!y.disableFlushOnUnload&&tg(J,C,c)}))}},_.getSender=function(){return o},_.unload=function(x,J,I){var j=!1,Z;x&&!J&&(Z=vi(function(ue){J=ue}));function Ee(ue){j||(j=!0,R(),J&&J(ue))}return _[tp](x),U(),u.unload&&u.unload(x,Ee,I),Z},Xa(_,d,[yV,TV,wV,"trackPageViewPerformance",NV,"_onerror",CV,bV,EV,DV,IV,SV]),Xa(_,w,[AV,"addDependencyListener","addDependencyInitializer"]),Xa(_,u,[hA,gA,"stopPollingInternalLogs",$D,"addPlugin",GD,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),Xa(_,function(){var x=i[bi];return x?x.user:null},[xV,RV]);function w(){return r}function R(){a=nn("AISKU"),c=null,r=null,i=null,o=null,s=null,f=null,h=!1,g=!1,m=!1,p=new ON}function U(){c&&(Ww(null,c),qw(null,c))}function X(x){u.addUnloadHook(x)}})}return e.prototype.addDependencyInitializer=function(t){return null},e}();function f9(){if(tm)return tm;var e=null,t=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(e=r.src)}catch{}if(e){try{var i=e.toLowerCase();if(i){var o="";q(n,function(s,a){if(Wt(i,s)!==-1)return o="cdn"+(a+1),Wt(i,"/scripts/")===-1&&(Wt(i,"/next/")!==-1?o+="-next":Wt(i,"/beta/")!==-1&&(o+="-beta")),tm=o+(t?".mod":""),-1})}}catch{}tm=e}return tm}var as=class e{constructor(t){this.router=t;this.appInsights=new EA({config:{connectionString:Fi.appInsightsConnectionString,enableAutoRouteTracking:!0,enableCorsCorrelation:!0,enableRequestHeaderTracking:!0,enableResponseHeaderTracking:!0}})}appInsights;init(){this.appInsights&&(this.appInsights.loadAppInsights(),this.appInsights.trackPageView(),this.router.events.pipe(hn(t=>t instanceof ih)).subscribe(t=>{let n=this.getActivatedComponent(t.state.root);n&&this.logPageView(`${n.name} ${this.getRouteTemplate(t.state.root)}`,t.urlAfterRedirects)}))}logPageView(t,n){this.appInsights.trackPageView({name:t,uri:n})}logException(t,n){this.appInsights.trackException({exception:t,severityLevel:n})}logTrace(t,n){this.appInsights.trackTrace({message:t,properties:n})}logEvent(t,n){this.appInsights.trackEvent({name:t,properties:n})}logMetric(t,n,r){this.appInsights.trackMetric({name:t,average:n,properties:r})}getActivatedComponent(t){return t.firstChild?this.getActivatedComponent(t.firstChild):t.component}getRouteTemplate(t){let n="";return t.routeConfig&&(n+=t.routeConfig.path),t.firstChild?n+this.getRouteTemplate(t.firstChild):n}static \u0275fac=function(n){return new(n||e)(se(zt))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};var Lc=class e{constructor(t,n){this.http=t;this.appInsights=n}apiUrl=Fi.apiUrl+"/api";familyState=new wt({familyId:null,isInitialized:!1});familyState$=this.familyState.asObservable();initializeFamily(t){let n=Date.now();return this.http.post(`${this.apiUrl}/family/initialize`,t).pipe(St(r=>{let i=Date.now()-n;this.appInsights.logMetric("FamilyInitializeTime",i,{success:!0,email:t.email}),this.appInsights.logEvent("FamilyInitialized",{familyId:r.familyId,email:t.email}),this.familyState.next({familyId:r.familyId,isInitialized:!0})}),Lt(r=>{throw this.logError("initializeFamily",r,{email:t.email}),r}))}getFamilyId(){return this.familyState.value.familyId}isInitialized(){return this.familyState.value.isInitialized}getFamilyDetails(t){return this.http.get(`${this.apiUrl}/family/${t}`).pipe(Lt(n=>{throw this.logError("getFamilyDetails",n,{familyId:t}),n}))}getFamilies(t){return this.http.get(`${this.apiUrl}/family/byEmail/${t}`).pipe(Lt(n=>{throw this.logError("getFamilies",n,{email:t}),n}))}getPendingInvites(t){return this.http.get(`${this.apiUrl}/family/invites/${t}`).pipe(Lt(n=>{throw this.logError("getPendingInvites",n,{email:t}),n}))}sendInvite(t,n,r){return this.http.post(`${this.apiUrl}/family/${t}/inviteMember`,{email:n,invitedBy:r}).pipe(St(()=>{this.appInsights.logEvent("FamilyInviteSent",{familyId:t,invitedEmail:n,invitedBy:r})}),Lt(i=>{throw this.logError("sendInvite",i,{familyId:t,email:n,invitedBy:r}),i}))}processInvite(t,n,r){return this.http.post(`${this.apiUrl}/family/invites/${t}/${n}/process`,{action:r}).pipe(St(()=>{this.appInsights.logEvent("FamilyInviteProcessed",{inviteId:t,invitedUserEmail:n,action:r})}),Lt(i=>{throw this.logError("processInvite",i,{inviteId:t,invitedUserEmail:n,action:r}),i}))}createFamily(t,n){return this.http.post(`${this.apiUrl}/family/create`,{familyName:t,email:n}).pipe(St(r=>{this.appInsights.logEvent("FamilyCreated",{familyId:r.id,familyName:t,createdBy:n})}),Lt(r=>{throw this.logError("createFamily",r,{familyName:t,email:n}),r}))}logError(t,n,r){let i=new Error(`FamilyService.${t} failed: ${n.message}`);n.stack&&(i.stack=n.stack),this.appInsights.logException(i,3),this.appInsights.logEvent("FamilyServiceError",te({method:t,statusCode:n.status,statusText:n.statusText,url:n.url||"Unknown URL",message:n.message},r)),this.appInsights.logTrace(`Error in ${t}`,te({errorDetails:n.message,statusCode:n.status},r))}static \u0275fac=function(n){return new(n||e)(se(si),se(as))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};var XD=class e{constructor(t,n){this.familyService=t;this.authService=n;this.initializeNotifications()}pendingInvitesCount=new wt(0);pendingInvites$=this.pendingInvitesCount.asObservable();initializeNotifications(){return D(this,null,function*(){this.authService.user$.subscribe(t=>{t?.email})})}refreshNotifications(){return D(this,null,function*(){this.authService.user$.subscribe(t=>{t?.email&&this.updatePendingInvites(t.email)})})}updatePendingInvites(t){this.familyService.getPendingInvites(t).subscribe({next:n=>{this.pendingInvitesCount.next(n.length)},error:n=>{console.error("Error fetching pending invites:",n)}})}static \u0275fac=function(n){return new(n||e)(se(Lc),se(It))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};function h9(e,t){if(e&1&&(T(0,"div",15),K(1),N()),e&2){let n=t.ngIf;An("hidden",n===0),$(),en(" ",n," ")}}var ZD=class e{constructor(t,n){this.router=t;this.notificationService=n}pendingInvites$;showUpdateNotification;ngOnInit(){this.pendingInvites$=this.notificationService.pendingInvites$}isActive(t){return this.router.url===t}handleUpdate(){window.location.reload()}handleHideNotification(){this.showUpdateNotification=!1}static \u0275fac=function(n){return new(n||e)(oe(zt),oe(XD))};static \u0275cmp=Ut({type:e,selectors:[["app-bottom-nav"]],decls:32,vars:44,consts:[[1,"fixed","bottom-0","left-0","w-full","bg-white"],[1,"max-w-md","mx-auto","px-4"],[1,"flex","justify-around","py-4"],[1,"flex","flex-1","flex-col","items-center","justify-end","gap-1","transition-all","duration-200","ease-in-out",3,"routerLink"],[1,"flex","h-12","items-center","justify-center","rounded-full","p-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 256 256",1,"transition-colors","duration-200"],["d","M218.83,103.77l-80-75.48a1.14,1.14,0,0,1-.11-.11,16,16,0,0,0-21.53,0l-.11.11L37.17,103.77A16,16,0,0,0,32,115.55V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V160h32v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V115.55A16,16,0,0,0,218.83,103.77ZM208,208H160V160a16,16,0,0,0-16-16H112a16,16,0,0,0-16,16v48H48V115.55l.11-.1L128,40l79.9,75.43.11.1Z"],[1,"text-xs","font-medium","leading-normal","tracking-[0.015em]","transition-colors","duration-200"],["d","M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"],["d","M72,104a8,8,0,0,1,8-8h96a8,8,0,0,1,0,16H80A8,8,0,0,1,72,104Zm8,40h96a8,8,0,0,0,0-16H80a8,8,0,0,0,0,16ZM232,56V208a8,8,0,0,1-11.58,7.15L192,200.94l-28.42,14.21a8,8,0,0,1-7.16,0L128,200.94,99.58,215.15a8,8,0,0,1-7.16,0L64,200.94,35.58,215.15A8,8,0,0,1,24,208V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Zm-16,0H40V195.06l20.42-10.22a8,8,0,0,1,7.16,0L96,199.06l28.42-14.22a8,8,0,0,1,7.16,0L160,199.06l28.42-14.22a8,8,0,0,1,7.16,0L216,195.06Z"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","fill","currentColor","viewBox","0 0 256 256",1,"transition-colors","duration-200"],["d","M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"],["class","absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs text-white",3,"hidden",4,"ngIf"],[3,"updateApp","hideNotification","isVisible"],[1,"h-20","bg-white"],[1,"absolute","-top-1","-right-1","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-red-500","text-xs","text-white"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),Gt(),T(5,"svg",5),be(6,"path",6),N()(),Wn(),T(7,"p",7),K(8," Home "),N()(),T(9,"a",3)(10,"div",4),Gt(),T(11,"svg",5),be(12,"path",8),N()(),Wn(),T(13,"p",7),K(14," Lists "),N()(),T(15,"a",3)(16,"div",4),Gt(),T(17,"svg",5),be(18,"path",9),N()(),Wn(),T(19,"p",7),K(20," Receipts "),N()(),T(21,"a",3)(22,"div",4),Gt(),T(23,"svg",10),be(24,"path",11),N(),st(25,h9,2,3,"div",12),Tr(26,"async"),N(),Wn(),T(27,"p",7),K(28,"Profile"),N()()()()(),be(29,"br"),T(30,"app-update-notification",13),Le("updateApp",function(){return r.handleUpdate()})("hideNotification",function(){return r.handleHideNotification()}),N(),be(31,"div",14)),n&2&&($(3),An("-translate-y-2",r.isActive("/purchases"))("hover:-translate-y-1",!r.isActive("/purchases")),ae("routerLink","/purchases"),$(2),Hp(r.isActive("/purchases")?" ":"text-gray-500 hover:text-gray-700"),$(2),An("text-blue-600",r.isActive("/purchases"))("text-gray-500",!r.isActive("/purchases")),$(2),An("-translate-y-2",r.isActive("/lists"))("hover:-translate-y-1",!r.isActive("/lists")),ae("routerLink","/lists"),$(2),Hp(r.isActive("/lists")?" ":"text-gray-500 hover:text-gray-700"),$(2),An("text-blue-600",r.isActive("/lists"))("text-gray-500",!r.isActive("/lists")),$(2),An("-translate-y-2",r.isActive("/receipts"))("hover:-translate-y-1",!r.isActive("/receipts")),ae("routerLink","/receipts"),$(2),Hp(r.isActive("/receipts")?" ":"text-gray-500 hover:text-gray-700"),$(2),An("text-blue-600",r.isActive("/receipts"))("text-gray-500",!r.isActive("/receipts")),$(2),ae("routerLink","/family"),$(2),Hp(r.isActive("/family")?" ":"text-gray-500 hover:text-gray-700"),$(2),ae("ngIf",ri(26,42,r.pendingInvites$)),$(2),An("text-blue-600",r.isActive("/family"))("text-gray-500",!r.isActive("/family")),$(3),ae("isVisible",r.showUpdateNotification))},dependencies:[Yt,tn,C_,Hk,kk,ty],styles:[".text-#111418[_ngcontent-%COMP%]{color:#111418!important}.text-#637588[_ngcontent-%COMP%]{color:#637588!important}a[_ngcontent-%COMP%]{transition:all .3s ease-in-out}"]})};function g9(e,t){if(e&1){let n=Pt();T(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3",4),K(5,"Install SmartCart"),N(),T(6,"p",5),K(7,"Add SmartCart to your home screen for quick access"),N()()(),T(8,"div",6)(9,"button",7),Le("click",function(){nt(n);let i=Ie();return rt(i.installPwa())}),K(10," Install "),N(),T(11,"button",8),Le("click",function(){nt(n);let i=Ie();return rt(i.closePrompt(!0))}),K(12," Not now "),N()()()()}}var JD=class e{deferredPrompt;showInstallPrompt=!1;INSTALL_PROMPT_KEY="pwa-prompt-dismissed";ngOnInit(){this.hasUserDismissedPrompt()||this.handleInstallPrompt()}hasUserDismissedPrompt(){return localStorage.getItem(this.INSTALL_PROMPT_KEY)==="true"}handleInstallPrompt(){window.addEventListener("beforeinstallprompt",t=>{this.deferredPrompt=t,this.showInstallPrompt=!0,console.log("Install prompt is ready to be shown")}),window.addEventListener("appinstalled",()=>{this.showInstallPrompt=!1,this.deferredPrompt=null,localStorage.setItem(this.INSTALL_PROMPT_KEY,"true"),console.log("PWA was installed successfully")})}installPwa(){return D(this,null,function*(){if(!this.deferredPrompt){console.log("No installation prompt available");return}try{let t=yield this.deferredPrompt.prompt();console.log(`Install prompt was shown: ${t}`);let n=yield this.deferredPrompt.userChoice;console.log(`User choice: ${n.outcome}`),this.deferredPrompt=null,this.showInstallPrompt=!1,n.outcome==="dismissed"&&localStorage.setItem(this.INSTALL_PROMPT_KEY,"true")}catch(t){console.error("Error showing install prompt:",t)}})}closePrompt(t=!0){this.showInstallPrompt=!1,t&&localStorage.setItem(this.INSTALL_PROMPT_KEY,"true")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ut({type:e,selectors:[["app-pwa-install"]],decls:1,vars:1,consts:[["class","fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-white rounded-xl shadow-lg p-4 z-50",4,"ngIf"],[1,"fixed","bottom-4","left-4","right-4","md:left-auto","md:right-4","md:w-96","bg-white","rounded-xl","shadow-lg","p-4","z-50"],[1,"flex","flex-col","gap-3"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","gap-3"],[1,"flex-1","bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"flex-1","bg-gray-100","text-gray-700","px-4","py-2","rounded-lg","hover:bg-gray-200","transition-colors",3,"click"]],template:function(n,r){n&1&&st(0,g9,13,0,"div",0),n&2&&ae("ngIf",r.showInstallPrompt)},dependencies:[Yt,tn],encapsulation:2})};var Uc=ma("PushNotifications",{});var rp=class e{constructor(t,n){this.http=t;this.authService=n;this.authService.user$.subscribe(r=>{r&&!this.hasInitialized&&this.initPushNotifications()})}apiUrl=Fi.apiUrl;hasInitialized=!1;initPushNotifications(){return D(this,null,function*(){if(this.hasInitialized||!nr.isNativePlatform()){console.log("Skipping push notifications: Already initialized or not native platform");return}console.log("\u{1F504} Initializing Push Notifications...");try{return document.readyState==="complete"?yield this.setupPushNotifications():new Promise(t=>{document.addEventListener("deviceready",()=>D(this,null,function*(){let n=yield this.setupPushNotifications();t(n)}))})}catch(t){console.error("Error initializing push notifications:",t);return}})}setupPushNotifications(){return D(this,null,function*(){console.log("\u{1F4F1} Device is ready. Requesting push notification permissions...");try{if((yield Uc.requestPermissions()).receive==="granted")return console.log("\u2705 Push notification permission granted."),yield Uc.register(),this.setupNotificationListeners(),new Promise(n=>{Uc.addListener("registration",r=>{n(r.value)})});console.warn("\u274C Push notification permission denied.");return}catch(t){console.error("Error setting up push notifications:",t);return}})}setupNotificationListeners(){Uc.addListener("registration",t=>D(this,null,function*(){console.log("\u{1F4F2} Push Registration Token:",t.value),yield this.saveToken(t.value)})),Uc.addListener("registrationError",t=>{console.error("\u26A0\uFE0F Push registration error:",t)}),Uc.addListener("pushNotificationReceived",t=>{console.log("\u{1F514} Notification received:",t)}),Uc.addListener("pushNotificationActionPerformed",t=>{console.log("\u{1F6E0}\uFE0F Notification action performed:",t)})}saveToken(t){return D(this,null,function*(){try{let n=yield ev(this.authService.user$);if(!n?.email){console.warn("\u26A0\uFE0F No user email available to save token");return}let r={UserEmail:n.email.toLowerCase(),Token:t,Platform:nr.getPlatform()};console.log("\u{1F4E4} Sending push token:",r);let i=yield ev(this.http.post(`${this.apiUrl}/api/push-token`,r,{headers:{"Content-Type":"application/json"}}).pipe(Lt(o=>{throw console.error("\u{1F525} Error saving push token:",o),o})));console.log("\u2705 Push token saved successfully:",i)}catch(n){console.error("\u{1F525} Error in saveToken:",n)}})}static \u0275fac=function(n){return new(n||e)(se(si),se(It))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};var QD=function(e){return e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT",e}(QD||{});var nm=ma("StatusBar");var eI=class e{setStyle(t){return D(this,null,function*(){nr.isNativePlatform()&&(yield nm.setStyle({style:t==="dark"?QD.Dark:QD.Light}))})}hide(){return D(this,null,function*(){yield nm.hide()})}show(){return D(this,null,function*(){yield nm.show()})}setBackgroundColor(t){return D(this,null,function*(){yield nm.setBackgroundColor({color:t})})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};function _9(e,t){if(e&1&&be(0,"app-header",3),e&2){let n=Ie();ae("showUpdateNotification",n.showUpdateNotification)}}function y9(e,t){e&1&&be(0,"app-bottom-nav")}var tI=class e{constructor(t,n,r,i){this.authService=t;this.familyService=n;this.statusBar=r;this.pushNotificationService=i}title="AI-Grocery-App";isDark=!1;showUpdateNotification=!1;subscriptions=new bt;familyInitialized=!1;ngOnInit(){this.authService.user$.pipe(hn(t=>!!t),_r(1)).subscribe(()=>{setTimeout(()=>{this.initializeApp(),this.statusBar.setStyle(this.isDark?"dark":"light")},2e3)})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleUpdate(){window.location.reload()}initializeApp(){this.subscriptions.add(this.authService.user$.pipe(hn(t=>!!t?.email&&!this.familyInitialized),_r(1)).subscribe(t=>D(this,null,function*(){if(t?.email){this.initializeFamily(t.email,"");let n=yield this.pushNotificationService.initPushNotifications()}})))}initializeFamily(t,n){if(this.familyInitialized)return;let r={email:t,pushToken:n,platform:nr.getPlatform()};this.subscriptions.add(this.familyService.initializeFamily(r).subscribe({next:i=>{console.log("Family initialized:",i),i&&i.familyId&&(this.familyInitialized=!0,this.authService.setFamilyId(i.familyId))},error:i=>{console.error("Error initializing family:",i),this.familyInitialized=!1}}))}static \u0275fac=function(n){return new(n||e)(oe(It),oe(Lc),oe(eI),oe(rp))};static \u0275cmp=Ut({type:e,selectors:[["app-root"]],features:[Pi([rp])],decls:5,vars:2,consts:[[3,"showUpdateNotification",4,"ngIf"],[1,"pb-16"],[4,"ngIf"],[3,"showUpdateNotification"]],template:function(n,r){n&1&&(st(0,_9,1,1,"app-header",0),T(1,"div",1),be(2,"router-outlet"),N(),be(3,"app-pwa-install"),st(4,y9,1,0,"app-bottom-nav",2)),n&2&&(ae("ngIf",r.authService.isLoggedIn()),$(4),ae("ngIf",r.authService.isLoggedIn()))},dependencies:[BC,ey,tn,ZD,Yt,JD],encapsulation:2})};var Cl=class e{constructor(t,n){this.authService=t;this.router=n}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(n){return new(n||e)(se(It),se(zt))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};var nI=ma("GoogleAuth",{web:()=>import("./chunk-A4CLJ2ND.js").then(e=>new e.GoogleAuthWeb)});var rI=class e{constructor(t,n){this.authService=t;this.router=n;this.handleCredentialResponse=this.handleCredentialResponse.bind(this),nr.isNativePlatform()&&nI.initialize({clientId:this.googleClientId,scopes:["profile","email"],grantOfflineAccess:!0})}googleClientId=Fi.googleClientId;loadGoogleAuth(){return D(this,null,function*(){if(!nr.isNativePlatform())return new Promise((t,n)=>{if(document.getElementById("google-jssdk")){t();return}let r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.id="google-jssdk",r.async=!0,r.defer=!0,r.onload=()=>{google.accounts.id.initialize({client_id:this.googleClientId,callback:this.handleCredentialResponse}),t()},r.onerror=()=>{console.error("Google Sign-In script failed to load."),n()},document.head.appendChild(r)})})}signIn(){return D(this,null,function*(){if(nr.isNativePlatform())try{let t=yield nI.signIn();console.log("Google User (Mobile):",t);let n=We(te({},t),{credential:t.authentication.idToken});this.authService.setUser(n),this.router.navigate(["/purchases"])}catch(t){console.error("Google Sign-In Error (Mobile):",t)}else this.renderGoogleButton()})}handleCredentialResponse(t){console.log("Google Auth Response (Web):",t);let n=t.credential;if(n){let r=this.parseJwt(n);r.credential=n,this.authService.setUser(r),this.router.navigate(["/purchases"])}}parseJwt(t){let r=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(atob(r))}renderGoogleButton(){google.accounts.id.renderButton(document.getElementById("googleSignInButton"),{theme:"outline",size:"large"})}signOut(){return D(this,null,function*(){nr.isNativePlatform()?yield nI.signOut():google.accounts.id.disableAutoSelect(),this.authService.logout(),this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||e)(se(It),se(zt))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};function D9(e,t){e&1&&be(0,"div",9)}function I9(e,t){if(e&1){let n=Pt();T(0,"button",10),Le("click",function(){nt(n);let i=Ie();return rt(i.signInWithGoogle())}),Gt(),T(1,"svg",11),be(2,"path",12)(3,"path",13)(4,"path",14)(5,"path",15),N(),Wn(),T(6,"span"),K(7,"Sign in with Google "),N()()}}function S9(e,t){e&1&&(T(0,"div",16),be(1,"div",17),N())}function T9(e,t){if(e&1&&(T(0,"div",18),K(1),N()),e&2){let n=Ie();$(),en(" ",n.errorMessage," ")}}var iI=class e{constructor(t,n,r){this.authService=t;this.router=n;this.googleAuthService=r}isNativePlatform=nr.isNativePlatform();isLoading=!1;errorMessage="";ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/purchases"])}ngAfterViewInit(){return D(this,null,function*(){if(!this.isNativePlatform)try{yield this.googleAuthService.loadGoogleAuth(),this.googleAuthService.renderGoogleButton()}catch(t){console.error("Failed to load Google Auth:",t),this.errorMessage="Failed to initialize sign-in. Please try again."}})}signInWithGoogle(){return D(this,null,function*(){try{this.isLoading=!0,this.errorMessage="",yield this.googleAuthService.signIn()}catch(t){console.error("Sign in error:",t),this.errorMessage="Failed to sign in. Please try again."}finally{this.isLoading=!1}})}static \u0275fac=function(n){return new(n||e)(oe(It),oe(zt),oe(rI))};static \u0275cmp=Ut({type:e,selectors:[["app-login"]],decls:11,vars:4,consts:[[1,"login-container","bg-white","min-h-screen"],[1,"flex","flex-col","items-center","justify-center","px-4","py-8","space-y-6"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["id","googleSignInButton","class","w-full max-w-md",4,"ngIf"],["class","flex items-center justify-center w-full max-w-md px-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",3,"click",4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["class","text-red-500 text-center mt-4",4,"ngIf"],["id","googleSignInButton",1,"w-full","max-w-md"],[1,"flex","items-center","justify-center","w-full","max-w-md","px-4","py-3","text-gray-900","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"w-6","h-6","mr-3"],["fill","#4285F4","d","M23.745 12.27c0-.79-.07-1.54-.19-2.27h-11.3v4.51h6.47c-.29 1.48-1.14 2.73-2.4 3.58v3h3.86c2.26-2.09 3.56-5.17 3.56-8.82z"],["fill","#34A853","d","M12.255 24c3.24 0 5.95-1.08 7.93-2.91l-3.86-3c-1.08.72-2.45 1.16-4.07 1.16-3.13 0-5.78-2.11-6.73-4.96h-3.98v3.09C3.515 21.3 7.565 24 12.255 24z"],["fill","#FBBC05","d","M5.525 14.29c-.25-.72-.38-1.49-.38-2.29s.14-1.57.38-2.29V6.62h-3.98a11.86 11.86 0 000 10.76l3.98-3.09z"],["fill","#EA4335","d","M12.255 4.75c1.77 0 3.35.61 4.6 1.8l3.42-3.42C18.205 1.19 15.495 0 12.255 0c-4.69 0-8.74 2.7-10.71 6.62l3.98 3.09c.95-2.85 3.6-4.96 6.73-4.96z"],[1,"flex","items-center","justify-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-gray-900"],[1,"text-red-500","text-center","mt-4"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),K(4,"AI Smart Cart"),N(),T(5,"p",4),K(6,"Sign in to manage your shopping lists s"),N()(),st(7,D9,1,0,"div",5)(8,I9,8,0,"button",6)(9,S9,2,0,"div",7)(10,T9,2,1,"div",8),N()()),n&2&&($(7),ae("ngIf",!r.isNativePlatform),$(),ae("ngIf",r.isNativePlatform),$(),ae("ngIf",r.isLoading),$(),ae("ngIf",r.errorMessage))},dependencies:[Yt,tn],styles:[".login-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;background-color:#fff}"]})};var Vc=function(e){return e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS",e}(Vc||{}),rm=function(e){return e.Rear="REAR",e.Front="FRONT",e}(rm||{}),IA=function(e){return e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl",e}(IA||{});var im=class extends Kx{getPhoto(t){return D(this,null,function*(){return new Promise((n,r)=>D(this,null,function*(){if(t.webUseInput||t.source===Vc.Photos)this.fileInputExperience(t,n,r);else if(t.source===Vc.Prompt){let i=document.querySelector("pwa-action-sheet");i||(i=document.createElement("pwa-action-sheet"),document.body.appendChild(i)),i.header=t.promptLabelHeader||"Photo",i.cancelable=!1,i.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],i.addEventListener("onSelection",o=>D(this,null,function*(){o.detail===0?this.fileInputExperience(t,n,r):this.cameraExperience(t,n,r)}))}else this.cameraExperience(t,n,r)}))})}pickImages(t){return D(this,null,function*(){return new Promise((n,r)=>D(this,null,function*(){this.multipleFileInputExperience(n,r)}))})}cameraExperience(t,n,r){return D(this,null,function*(){if(customElements.get("pwa-camera-modal")){let i=document.createElement("pwa-camera-modal");i.facingMode=t.direction===rm.Front?"user":"environment",document.body.appendChild(i);try{yield i.componentOnReady(),i.addEventListener("onPhoto",o=>D(this,null,function*(){let s=o.detail;s===null?r(new Cm("User cancelled photos app")):s instanceof Error?r(s):n(yield this._getCameraPhoto(s,t)),i.dismiss(),document.body.removeChild(i)})),i.present()}catch{this.fileInputExperience(t,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,n,r)})}fileInputExperience(t,n,r){let i=document.querySelector("#_capacitor-camera-input"),o=()=>{var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",s=>{let a=i.files[0],c="jpeg";if(a.type==="image/png"?c="png":a.type==="image/gif"&&(c="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){let u=new FileReader;u.addEventListener("load",()=>{if(t.resultType==="dataUrl")n({dataUrl:u.result,format:c});else if(t.resultType==="base64"){let l=u.result.split(",")[1];n({base64String:l,format:c})}o()}),u.readAsDataURL(a)}else n({webPath:URL.createObjectURL(a),format:c}),o()}),i.addEventListener("cancel",s=>{r(new Cm("User cancelled photos app")),o()})),i.accept="image/*",i.capture=!0,t.source===Vc.Photos||t.source===Vc.Prompt?i.removeAttribute("capture"):t.direction===rm.Front?i.capture="user":t.direction===rm.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(t,n){let r=document.querySelector("#_capacitor-camera-input-multiple"),i=()=>{var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",o=>{let s=[];for(let a=0;a<r.files.length;a++){let c=r.files[a],u="jpeg";c.type==="image/png"?u="png":c.type==="image/gif"&&(u="gif"),s.push({webPath:URL.createObjectURL(c),format:u})}t({photos:s}),i()}),r.addEventListener("cancel",o=>{n(new Cm("User cancelled photos app")),i()})),r.accept="image/*",r.click()}_getCameraPhoto(t,n){return new Promise((r,i)=>{let o=new FileReader,s=t.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(t),format:s,saved:!1}):(o.readAsDataURL(t),o.onloadend=()=>{let a=o.result;n.resultType==="dataUrl"?r({dataUrl:a,format:s,saved:!1}):r({base64String:a.split(",")[1],format:s,saved:!1})},o.onerror=a=>{i(a)})})}checkPermissions(){return D(this,null,function*(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}})}requestPermissions(){return D(this,null,function*(){throw this.unimplemented("Not implemented on web.")})}pickLimitedLibraryPhotos(){return D(this,null,function*(){throw this.unavailable("Not implemented on web.")})}getLimitedLibraryPhotos(){return D(this,null,function*(){throw this.unavailable("Not implemented on web.")})}},sye=new im;var VV=ma("Camera",{web:()=>new im});function C9(e,t){if(e&1){let n=Pt();T(0,"button",12),Le("click",function(){nt(n);let i=Ie();return rt(i.takePhoto())}),K(1," Take Photo "),N()}}function b9(e,t){if(e&1){let n=Pt();T(0,"button",12),Le("click",function(){nt(n);let i=Ie();return rt(i.takeBrowserPhoto())}),K(1," Use Camera "),N()}}function w9(e,t){if(e&1&&(T(0,"div",22),K(1),N()),e&2){let n=Ie().index,r=Ie(2);$(),en(" ",r.uploadErrors[n]," ")}}function N9(e,t){if(e&1&&(T(0,"div",23),be(1,"div",24),N()),e&2){let n=Ie().index,r=Ie(2);$(),xa("width",r.uploadProgress[n]+"%")}}function A9(e,t){if(e&1){let n=Pt();T(0,"div",17),be(1,"img",18),T(2,"button",19),Le("click",function(){let i=nt(n).index,o=Ie(2);return rt(o.removeFile(i))}),K(3," \u2715 "),N(),st(4,w9,2,1,"div",20)(5,N9,2,2,"div",21),N()}if(e&2){let n=t.$implicit,r=t.index,i=Ie(2);$(),ae("src",n,wa),$(3),ae("ngIf",i.uploadErrors[r]),$(),ae("ngIf",i.uploadErrors[r])}}function x9(e,t){if(e&1&&(T(0,"div",13)(1,"h2",14),K(2,"Selected Files:"),N(),T(3,"div",15),st(4,A9,6,3,"div",16),N()()),e&2){let n=Ie();$(4),ae("ngForOf",n.imagePreviews)}}var oI=class e{constructor(t,n,r){this.http=t;this.authService=n;this.appInsights=r}closeupload=new Xt;selectedFiles=[];imagePreviews=[];uploadProgress=[];uploading=!1;userEmail=null;isDraggingOver=!1;familyId=null;isNative=nr.isNativePlatform();uploadErrors={};generalError=null;ngOnInit(){this.authService.user$.subscribe(t=>{t&&(this.userEmail=t.email,this.familyId=t.familyId||null,this.familyId||(console.warn("No family ID available for user"),this.appInsights.logTrace("No family ID available for user",{email:this.userEmail})))})}takePhoto(){return D(this,null,function*(){try{this.appInsights.logEvent("TakePhoto_Started",{platform:"Native"});let t=yield VV.getPhoto({quality:90,allowEditing:!0,resultType:IA.DataUrl,source:Vc.Camera});if(t.dataUrl){let r=yield(yield fetch(t.dataUrl)).blob(),i=new File([r],`photo_${Date.now()}.${t.format}`,{type:`image/${t.format}`});this.selectedFiles.push(i),this.uploadProgress.push(0),this.imagePreviews.push(t.dataUrl),this.appInsights.logEvent("TakePhoto_Completed",{platform:"Native",fileSize:i.size,fileType:i.type})}}catch(t){console.error("Error taking photo:",t),this.appInsights.logException(t instanceof Error?t:new Error("Unknown error taking photo")),this.appInsights.logEvent("TakePhoto_Failed",{platform:"Native",error:t instanceof Error?t.message:"Unknown error"})}})}takeBrowserPhoto(){return D(this,null,function*(){try{this.appInsights.logEvent("TakePhoto_Started",{platform:"Browser"});let t=yield navigator.mediaDevices.getUserMedia({video:!0}),n=document.createElement("video"),r=document.createElement("canvas");n.srcObject=t,yield n.play(),r.width=n.videoWidth,r.height=n.videoHeight;let i=r.getContext("2d");i&&i.drawImage(n,0,0),t.getTracks().forEach(a=>a.stop());let o=yield new Promise(a=>{r.toBlob(c=>{c&&a(c)},"image/jpeg",.9)}),s=new File([o],`photo_${Date.now()}.jpg`,{type:"image/jpeg"});this.selectedFiles.push(s),this.uploadProgress.push(0),this.imagePreviews.push(r.toDataURL("image/jpeg")),this.appInsights.logEvent("TakePhoto_Completed",{platform:"Browser",fileSize:s.size,fileType:s.type,dimensions:`${r.width}x${r.height}`})}catch(t){console.error("Error accessing camera:",t),this.appInsights.logException(t instanceof Error?t:new Error("Unknown error accessing camera")),this.appInsights.logEvent("TakePhoto_Failed",{platform:"Browser",error:t instanceof Error?t.message:"Unknown error"})}})}onFilesSelected(t){this.appInsights.logEvent("FilesSelected",{count:t.target.files.length,method:"FileDialog"}),this.processFiles(t.target.files)}onDrop(t){t.preventDefault(),t.stopPropagation(),this.isDraggingOver=!1,t.dataTransfer&&t.dataTransfer.files.length>0&&(this.appInsights.logEvent("FilesSelected",{count:t.dataTransfer.files.length,method:"DragAndDrop"}),this.processFiles(t.dataTransfer.files))}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDraggingOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDraggingOver=!1}processFiles(t){let n=[],r=[];for(let i=0;i<t.length;i++){this.selectedFiles.push(t[i]),this.uploadProgress.push(0),n.push(t[i].size),r.push(t[i].type);let o=new FileReader;o.onload=()=>{this.imagePreviews.push(o.result)},o.readAsDataURL(t[i])}this.appInsights.logEvent("FilesProcessed",{count:t.length,totalSize:n.reduce((i,o)=>i+o,0),averageSize:n.reduce((i,o)=>i+o,0)/t.length,fileTypes:r.join(",")})}removeFile(t){let n=this.selectedFiles[t];this.appInsights.logEvent("FileRemoved",{fileType:n.type,fileSize:n.size,fileName:n.name}),this.selectedFiles.splice(t,1),this.imagePreviews.splice(t,1),this.uploadProgress.splice(t,1)}uploadSingleFile(t){return D(this,null,function*(){let n=this.selectedFiles[t],r=new Date().getTime();try{this.appInsights.logEvent("FileUpload_Started",{fileName:n.name,fileSize:n.size,fileType:n.type,index:t}),this.uploadErrors[t]="";let i=Fi.apiUrl+`/GetUploadUrlFunction?nocache=${new Date().getTime()}`,s=(yield this.http.get(i).toPromise()).uploadUrl,a=new xs({"x-ms-blob-type":"BlockBlob","Content-Type":"image/jpeg","x-ms-meta-email":this.userEmail||"","x-ms-meta-familyId":this.familyId||"1"});yield new Promise((c,u)=>{this.http.put(s,this.selectedFiles[t],{headers:a,reportProgress:!0,observe:"events"}).subscribe({next:l=>{if(l.type===As.UploadProgress&&l.total)this.uploadProgress[t]=Math.round(100*l.loaded/l.total),(this.uploadProgress[t]===25||this.uploadProgress[t]===50||this.uploadProgress[t]===75)&&this.appInsights.logEvent("FileUpload_Progress",{fileName:n.name,progress:this.uploadProgress[t],fileSize:n.size});else if(l.type===As.Response){console.log("File uploaded successfully:",l.body),delete this.uploadErrors[t];let p=new Date().getTime()-r;this.appInsights.logEvent("FileUpload_Completed",{fileName:n.name,fileSize:n.size,fileType:n.type,durationMs:p,uploadSpeed:Math.round(n.size/1024/(p/1e3))+" KB/s"}),c(l)}},error:l=>{console.error("Upload failed:",l);let d="Upload failed";l.status===0?d="Network error - please check your connection":l.status===413?d="File is too large":l.status===403?d="Permission denied":l.status===401?d="Unauthorized access":l.error?.message?d=l.error.message:l.message&&(d=l.message),setTimeout(()=>{this.uploadErrors[t]=d,this.uploadProgress[t]=0}),this.appInsights.logEvent("FileUpload_Failed",{fileName:n.name,fileSize:n.size,fileType:n.type,errorType:l.status?l.status.toString():"unknown",errorMessage:d}),this.appInsights.logException(l instanceof Error?l:new Error(`Upload failed: ${d}`),2),u(l)},complete:()=>{c(!0)}})})}catch(i){console.error("Upload failed:",i);let o="Upload failed";throw i.status===0?o="Network error - please check your connection":i.error&&i.error.message?o=i.error.message:i.message&&(o=i.message),this.uploadErrors[t]=`Failed to upload ${this.selectedFiles[t].name}: ${o}`,this.uploadProgress[t]=0,this.appInsights.logEvent("FileUpload_Failed",{fileName:n.name,fileSize:n.size,fileType:n.type,stage:"GetUploadUrl",errorMessage:o}),this.appInsights.logException(i instanceof Error?i:new Error(`Upload failed (GetUploadUrl): ${o}`),2),i}})}uploadFiles(){return D(this,null,function*(){let t=new Date().getTime(),n=this.selectedFiles.length,r=this.selectedFiles.reduce((c,u)=>c+u.size,0);if(!this.selectedFiles.length||!this.familyId){this.generalError="No files selected or no family ID available",this.appInsights.logEvent("UploadFiles_Error",{error:this.generalError,hasFiles:this.selectedFiles.length>0,hasFamilyId:!!this.familyId});return}this.appInsights.logEvent("UploadFiles_Started",{fileCount:n,totalSize:r,familyId:this.familyId}),this.uploading=!0,this.generalError=null,this.uploadErrors={};let i=!1,o=0;for(let c=0;c<this.selectedFiles.length;c++)try{yield this.uploadSingleFile(c),o++}catch{i=!0}this.uploading=!1;let a=new Date().getTime()-t;this.appInsights.logEvent("UploadFiles_Completed",{fileCount:n,successCount:o,errorCount:n-o,totalSize:r,durationMs:a,hasErrors:i}),this.appInsights.logMetric("Upload_BatchSize",n),this.appInsights.logMetric("Upload_SuccessRate",o/n*100),this.appInsights.logMetric("Upload_Duration",a),i||this.closeupload.emit(!0)})}static \u0275fac=function(n){return new(n||e)(oe(si),oe(It),oe(as))};static \u0275cmp=Ut({type:e,selectors:[["app-upload"]],outputs:{closeupload:"closeupload"},decls:17,vars:4,consts:[["fileInput",""],[1,"relative","flex","size-full","min-h-screen","flex-col","bg-white","overflow-x-hidden"],[1,"text-[#111418]","text-[22px]","font-bold","px-4","pb-3","pt-5"],[1,"text-[#111418]","text-base","pb-3","pt-1","px-4"],[1,"w-full","h-40","flex","flex-col","items-center","justify-center","bg-gray-100","border-2","border-dashed","border-gray-300","rounded-lg","cursor-pointer",3,"drop","dragover","dragleave"],["type","file","multiple","",1,"hidden",3,"change"],[1,"text-gray-500",3,"click"],[1,"flex","gap-2","px-4","pt-3"],["class","flex-1 h-10 rounded-xl bg-[#1980e6] text-white text-sm font-bold",3,"click",4,"ngIf"],["class","p-4",4,"ngIf"],[1,"flex","px-4","py-3"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-10","px-4","flex-1","bg-[#1980e6]","text-white","text-sm","font-bold","disabled:opacity-50",3,"click","disabled"],[1,"flex-1","h-10","rounded-xl","bg-[#1980e6]","text-white","text-sm","font-bold",3,"click"],[1,"p-4"],[1,"text-[#111418]","text-lg","font-bold","pb-2"],[1,"grid","grid-cols-1","gap-3"],["class","relative",4,"ngFor","ngForOf"],[1,"relative"],["alt","Uploaded File",1,"w-full","h-32","object-cover","rounded-lg","border","border-gray-300",3,"src"],[1,"absolute","top-1","right-1","bg-red-500","text-white","p-1","rounded",3,"click"],["class","mt-2 p-2 bg-red-50 text-red-700 text-sm rounded border border-red-200",4,"ngIf"],["class","w-full bg-gray-200 rounded-full h-2.5 mt-2",4,"ngIf"],[1,"mt-2","p-2","bg-red-50","text-red-700","text-sm","rounded","border","border-red-200"],[1,"w-full","bg-gray-200","rounded-full","h-2.5","mt-2"],[1,"bg-blue-500","h-2.5","rounded-full","transition-all","duration-300"]],template:function(n,r){if(n&1){let i=Pt();T(0,"div",1)(1,"h1",2),K(2,"Drag and drop your receipts"),N(),T(3,"p",3),K(4,"We'll analyze them in seconds."),N(),T(5,"div",4),Le("drop",function(s){return nt(i),rt(r.onDrop(s))})("dragover",function(s){return nt(i),rt(r.onDragOver(s))})("dragleave",function(s){return nt(i),rt(r.onDragLeave(s))}),T(6,"input",5,0),Le("change",function(s){return nt(i),rt(r.onFilesSelected(s))}),N(),T(8,"button",6),Le("click",function(){nt(i);let s=LO(7);return rt(s.click())}),K(9," Click to select files or drag and drop here "),N()(),T(10,"div",7),st(11,C9,2,0,"button",8)(12,b9,2,0,"button",8),N(),st(13,x9,5,1,"div",9),T(14,"div",10)(15,"button",11),Le("click",function(){return nt(i),rt(r.uploadFiles())}),K(16," Upload Files "),N()()()}n&2&&($(11),ae("ngIf",r.isNative),$(),ae("ngIf",!r.isNative),$(),ae("ngIf",r.imagePreviews.length>0),$(2),ae("disabled",r.selectedFiles.length===0||r.uploading))},dependencies:[Yt,Ma,tn],styles:["input[type=file][_ngcontent-%COMP%]{display:none}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;padding:10px;margin:10px 0;border-radius:4px;border:1px solid #ef5350}.file-error[_ngcontent-%COMP%]{color:#c62828;font-size:.875rem;margin-top:4px}.file-preview[_ngcontent-%COMP%]{position:relative;margin:10px 0;padding:10px;border:1px solid #ddd;border-radius:4px}.progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:4px;background-color:#4caf50;transition:width .3s ease}"]})};var sI=class e{mockPurchases=[{id:"1",store:"Costco",date:new Date("2024-02-01"),items:[{name:"Paper Towels",quantity:2,price:19.99},{name:"Chicken Breast",quantity:1,price:24.99}],total:64.97},{id:"2",store:"Costco",date:new Date("2024-02-05"),items:[{name:"TV",quantity:1,price:499.99},{name:"Pizza",quantity:2,price:9.99}],total:519.97}];getPurchases(t){return Ae(this.mockPurchases)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};function M9(e,t){if(e&1){let n=Pt();T(0,"div",13)(1,"app-upload",26),Le("closeupload",function(){nt(n);let i=Ie();return rt(i.handleCloseUpload())}),N()()}}var aI=class e{constructor(t,n){this.purchaseService=t;this.authService=n}purchases$;showUploads=!1;familyId;ngOnInit(){this.purchases$=this.authService.user$.pipe($n(t=>(this.familyId=t?.familyId,this.purchaseService.getPurchases(this.familyId))))}gotouploadspage(){this.showUploads=!this.showUploads}handleCloseUpload(){this.showUploads=!1}static \u0275fac=function(n){return new(n||e)(oe(sI),oe(It))};static \u0275cmp=Ut({type:e,selectors:[["app-purchase-history"]],decls:89,vars:1,consts:[[1,"relative","flex","size-full","min-h-screen","flex-col","bg-white","justify-between","group/design-root","overflow-x-hidden",2,"--checkbox-tick-svg","url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(255,255,255)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')","font-family",'Manrope, "Noto Sans", sans-serif'],[1,"flex","items-center","gap-4","bg-white","px-4","min-h-[72px]","py-2","justify-between"],[1,"flex","items-center","gap-4"],["data-icon","Receipt","data-size","24px","data-weight","regular",1,"text-[#111418]","flex","items-center","justify-center","rounded-lg","bg-[#f0f2f4]","shrink-0","size-12"],["xmlns","http://www.w3.org/2000/svg","width","24px","height","24px","fill","currentColor","viewBox","0 0 256 256"],["d","M72,104a8,8,0,0,1,8-8h96a8,8,0,0,1,0,16H80A8,8,0,0,1,72,104Zm8,40h96a8,8,0,0,0,0-16H80a8,8,0,0,0,0,16ZM232,56V208a8,8,0,0,1-11.58,7.15L192,200.94l-28.42,14.21a8,8,0,0,1-7.16,0L128,200.94,99.58,215.15a8,8,0,0,1-7.16,0L64,200.94,35.58,215.15A8,8,0,0,1,24,208V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Zm-16,0H40V195.06l20.42-10.22a8,8,0,0,1,7.16,0L96,199.06l28.42-14.22a8,8,0,0,1,7.16,0L160,199.06l28.42-14.22a8,8,0,0,1,7.16,0L216,195.06Z"],[1,"flex","flex-col","justify-center"],[1,"text-[#111418]","text-base","font-medium","leading-normal","line-clamp-1"],[1,"text-[#637588]","text-sm","font-normal","leading-normal","line-clamp-2"],[1,"shrink-0"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-8","px-4","bg-[#f0f2f4]","text-[#111418]","text-sm","font-medium","leading-normal","w-fit",3,"click"],[1,"truncate"],["class","px-4 py-3",4,"ngIf"],[1,"px-4","py-3"],[1,"flex","flex-col","min-w-40","h-12","w-full"],[1,"flex","w-full","flex-1","items-stretch","rounded-xl","h-full"],["data-icon","MagnifyingGlass","data-size","24px","data-weight","regular",1,"text-[#637588]","flex","border-none","bg-[#f0f2f4]","items-center","justify-center","pl-4","rounded-l-xl","border-r-0"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],["placeholder","Add items to your list","value","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-xl","text-[#111418]","focus:outline-0","focus:ring-0","border-none","bg-[#f0f2f4]","focus:border-none","h-full","placeholder:text-[#637588]","px-4","rounded-l-none","border-l-0","pl-2","text-base","font-normal","leading-normal"],[1,"text-[#111418]","text-[22px]","font-bold","leading-tight","tracking-[-0.015em]","px-4","pb-3","pt-5"],[1,"px-4"],[1,"flex","gap-x-3","py-3","flex-row-reverse","justify-between"],["type","checkbox",1,"h-5","w-5","rounded","border-[#dce0e5]","border-2","bg-transparent","text-[#1980e6]","checked:bg-[#1980e6]","checked:border-[#1980e6]","checked:bg-[image:--checkbox-tick-svg]","focus:ring-0","focus:ring-offset-0","focus:border-[#dce0e5]","focus:outline-none"],[1,"text-[#111418]","text-base","font-normal","leading-normal"],["data-icon","Plus","data-size","24px","data-weight","regular",1,"text-[#111418]","flex","size-7","items-center","justify-center"],["d","M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"],[3,"closeupload"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),Gt(),T(5,"svg",4),be(6,"path",5),N()(),Wn(),T(7,"div",6)(8,"p",7),K(9,"Upload Receipt"),N(),T(10,"p",8),K(11,"Add new items"),N()()(),T(12,"div",9)(13,"button",10),Le("click",function(){return r.gotouploadspage()}),T(14,"span",11),K(15,"Upload"),N()()()(),st(16,M9,2,0,"div",12),T(17,"div",13)(18,"label",14)(19,"div",15)(20,"div",16),Gt(),T(21,"svg",4),be(22,"path",17),N()(),Wn(),be(23,"input",18),N()()(),T(24,"h2",19),K(25,"Your Shopping List"),N(),T(26,"div",20)(27,"label",21),be(28,"input",22),T(29,"p",23),K(30,"Milk"),N()(),T(31,"label",21),be(32,"input",22),T(33,"p",23),K(34,"Banana"),N()(),T(35,"label",21),be(36,"input",22),T(37,"p",23),K(38,"Eggs"),N()(),T(39,"label",21),be(40,"input",22),T(41,"p",23),K(42,"Pasta"),N()(),T(43,"label",21),be(44,"input",22),T(45,"p",23),K(46,"Bread"),N()()(),T(47,"h2",19),K(48,"Suggested items"),N(),T(49,"div",1)(50,"div",6)(51,"p",7),K(52,"You're running low on..."),N(),T(53,"p",8),K(54,"$2.99"),N()(),T(55,"div",9)(56,"div",24),Gt(),T(57,"svg",4),be(58,"path",25),N()()()(),Wn(),T(59,"div",1)(60,"div",6)(61,"p",7),K(62,"Almond Milk"),N(),T(63,"p",8),K(64,"$3.99"),N()(),T(65,"div",9)(66,"div",24),Gt(),T(67,"svg",4),be(68,"path",25),N()()()(),Wn(),T(69,"div",1)(70,"div",6)(71,"p",7),K(72,"Oatly Oat Milk"),N(),T(73,"p",8),K(74,"$4.99"),N()(),T(75,"div",9)(76,"div",24),Gt(),T(77,"svg",4),be(78,"path",25),N()()()(),Wn(),T(79,"div",1)(80,"div",6)(81,"p",7),K(82,"Silk Almond Milk"),N(),T(83,"p",8),K(84,"$3.99"),N()(),T(85,"div",9)(86,"div",24),Gt(),T(87,"svg",4),be(88,"path",25),N()()()()()()),n&2&&($(16),ae("ngIf",r.showUploads))},dependencies:[tn,oI,Oa,Yt],styles:[".purchase-history[_ngcontent-%COMP%]{padding:2rem}.purchase-card[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:8px;padding:1rem;margin-bottom:1rem}.purchase-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}.items[_ngcontent-%COMP%]{margin-bottom:1rem}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.total[_ngcontent-%COMP%]{font-weight:700;text-align:right}"]})};var ip=class e{constructor(t){this.http=t}apiBaseUrl="https://ocr-function-ai-grocery-bxgke3bjaedhckaz.eastus-01.azurewebsites.net/api";loadingSubject=new wt(!1);loading$=this.loadingSubject.asObservable();getReceipts(t,n=10){this.loadingSubject.next(!0);let r=`${this.apiBaseUrl}/receipts?email=${t}&pageSize=${n}`;return this.http.get(r).pipe(Fr(()=>this.loadingSubject.next(!1)))}loadNextPage(t,n,r=10){this.loadingSubject.next(!0);let i=encodeURIComponent(n),o=`${this.apiBaseUrl}/receipts?email=${t}&pageSize=${r}&continuationToken=${i}`;return this.http.get(o).pipe(Fr(()=>this.loadingSubject.next(!1)))}static \u0275fac=function(n){return new(n||e)(se(si))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};var op=class e{constructor(t){this.http=t;this.cleanupCache()}cacheKey="image_cache";cacheDuration=24*60*60*1e3;maxCacheSize=50*1024*1024;getImage(t){let n=this.getFromCache(t);return n?Ae(n):this.fetchAndCacheImage(t)}getFromCache(t){try{let n=`${this.cacheKey}_${this.hashUrl(t)}`,r=localStorage.getItem(n);if(!r)return null;let i=JSON.parse(r);return Date.now()-i.timestamp>this.cacheDuration?(localStorage.removeItem(n),null):i.data}catch(n){return console.error("Error reading from cache:",n),null}}fetchAndCacheImage(t){return this.http.get(t,{responseType:"blob"}).pipe($e(n=>this.blobToBase64(n)),St(n=>this.saveToCache(t,n)),Lt(n=>(console.error("Error fetching image:",n),wo(()=>n))))}blobToBase64(t){return new Promise((n,r)=>{let i=new FileReader;i.onloadend=()=>n(i.result),i.onerror=r,i.readAsDataURL(t)})}saveToCache(t,n){try{let r=`${this.cacheKey}_${this.hashUrl(t)}`,i={timestamp:Date.now(),data:n};this.checkCacheSize()&&localStorage.setItem(r,JSON.stringify(i))}catch(r){console.error("Error saving to cache:",r)}}checkCacheSize(){let t=0,n="",r=Date.now();for(let i=0;i<localStorage.length;i++){let o=localStorage.key(i);if(o&&o.startsWith(this.cacheKey)){let s=localStorage.getItem(o);if(s){t+=s.length*2;let a=JSON.parse(s);a.timestamp<r&&(r=a.timestamp,n=o)}}}return t>this.maxCacheSize&&n&&localStorage.removeItem(n),!0}cleanupCache(){let t=Date.now();for(let n=0;n<localStorage.length;n++){let r=localStorage.key(n);if(r&&r.startsWith(this.cacheKey))try{let i=localStorage.getItem(r);if(i){let o=JSON.parse(i);t-o.timestamp>this.cacheDuration&&localStorage.removeItem(r)}}catch{localStorage.removeItem(r)}}}hashUrl(t){let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n.toString(36)}clearCache(){for(let t=localStorage.length-1;t>=0;t--){let n=localStorage.key(t);n&&n.startsWith(this.cacheKey)&&localStorage.removeItem(n)}}static \u0275fac=function(n){return new(n||e)(se(si))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};var cI=class e{constructor(t){this.imageCacheService=t}src;alt="";placeholderImage="assets/placeholder.png";imageSource=null;loading=!0;ngOnChanges(t){let{src:n}=t;n!=null&&n.currentValue!=null&&(this.imageSource=n.currentValue,this.loading=!1)}ngOnInit(){this.loadImage()}loadImage(){this.loading=!0}onImageError(){this.imageSource=this.placeholderImage,this.loading=!1}static \u0275fac=function(n){return new(n||e)(oe(op))};static \u0275cmp=Ut({type:e,selectors:[["app-cached-image"]],inputs:{src:"src",alt:"alt",placeholderImage:"placeholderImage"},features:[Pi([op]),Es],decls:2,vars:4,consts:[[1,"image-container"],[1,"max-w-lg","max-h-[80vh]","rounded-lg","shadow-lg",3,"error","src","alt"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"img",1),Le("error",function(){return r.onImageError()}),N()()),n&2&&($(),An("loading",r.loading),ae("src",r.imageSource||r.placeholderImage,wa)("alt",r.alt))},dependencies:[Yt,Oa],styles:[".image-container[_ngcontent-%COMP%]{position:relative;overflow:hidden}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:opacity .3s ease}.image.loading[_ngcontent-%COMP%]{opacity:.5}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background-color:#ffffff80}.loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #f3f3f3;border-top:3px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var qV=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(oe(Na),oe(Is))};static \u0275dir=Br({type:e})}return e})(),k9=(()=>{class e extends qV{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Up(e)))(i||e)}})();static \u0275dir=Br({type:e,features:[hu]})}return e})(),NA=new de("");var F9={provide:NA,useExisting:fd(()=>dp),multi:!0};function L9(){let e=ws()?ws().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var U9=new de(""),dp=(()=>{class e extends qV{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!L9())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(oe(Na),oe(Is),oe(U9,8))};static \u0275dir=Br({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Pi([F9]),hu]})}return e})();var KV=new de(""),XV=new de("");function ZV(e){return e!=null}function JV(e){return Aa(e)?Ht(e):e}function QV(e){let t={};return e.forEach(n=>{t=n!=null?te(te({},t),n):t}),Object.keys(t).length===0?null:t}function e2(e,t){return t.map(n=>n(e))}function V9(e){return!e.validate}function t2(e){return e.map(t=>V9(t)?t:n=>t.validate(n))}function j9(e){if(!e)return null;let t=e.filter(ZV);return t.length==0?null:function(n){return QV(e2(n,t))}}function n2(e){return e!=null?j9(t2(e)):null}function B9(e){if(!e)return null;let t=e.filter(ZV);return t.length==0?null:function(n){let r=e2(n,t).map(JV);return T0(r).pipe($e(QV))}}function r2(e){return e!=null?B9(t2(e)):null}function jV(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function i2(e){return e._rawValidators}function o2(e){return e._rawAsyncValidators}function SA(e){return e?Array.isArray(e)?e:[e]:[]}function lI(e,t){return Array.isArray(e)?e.includes(t):e===t}function BV(e,t){let n=SA(t);return SA(e).forEach(i=>{lI(n,i)||n.push(i)}),n}function HV(e,t){return SA(t).filter(n=>!lI(e,n))}var dI=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=n2(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=r2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},TA=class extends dI{name;get formDirective(){return null}get path(){return null}},bl=class extends dI{_parent=null;name=null;valueAccessor=null},CA=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},H9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fEe=We(te({},H9),{"[class.ng-submitted]":"isSubmitted"}),gI=(()=>{class e extends CA{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(oe(bl,2))};static \u0275dir=Br({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&An("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[hu]})}return e})();var om="VALID",uI="INVALID",sp="PENDING",sm="DISABLED",up=class{},fI=class extends up{value;source;constructor(t,n){super(),this.value=t,this.source=n}},am=class extends up{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},cm=class extends up{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ap=class extends up{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function AA(e){return(mI(e)?e.validators:e)||null}function Y9(e){return Array.isArray(e)?n2(e):e||null}function xA(e,t){return(mI(t)?t.asyncValidators:e)||null}function $9(e){return Array.isArray(e)?r2(e):e||null}function mI(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function s2(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new ge(1e3,"");if(!r[n])throw new ge(1001,"")}function a2(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new ge(1002,"")})}var lp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Fo(this.statusReactive)}set status(t){Fo(()=>this.statusReactive.set(t))}_status=f_(()=>this.statusReactive());statusReactive=t_(void 0);get valid(){return this.status===om}get invalid(){return this.status===uI}get pending(){return this.status==sp}get disabled(){return this.status===sm}get enabled(){return this.status!==sm}errors;get pristine(){return Fo(this.pristineReactive)}set pristine(t){Fo(()=>this.pristineReactive.set(t))}_pristine=f_(()=>this.pristineReactive());pristineReactive=t_(!0);get dirty(){return!this.pristine}get touched(){return Fo(this.touchedReactive)}set touched(t){Fo(()=>this.touchedReactive.set(t))}_touched=f_(()=>this.touchedReactive());touchedReactive=t_(!1);get untouched(){return!this.touched}_events=new Nn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(BV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(BV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(HV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(HV(t,this._rawAsyncValidators))}hasValidator(t){return lI(this._rawValidators,t)}hasAsyncValidator(t){return lI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(We(te({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new cm(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new cm(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(We(te({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new am(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new am(!0,r))}markAsPending(t={}){this.status=sp;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ap(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(We(te({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=sm,this.errors=null,this._forEachChild(i=>{i.disable(We(te({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fI(this.value,r)),this._events.next(new ap(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(We(te({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=om,this._forEachChild(r=>{r.enable(We(te({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(We(te({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===om||this.status===sp)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fI(this.value,n)),this._events.next(new ap(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(We(te({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sm:om}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=sp,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=JV(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ap(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Xt,this.statusChanges=new Xt}_calculateStatus(){return this._allControlsDisabled()?sm:this.errors?uI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sp)?sp:this._anyControlsHaveStatus(uI)?uI:om}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new am(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new cm(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mI(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Y9(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=$9(this._rawAsyncValidators)}},pI=class extends lp{constructor(t,n,r){super(AA(n),xA(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){a2(this,!0,t),Object.keys(t).forEach(r=>{s2(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var bA=class extends pI{};var vI=new de("",{providedIn:"root",factory:()=>_I}),_I="always";function G9(e,t){return[...t.path,e]}function c2(e,t,n=_I){W9(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),K9(e,t),Z9(e,t),X9(e,t),z9(e,t)}function YV(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),q9(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function hI(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function z9(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function W9(e,t){let n=i2(e);t.validator!==null?e.setValidators(jV(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=o2(e);t.asyncValidator!==null?e.setAsyncValidators(jV(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();hI(t._rawValidators,i),hI(t._rawAsyncValidators,i)}function q9(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=i2(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=o2(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return hI(t._rawValidators,r),hI(t._rawAsyncValidators,r),n}function K9(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&u2(e,t)})}function X9(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&u2(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function u2(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Z9(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function l2(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function J9(e){return Object.getPrototypeOf(e.constructor)===k9}function d2(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===dp?n=o:J9(o)?r=o:i=o}),i||r||n||null}function $V(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function GV(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var cp=class extends lp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(AA(n),xA(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mI(n)&&(n.nonNullable||n.initialValueIsDefault)&&(GV(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$V(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$V(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){GV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Q9={provide:bl,useExisting:fd(()=>RA)},zV=Promise.resolve(),RA=(()=>{class e extends bl{_changeDetectorRef;callSetDisabledState;control=new cp;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Xt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=d2(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),l2(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){c2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){zV.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&gu(r);zV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?G9(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(oe(TA,9),oe(KV,10),oe(XV,10),oe(NA,10),oe(Ra,8),oe(vI,8))};static \u0275dir=Br({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pi([Q9]),hu,Es]})}return e})();var f2=new de(""),e7={provide:bl,useExisting:fd(()=>MA)},MA=(()=>{class e extends bl{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new Xt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=d2(this,i)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&YV(r,this,!1),c2(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}l2(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&YV(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||e)(oe(KV,10),oe(XV,10),oe(NA,10),oe(f2,8),oe(vI,8))};static \u0275dir=Br({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Pi([e7]),hu,Es]})}return e})();var p2=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=so({type:e});static \u0275inj=no({})}return e})(),wA=class extends lp{constructor(t,n,r){super(AA(n),xA(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){a2(this,!1,t),t.forEach((r,i)=>{s2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function WV(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var h2=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return WV(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new pI(i,o)}record(n,r=null){let i=this._reduceControls(n);return new bA(i,r)}control(n,r,i){let o={};return this.useNonNullable?(WV(r)?o=r:(o.validators=r,o.asyncValidators=i),new cp(n,We(te({},o),{nonNullable:!0}))):new cp(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new wA(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof cp)return n;if(n instanceof lp)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var g2=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:vI,useValue:n.callSetDisabledState??_I}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=so({type:e});static \u0275inj=no({imports:[p2]})}return e})(),yI=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:f2,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:vI,useValue:n.callSetDisabledState??_I}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=so({type:e});static \u0275inj=no({imports:[p2]})}return e})();function t7(e,t){if(e&1&&(T(0,"div",8)(1,"div",9)(2,"h2",10),K(3,"Receipts"),N(),T(4,"div",11)(5,"p",12),K(6,"Upload"),N()()(),T(7,"div",13),be(8,"input",14),Gt(),T(9,"svg",15),be(10,"path",16),N()()()),e&2){let n=Ie();$(8),ae("formControl",n.searchControl)}}function n7(e,t){if(e&1&&(T(0,"div",17),K(1),N()),e&2){let n=Ie();$(),en(" ",n.errorMessage," ")}}function r7(e,t){e&1&&(T(0,"div",18)(1,"div",19),K(2,"Loading receipts..."),N()())}function i7(e,t){e&1&&(T(0,"div",20)(1,"div",21),be(2,"div",22),T(3,"div",23)(4,"p",24),K(5,"No receipts found"),N(),T(6,"p",25),K(7,"Start uploading your grocery receipts to track your spending"),N()(),T(8,"button",26)(9,"span",27),K(10,"Upload Receipt"),N()()()())}function o7(e,t){e&1&&(T(0,"div",32),K(1," No receipts found matching your search. "),N())}function s7(e,t){if(e&1){let n=Pt();T(0,"div",33),Le("click",function(){let i=nt(n).$implicit,o=Ie(2);return rt(o.selectReceipt(i))}),T(1,"div",34),be(2,"div",35),T(3,"div",36)(4,"p",37),K(5),N(),T(6,"p",38),K(7),Tr(8,"currency"),Tr(9,"date"),N()()(),T(10,"div",39)(11,"a",40),Le("click",function(i){return nt(n),rt(i.stopPropagation())}),Gt(),T(12,"svg",41),be(13,"path",42),N()()()()}if(e&2){let n=t.$implicit,r=Ie(2);$(2),xa("background-image","url("+n.blobUrl+")"),$(3),en(" ",n.storeName," "),$(2),xT(" ",ri(8,6,r.extractTotal(n.receiptText))," \xB7 ",OT(9,8,r.parseDateFromText(n.receiptText),"MMM d, y")," "),$(4),ae("href",n.blobUrl,wa)}}function a7(e,t){if(e&1){let n=Pt();T(0,"div",43)(1,"button",44),Le("click",function(){nt(n);let i=Ie(2);return rt(i.loadMoreReceipts())}),K(2),N()()}if(e&2){let n=Ie(2);$(),ae("disabled",n.loadingMore),$(),en(" ",n.loadingMore?"Loading...":"Load More"," ")}}function c7(e,t){if(e&1&&(T(0,"div",28),st(1,o7,2,0,"div",29)(2,s7,14,11,"div",30)(3,a7,3,2,"div",31),N()),e&2){let n=Ie();$(),ae("ngIf",n.filteredReceipts.length===0),$(),ae("ngForOf",n.filteredReceipts),$(),ae("ngIf",n.hasMoreResults&&!n.loading&&n.filteredReceipts.length===n.receipts.length)}}function u7(e,t){if(e&1&&(NT(0),T(1,"div",65)(2,"span"),K(3),N(),T(4,"span",66),K(5),Tr(6,"currency"),N()(),AT()),e&2){let n=t.$implicit;$(3),Sr(n.name),$(2),Sr(ri(6,2,n.price))}}function l7(e,t){if(e&1){let n=Pt();T(0,"div",45)(1,"div",46)(2,"div",47)(3,"h3",48),K(4,"Receipt Details"),N(),T(5,"button",49),Le("click",function(){nt(n);let i=Ie();return rt(i.closePreview())}),Gt(),T(6,"svg",50),be(7,"path",51),N()()(),Wn(),T(8,"div",52)(9,"div",53),be(10,"app-cached-image",54),N(),T(11,"div",55)(12,"div",56)(13,"p",57),K(14),N(),T(15,"p",19),K(16),Tr(17,"date"),N()(),T(18,"div",58),st(19,u7,7,4,"ng-container",59),N(),T(20,"div",60)(21,"div",61)(22,"span"),K(23,"Total"),N(),T(24,"span"),K(25),Tr(26,"currency"),N()()()()(),T(27,"div",62)(28,"button",63),Le("click",function(){nt(n);let i=Ie();return rt(i.closePreview())}),K(29," Close "),N(),T(30,"a",64),K(31," Download "),N()()()()}if(e&2){let n=Ie();$(10),ae("src",n.selectedReceipt.blobUrl),$(4),Sr(n.extractStoreName(n.selectedReceipt.receiptText)),$(2),Sr(OT(17,6,n.parseDateFromText(n.selectedReceipt.receiptText),"MMM d, y h:mm a")),$(3),ae("ngForOf",n.parseReceiptItems(n.selectedReceipt.receiptText)),$(6),Sr(ri(26,9,n.extractTotal(n.selectedReceipt.receiptText))),$(5),ae("href",n.selectedReceipt.blobUrl,wa)}}var EI=class e{constructor(t,n){this.auth=t;this.receiptsService=n}receipts=[];filteredReceipts=[];searchControl=new cp("");selectedReceipt=null;loading=!0;loadingMore=!1;errorMessage="";userEmail;loading$;hasMoreResults=!1;continuationToken="";pageSize=10;subscriptions=new bt;ngOnInit(){this.loading$=this.receiptsService.loading$,this.subscriptions.add(this.auth.user$.subscribe(t=>{t&&(this.userEmail=t.email,this.loadInitialReceipts())})),this.subscriptions.add(this.searchControl.valueChanges.pipe(C0(300),b0()).subscribe(t=>{this.filterReceipts(t||"")}))}ngOnDestroy(){this.subscriptions.unsubscribe()}filterReceipts(t){if(!t.trim()){this.filteredReceipts=this.receipts;return}t=t.toLowerCase(),this.filteredReceipts=this.receipts.filter(n=>n.storeName.toLowerCase().includes(t)||n.receiptText.toLowerCase().includes(t))}loadInitialReceipts(){this.loading=!0,this.errorMessage="",this.receiptsService.getReceipts(this.userEmail,this.pageSize).subscribe({next:t=>{this.receipts=t.items,this.filteredReceipts=t.items,this.continuationToken=t.continuationToken,this.hasMoreResults=t.hasMoreResults,this.loading=!1},error:t=>{this.errorMessage="Error fetching receipts.",console.error(t),this.loading=!1}})}loadMoreReceipts(){!this.hasMoreResults||this.loadingMore||!this.continuationToken||(this.loadingMore=!0,this.errorMessage="",this.receiptsService.loadNextPage(this.userEmail,this.continuationToken,this.pageSize).subscribe({next:t=>{this.receipts=[...this.receipts,...t.items],this.filterReceipts(this.searchControl.value||""),this.continuationToken=t.continuationToken,this.hasMoreResults=t.hasMoreResults,this.loadingMore=!1},error:t=>{this.errorMessage="Error loading more receipts.",console.error(t),this.loadingMore=!1}}))}parseDateFromText(t){let n=[/(\d{1,2})[-/](\d{1,2})[-/](\d{2,4})/,/(\d{4})[-/](\d{1,2})[-/](\d{1,2})/,/(\d{1,2})[-\s]([A-Za-z]{3,})[-\s](\d{2,4})/];for(let r of n){let i=t.match(r);if(i)try{let o=new Date(i[0]);if(!isNaN(o.getTime()))return o}catch(o){console.warn("Error parsing date:",o)}}return new Date}selectReceipt(t){this.selectedReceipt=t}closePreview(){this.selectedReceipt=null}extractStoreName(t){return t.split(`
`)[0]||"Unknown Store"}parseReceiptItems(t){let n=t.split(`
`),r=[],i=/\d+\.\d{2}/;for(let o of n){let s=o.match(i);if(s){let a=s[0],c=o.replace(a,"").trim();!o.toLowerCase().includes("total")&&!o.toLowerCase().includes("tax")&&!o.toLowerCase().includes("subtotal")&&r.push({name:c.replace(/[A-Z]\s*$/,"").trim(),price:a})}}return r}extractTotal(t){let n=/(?:total|grand total|amount due)[^\d]*(\d+\.\d{2})/i,r=t.match(n);return r?r[1]:"0.00"}static \u0275fac=function(n){return new(n||e)(oe(It),oe(ip))};static \u0275cmp=Ut({type:e,selectors:[["app-receipts"]],features:[Pi([It,ip])],decls:8,vars:6,consts:[[1,"relative","flex","size-full","min-h-screen","flex-col","bg-white","overflow-x-hidden",2,"font-family",'Manrope, "Noto Sans", sans-serif'],["class","flex flex-col bg-white p-4 pb-2",4,"ngIf"],["class","mx-4 mb-4 p-3 bg-red-100 text-red-700 rounded",4,"ngIf"],[1,"flex-1"],["class","flex justify-center items-center p-8",4,"ngIf"],["class","pt-5 p-5",4,"ngIf"],["class","flex flex-col",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 overflow-y-auto p-4",4,"ngIf"],[1,"flex","flex-col","bg-white","p-4","pb-2"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-[#111418]","text-lg","font-bold","leading-tight","tracking-[-0.015em]","flex-1","text-center","pl-12"],[1,"flex","w-12","items-center","justify-end"],[1,"text-[#637588]","text-base","font-bold","leading-normal","tracking-[0.015em]","shrink-0"],[1,"relative","w-full"],["type","text","placeholder","Search receipts...",1,"w-full","px-4","py-2","border","rounded-xl","bg-[#f0f2f4]","text-[#111418]","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"formControl"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"absolute","right-3","top-1/2","transform","-translate-y-1/2","h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],[1,"mx-4","mb-4","p-3","bg-red-100","text-red-700","rounded"],[1,"flex","justify-center","items-center","p-8"],[1,"text-gray-500"],[1,"pt-5","p-5"],[1,"flex","flex-col","items-center","gap-6"],[1,"bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl","w-full","max-w-[360px]",2,"background-image",'url("https://cdn.usegalileo.ai/sdxl10/1338df6f-abba-4a5c-9342-31007ec882e6.png")'],[1,"flex","max-w-[480px]","flex-col","items-center","gap-2"],[1,"text-[#111418]","text-lg","font-bold","leading-tight","tracking-[-0.015em]","max-w-[480px]","text-center"],[1,"text-[#111418]","text-sm","font-normal","leading-normal","max-w-[480px]","text-center"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-10","px-4","bg-[#f0f2f4]","text-[#111418]","text-sm","font-bold","leading-normal","tracking-[0.015em]"],[1,"truncate"],[1,"flex","flex-col"],["class","p-8 text-center text-gray-500",4,"ngIf"],["class","flex items-center gap-4 bg-white px-4 py-3 justify-between cursor-pointer hover:bg-gray-100 border-b",3,"click",4,"ngFor","ngForOf"],["class","p-4 flex justify-center",4,"ngIf"],[1,"p-8","text-center","text-gray-500"],[1,"flex","items-center","gap-4","bg-white","px-4","py-3","justify-between","cursor-pointer","hover:bg-gray-100","border-b",3,"click"],[1,"flex","items-center","gap-4"],[1,"bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-lg","h-14","w-20"],[1,"flex","flex-col","justify-center"],[1,"text-[#111418]","text-base","font-medium","leading-normal","line-clamp-1"],[1,"text-[#637588]","text-sm","font-normal","leading-normal","line-clamp-2"],[1,"shrink-0"],["download","",1,"text-[#111418]","flex","size-7","items-center","justify-center",3,"click","href"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 256 256"],["d","M240,136v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V136a16,16,0,0,1,16-16H72a8,8,0,0,1,0,16H32v64H224V136H184a8,8,0,0,1,0-16h40A16,16,0,0,1,240,136Zm-117.66-2.34a8,8,0,0,0,11.32,0l48-48a8,8,0,0,0-11.32-11.32L136,108.69V24a8,8,0,0,0-16,0v84.69L85.66,74.34A8,8,0,0,0,74.34,85.66Z"],[1,"p-4","flex","justify-center"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600","disabled:bg-gray-400",3,"click","disabled"],[1,"fixed","inset-0","bg-black","bg-opacity-75","flex","items-center","justify-center","z-50","overflow-y-auto","p-4"],[1,"bg-white","rounded-lg","max-w-4xl","w-full","max-h-[90vh]","flex","flex-col"],[1,"flex","justify-between","items-center","p-4","border-b"],[1,"text-lg","font-semibold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","flex-col","md:flex-row","gap-4","p-4","overflow-y-auto"],[1,"md:w-1/2"],[1,"rounded-lg","shadow-lg","max-h-[60vh]","w-full","object-contain",3,"src"],[1,"md:w-1/2","font-mono","text-sm","whitespace-pre-wrap","bg-gray-50","p-4","rounded-lg","overflow-y-auto","max-h-[60vh]"],[1,"mb-4"],[1,"font-bold"],[1,"space-y-2"],[4,"ngFor","ngForOf"],[1,"mt-4","pt-4","border-t"],[1,"flex","justify-between","font-bold"],[1,"border-t","p-4","flex","justify-end","gap-2"],[1,"px-4","py-2","text-gray-600","hover:bg-gray-100","rounded",3,"click"],["download","",1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",3,"href"],[1,"flex","justify-between","items-start"],[1,"ml-4"]],template:function(n,r){n&1&&(T(0,"div",0),st(1,t7,11,1,"div",1)(2,n7,2,1,"div",2),T(3,"div",3),st(4,r7,3,0,"div",4)(5,i7,11,0,"div",5)(6,c7,4,3,"div",6),N(),st(7,l7,32,11,"div",7),N()),n&2&&($(),ae("ngIf",r.receipts.length>0),$(),ae("ngIf",r.errorMessage),$(2),ae("ngIf",r.loading),$(),ae("ngIf",r.receipts.length===0&&!r.loading),$(),ae("ngIf",r.receipts.length>0),$(),ae("ngIf",r.selectedReceipt))},dependencies:[Yt,Ma,tn,_1,b_,Oa,yI,dp,gI,MA,cI],encapsulation:2})};var fp=class e{constructor(t){this.http=t}apiBaseUrl="https://ocr-function-ai-grocery-bxgke3bjaedhckaz.eastus-01.azurewebsites.net/api/family";listsSubject=new wt([]);isLoading=new wt(!1);fetchFromApi(t){return this.isLoading.next(!0),this.http.get(`${this.apiBaseUrl}/${t}/shoppingLists`).pipe(St(n=>this.listsSubject.next(n)),Lt(n=>(console.error("Error fetching shopping lists:",n),rr)),Fr(()=>this.isLoading.next(!1)))}getShoppingLists(t){return this.fetchFromApi(t).subscribe(),this.listsSubject.asObservable()}saveShoppingList(t){return this.isLoading.next(!0),this.http.post(`${this.apiBaseUrl}/${t.familyId}/shoppingLists`,t).pipe(St(n=>{let r=this.listsSubject.value,i=[t,...r];this.listsSubject.next(i)}),Lt(n=>{throw console.error("Error saving shopping list:",n),n}),Fr(()=>this.isLoading.next(!1)))}static \u0275fac=function(n){return new(n||e)(se(si))};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})};function f7(e,t){if(e&1){let n=Pt();T(0,"div",8),Le("click",function(){let i=nt(n).$implicit,o=Ie(2);return rt(o.filterByStore(i))}),T(1,"p",9),K(2),N()()}if(e&2){let n=t.$implicit,r=Ie(2);An("bg-blue-500",r.selectedStore===n),$(),An("text-white",r.selectedStore===n),$(),en(" ",n," ")}}function p7(e,t){if(e&1&&(T(0,"div",6),st(1,f7,3,5,"div",7),N()),e&2){let n=Ie();$(),ae("ngForOf",n.getStoreNames())}}function h7(e,t){e&1&&(T(0,"div",10)(1,"div",11),be(2,"div",12),T(3,"div",13)(4,"p",14),K(5,"No items to show"),N(),T(6,"p",15),K(7,"Upload a receipt to see items from different stores"),N()(),T(8,"button",16)(9,"span",17),K(10,"Upload Receipt"),N()()()())}function g7(e,t){if(e&1){let n=Pt();T(0,"div",20)(1,"label",21)(2,"input",22),Le("change",function(){let i=nt(n).$implicit,o=Ie(2);return rt(o.toggleItem(i))}),N(),T(3,"span",23),K(4),N()()()}if(e&2){let n=t.$implicit,r=Ie(2);$(2),ae("checked",r.isItemAdded(n)),$(2),Sr(n)}}function m7(e,t){if(e&1&&(T(0,"div",18),st(1,g7,5,2,"div",19),N()),e&2){let n=Ie();$(),ae("ngForOf",n.getItemsFromStore())}}function v7(e,t){if(e&1&&(T(0,"div",30),K(1),N()),e&2){let n=t.$implicit;$(),en(" - ",n," ")}}function _7(e,t){if(e&1&&(T(0,"div",27)(1,"div",28),K(2),N(),st(3,v7,2,1,"div",29),N()),e&2){let n=t.$implicit;$(2),en("\u{1F3EA} ",n.key,""),$(),ae("ngForOf",n.value)}}function y7(e,t){if(e&1&&(T(0,"div",24)(1,"h3",25),K(2,"Selected Items"),N(),st(3,_7,4,2,"div",26),Tr(4,"keyvalue"),N()),e&2){let n=Ie();$(3),ae("ngForOf",ri(4,1,n.getGroupedSelectedItems()))}}function E7(e,t){if(e&1){let n=Pt();T(0,"button",31),Le("click",function(){nt(n);let i=Ie();return rt(i.shareToWhatsApp())}),Gt(),T(1,"svg",32),be(2,"path",33),N()()}}var DI=class e{constructor(t,n,r){this.fb=t;this.shoppingListService=n;this.authService=r;this.shoppingListForm=this.fb.group({storeName:[""],items:this.fb.array([])})}shoppingListForm;familyId;selectedStore=null;previousLists=[];storeItems={};addedItems=new Map;loading$;subscriptions=new bt;ngOnInit(){this.loading$=this.shoppingListService.isLoading,this.subscriptions.add(this.authService.user$.subscribe(t=>{t?.familyId&&(this.familyId=t.familyId,this.loadPreviousLists())}))}ngOnDestroy(){this.subscriptions.unsubscribe()}get items(){return this.shoppingListForm.get("items")}toggleItem(t){this.addedItems.has(t)?(this.addedItems.delete(t),console.log(`Removed: ${t}`)):this.selectedStore&&(this.addedItems.set(t,this.selectedStore),console.log(`Added: ${t} from ${this.selectedStore}`))}loadPreviousLists(){return D(this,null,function*(){if(!this.familyId){console.warn("No family ID available");return}this.subscriptions.add(this.shoppingListService.getShoppingLists(this.familyId).subscribe({next:t=>{this.previousLists=t,t.length>0&&(this.storeItems=t[0].storeItems,!this.selectedStore&&this.getStoreNames().length>0&&this.filterByStore(this.getStoreNames()[0]))},error:t=>{console.error("Error fetching shopping lists:",t)}}))})}getStoreNames(){return Object.keys(this.storeItems||{})}getItemsFromStore(){return this.selectedStore?this.storeItems[this.selectedStore]||[]:[]}filterByStore(t){this.selectedStore=t}isItemAdded(t){return this.addedItems.has(t)}getSelectedItemsCount(){return this.addedItems.size}getGroupedSelectedItems(){let t={};return this.addedItems.forEach((n,r)=>{t[n]||(t[n]=[]),t[n].push(r)}),t}saveShoppingList(){if(!this.familyId){console.error("No family ID available");return}let t=this.getGroupedSelectedItems(),n={familyId:this.familyId,items:t,createdDate:new Date};this.subscriptions.add(this.shoppingListService.saveShoppingList(n).subscribe({next:()=>{alert("Shopping list saved successfully!"),this.loadPreviousLists()},error:r=>{console.error("Error saving shopping list:",r),alert("Failed to save shopping list.")}}))}shareToWhatsApp(){let t=this.getGroupedSelectedItems(),n=`Shopping List

`;Object.entries(t).forEach(([o,s])=>{n+=`\u{1F3EA} ${o}:
`,s.forEach(a=>{n+=`- ${a}
`}),n+=`
`}),n+=`
Created: ${new Date().toLocaleDateString()}`;let i=`https://api.whatsapp.com/send?text=${encodeURIComponent(n)}`;window.open(i,"_blank")}static \u0275fac=function(n){return new(n||e)(oe(h2),oe(fp),oe(It))};static \u0275cmp=Ut({type:e,selectors:[["app-lists"]],features:[Pi([fp])],decls:7,vars:5,consts:[[1,"relative","flex","size-full","min-h-screen","flex-col","bg-white","justify-between","group/design-root","overflow-x-hidden"],["class","flex gap-3 p-5 overflow-x-auto",4,"ngIf"],["class","flex flex-col px-4 pt-4",4,"ngIf"],["class","p-10",4,"ngIf"],["class","mt-6 px-4",4,"ngIf"],["class","fixed bottom-2 right-6 flex items-center justify-center w-14 h-14 rounded-full bg-green-500 text-white shadow-lg hover:bg-green-600","style","z-index: 100000; margin-bottom: 31%;","aria-label","Share to WhatsApp",3,"click",4,"ngIf"],[1,"flex","gap-3","p-5","overflow-x-auto"],["class","flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4 cursor-pointer",3,"bg-blue-500","click",4,"ngFor","ngForOf"],[1,"flex","h-8","shrink-0","items-center","justify-center","gap-x-2","rounded-xl","bg-[#f0f2f4]","pl-4","pr-4","cursor-pointer",3,"click"],[1,"text-[#111418]","text-sm","font-medium","leading-normal"],[1,"flex","flex-col","px-4","pt-4"],[1,"flex","flex-col","items-center","gap-6"],[1,"bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl","w-full","max-w-[360px]",2,"background-image",'url("https://cdn.usegalileo.ai/sdxl10/1338df6f-abba-4a5c-9342-31007ec882e6.png")'],[1,"flex","max-w-[480px]","flex-col","items-center","gap-2"],[1,"text-[#111418]","text-lg","font-bold","leading-tight","tracking-[-0.015em]","max-w-[480px]","text-center"],[1,"text-[#111418]","text-sm","font-normal","leading-normal","max-w-[480px]","text-center"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-10","px-4","bg-[#f0f2f4]","text-[#111418]","text-sm","font-bold","leading-normal","tracking-[0.015em]"],[1,"truncate"],[1,"p-10"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"flex","gap-x-3","py-3","flex-row-reverse","justify-between","items-center","cursor-pointer"],["type","checkbox",1,"h-5","w-5","rounded","border-[#dce0e5]","border-2","bg-transparent","text-[#1980e6]","checked:bg-[#1980e6]","checked:border-[#1980e6]","checked:bg-[image:--checkbox-tick-svg]","focus:ring-0","focus:ring-offset-0","focus:border-[#dce0e5]","focus:outline-none",3,"change","checked"],[1,"text-[#111418]","text-base","font-normal","leading-normal","flex-grow"],[1,"mt-6","px-4"],[1,"text-[#111418]","text-lg","font-semibold","mb-3"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"font-medium","text-[#111418]","mb-2"],["class","ml-4 text-[#637588]",4,"ngFor","ngForOf"],[1,"ml-4","text-[#637588]"],["aria-label","Share to WhatsApp",1,"fixed","bottom-2","right-6","flex","items-center","justify-center","w-14","h-14","rounded-full","bg-green-500","text-white","shadow-lg","hover:bg-green-600",2,"z-index","100000","margin-bottom","31%",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-6","w-6"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div"),st(2,p7,2,1,"div",1)(3,h7,11,0,"div",2)(4,m7,2,1,"div",3)(5,y7,5,3,"div",4),N(),st(6,E7,3,0,"button",5),N()),n&2&&($(2),ae("ngIf",r.getStoreNames().length>0),$(),ae("ngIf",r.getStoreNames().length===0),$(),ae("ngIf",r.selectedStore),$(),ae("ngIf",r.getSelectedItemsCount()>0),$(),ae("ngIf",r.getStoreNames().length>0))},dependencies:[yI,Yt,Ma,tn,v1,Oa],encapsulation:2})};function D7(e,t){if(e&1){let n=Pt();T(0,"section",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"p",9),K(5),N(),T(6,"p",10),K(7),N()(),be(8,"div",11),N()(),T(9,"div",12)(10,"h3",13),K(11,"Invite Family"),N(),T(12,"div",14)(13,"label",15)(14,"input",16),MT("ngModelChange",function(i){nt(n);let o=Ie();return VO(o.inviteEmail,i)||(o.inviteEmail=i),rt(i)}),N()(),T(15,"button",17),Le("click",function(){nt(n);let i=Ie();return rt(i.sendInvite())}),T(16,"span",18),K(17,"Send Invitation"),N()()(),T(18,"p",19),K(19," We'll send them an invitation to join the family network. "),N()()()}if(e&2){let n=Ie();$(5),Sr(n.currentFamily.familyName),$(2),en("Primary Contact: ",n.currentFamily.primaryEmail,""),$(7),RT("ngModel",n.inviteEmail),$(),ae("disabled",!n.inviteEmail||!n.familyService.getFamilyId())}}function I7(e,t){if(e&1){let n=Pt();T(0,"div",23)(1,"div",24)(2,"div")(3,"p",25),K(4),N(),T(5,"p",26),K(6),Tr(7,"date"),N()(),T(8,"div",27)(9,"button",28),Le("click",function(){let i=nt(n).$implicit,o=Ie(2);return rt(o.processInvite(i.inviteId,i.invitedUserEmail,"accept"))}),K(10," Accept "),N(),T(11,"button",29),Le("click",function(){let i=nt(n).$implicit,o=Ie(2);return rt(o.processInvite(i.inviteId,i.invitedUserEmail,"reject"))}),K(12," Decline "),N()()()()}if(e&2){let n=t.$implicit;$(4),en("From: ",n.inviteId,""),$(2),en("Sent: ",ri(7,2,n.createdAt),"")}}function S7(e,t){if(e&1&&(T(0,"section",20)(1,"h3",13),K(2,"Pending Invites"),N(),T(3,"div",21),st(4,I7,13,4,"div",22),N()()),e&2){let n=Ie();$(4),ae("ngForOf",n.invites)}}function T7(e,t){if(e&1&&(T(0,"div",30)(1,"p"),K(2),N()()),e&2){let n=Ie();$(2),Sr(n.error)}}function C7(e,t){if(e&1&&(T(0,"div",31)(1,"p"),K(2),N()()),e&2){let n=Ie();$(2),Sr(n.successMessage)}}var II=class e{constructor(t,n){this.familyService=t;this.authService=n}currentFamily=null;invites=[];loading=!0;error="";successMessage="";inviteEmail="";user;subscriptions=[];ngOnInit(){this.loadData()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadData(){return D(this,null,function*(){let t=this.authService.user$.pipe(_r(1)).subscribe(n=>{n?.email&&(this.user=n,this.fetchFamilyDetails(n.email),this.fetchInvites(n.email))});this.subscriptions.push(t)})}fetchFamilyDetails(t){let n=this.familyService.getFamilyId();if(n){let r=this.familyService.getFamilyDetails(n).subscribe({next:i=>{this.currentFamily=i[0],this.loading=!1},error:i=>{console.error("Family fetch error:",i),this.error="Failed to load family details",this.loading=!1}});this.subscriptions.push(r)}}fetchInvites(t){let n=this.familyService.getPendingInvites(t).subscribe({next:r=>{this.invites=r},error:r=>{this.error="Failed to load invites"}});this.subscriptions.push(n)}sendInvite(){if(!this.user?.email||!this.inviteEmail)return;let t=this.familyService.getFamilyId();if(!t){this.error="Family ID not found";return}let n=this.familyService.sendInvite(t,this.inviteEmail,this.user.email).subscribe({next:()=>{this.successMessage="Invitation sent successfully!",this.inviteEmail="",setTimeout(()=>this.successMessage="",3e3)},error:r=>{this.error="Failed to send invitation",setTimeout(()=>this.error="",3e3)}});this.subscriptions.push(n)}processInvite(t,n,r){let i=this.familyService.processInvite(t,n,r).subscribe({next:()=>{this.successMessage=`Invitation ${r}ed successfully!`,this.loadData(),setTimeout(()=>this.successMessage="",3e3)},error:o=>{this.error=`Failed to ${r} invitation`,setTimeout(()=>this.error="",3e3)}});this.subscriptions.push(i)}static \u0275fac=function(n){return new(n||e)(oe(Lc),oe(It))};static \u0275cmp=Ut({type:e,selectors:[["app-familygroups"]],decls:5,vars:4,consts:[[1,"container","mx-auto"],["class","mb-8",4,"ngIf"],["class","mb-8 px-4",4,"ngIf"],["class","mx-4 mb-4 p-4 rounded-xl bg-red-50 text-red-700 border-l-4 border-red-500",4,"ngIf"],["class","mx-4 mb-4 p-4 rounded-xl bg-green-50 text-green-700 border-l-4 border-green-500",4,"ngIf"],[1,"mb-8"],[1,"p-4"],[1,"flex","items-stretch","justify-between","gap-4","rounded-xl","bg-[#FFFBF5]","p-4"],[1,"flex","flex-col","gap-1","flex-[2_2_0px]"],[1,"text-[#1C160C]","text-base","font-bold","leading-tight"],[1,"text-[#A18249]","text-sm","font-normal","leading-normal"],[1,"w-full","bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl","flex-1",2,"background-image","url('https://cdn.usegalileo.ai/sdxl10/63d28c40-8f5d-4f2c-aa7f-a218c9b6af24.png')"],[1,"px-4","pt-6"],[1,"text-[#1C160C]","text-lg","font-bold","leading-tight","tracking-[-0.015em]","pb-4"],[1,"flex","flex-col","max-w-[480px]","gap-4"],[1,"flex","flex-col","w-full"],["type","email","placeholder","Enter email address",1,"form-input","w-full","resize-none","overflow-hidden","rounded-xl","text-[#1C160C]","focus:outline-0","focus:ring-0","border","border-[#E9DFCE]","bg-[#FFFFFF]","focus:border-[#E9DFCE]","h-14","placeholder:text-[#A18249]","p-[15px]","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],[1,"w-full","flex","justify-center","items-center","rounded-xl","h-14","px-4","bg-[#1C160C]","text-white","text-base","font-bold","leading-normal","tracking-[0.015em]","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"truncate"],[1,"text-[#1C160C]","text-sm","font-normal","leading-normal","mt-2"],[1,"mb-8","px-4"],[1,"grid","gap-4"],["class","p-4 rounded-xl bg-[#FFFBF5] border border-[#E9DFCE]",4,"ngFor","ngForOf"],[1,"p-4","rounded-xl","bg-[#FFFBF5]","border","border-[#E9DFCE]"],[1,"flex","flex-col","gap-3"],[1,"text-[#1C160C]","font-medium"],[1,"text-[#A18249]","text-sm"],[1,"flex","gap-2"],[1,"flex","items-center","justify-center","rounded-xl","h-10","px-4","bg-[#1C160C]","text-white","text-sm","font-bold",3,"click"],[1,"flex","items-center","justify-center","rounded-xl","h-10","px-4","bg-transparent","text-[#1C160C]","text-sm","font-bold","border","border-[#E9DFCE]",3,"click"],[1,"mx-4","mb-4","p-4","rounded-xl","bg-red-50","text-red-700","border-l-4","border-red-500"],[1,"mx-4","mb-4","p-4","rounded-xl","bg-green-50","text-green-700","border-l-4","border-green-500"]],template:function(n,r){n&1&&(T(0,"div",0),st(1,D7,20,4,"section",1)(2,S7,5,1,"section",2)(3,T7,3,1,"div",3)(4,C7,3,1,"div",4),N()),n&2&&($(),ae("ngIf",r.currentFamily),$(),ae("ngIf",r.invites.length>0),$(),ae("ngIf",r.error),$(),ae("ngIf",r.successMessage))},dependencies:[Yt,Ma,tn,b_,g2,dp,gI,RA],encapsulation:2})};var m2=[{path:"login",component:iI},{path:"purchases",component:aI,canActivate:[Cl]},{path:"receipts",component:EI,canActivate:[Cl]},{path:"lists",component:DI,canActivate:[Cl]},{path:"family",component:II,canActivate:[Cl]},{path:"",redirectTo:"/purchases",pathMatch:"full"}];var _2=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},b7=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},SI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,p=(a&15)<<2|u>>6,f=u&63;c||(f=64,s||(p=64)),r.push(n[l],n[d],n[p],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_2(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):b7(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let u=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new kA;let p=o<<2|a>>4;if(r.push(p),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let h=u<<6&192|d;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},kA=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},w7=function(e){let t=_2(e);return SI.encodeByteArray(t,!0)},LA=function(e){return w7(e).replace(/\./g,"")},TI=function(e){try{return SI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var N7=()=>y2().__FIREBASE_DEFAULTS__,A7=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},x7=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&TI(e[1]);return t&&JSON.parse(t)},UA=()=>{try{return N7()||A7()||x7()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},E2=e=>{var t,n;return(n=(t=UA())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]};var VA=()=>{var e;return(e=UA())===null||e===void 0?void 0:e.config},jA=e=>{var t;return(t=UA())===null||t===void 0?void 0:t[`_${e}`]};var wl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function I2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S2(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C2(){let e=gr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function CI(){try{return typeof indexedDB=="object"}catch{return!1}}function b2(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var R7="FirebaseError",To=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=R7,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}},Co=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?M7(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new To(i,a,r)}};function M7(e,t){return e.replace(P7,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var P7=/\{\$([^}]+)}/g;function w2(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pp(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(v2(o)&&v2(s)){if(!pp(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function v2(e){return e!==null&&typeof e=="object"}function um(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function N2(e,t){let n=new FA(e,t);return n.subscribe.bind(n)}var FA=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O7(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=OA),i.error===void 0&&(i.error=OA),i.complete===void 0&&(i.complete=OA);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function O7(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function OA(){}var KEe=4*60*60*1e3;function jc(e){return e&&e._delegate?e._delegate:e}var wi=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Nl="[DEFAULT]";var BA=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new wl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(F7(t))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Nl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return D(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Nl){return this.instances.has(t)}getOptions(t=Nl){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k7(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Nl){return this.component?this.component.multipleInstances?t:Nl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function k7(e){return e===Nl?void 0:e}function F7(e){return e.instantiationMode==="EAGER"}var bI=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new BA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var L7=[],Ft=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Ft||{}),U7={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},V7=Ft.INFO,j7={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},B7=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=j7[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Bc=class{constructor(t){this.name=t,this._logLevel=V7,this._logHandler=B7,this._userLogHandler=null,L7.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?U7[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}};var H7=(e,t)=>t.some(n=>e instanceof n),A2,x2;function Y7(){return A2||(A2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $7(){return x2||(x2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var R2=new WeakMap,YA=new WeakMap,M2=new WeakMap,HA=new WeakMap,GA=new WeakMap;function G7(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(cs(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&R2.set(n,e)}).catch(()=>{}),GA.set(t,e),t}function z7(e){if(YA.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});YA.set(e,t)}var $A={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return YA.get(e);if(t==="objectStoreNames")return e.objectStoreNames||M2.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function P2(e){$A=e($A)}function W7(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(wI(this),t,...n);return M2.set(r,t.sort?t.sort():[t]),cs(r)}:$7().includes(e)?function(...t){return e.apply(wI(this),t),cs(R2.get(this))}:function(...t){return cs(e.apply(wI(this),t))}}function q7(e){return typeof e=="function"?W7(e):(e instanceof IDBTransaction&&z7(e),H7(e,Y7())?new Proxy(e,$A):e)}function cs(e){if(e instanceof IDBRequest)return G7(e);if(HA.has(e))return HA.get(e);let t=q7(e);return t!==e&&(HA.set(e,t),GA.set(t,e)),t}var wI=e=>GA.get(e);function k2(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=cs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(cs(s.result),c.oldVersion,c.newVersion,cs(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var K7=["get","getKey","getAll","getAllKeys","count"],X7=["put","add","delete","clear"],zA=new Map;function O2(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zA.get(t))return zA.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=X7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||K7.includes(n)))return;let o=function(s,...a){return D(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return zA.set(t,o),o}P2(e=>We(te({},e),{get:(t,n,r)=>O2(t,n)||e.get(t,n,r),has:(t,n)=>!!O2(t,n)||e.has(t,n)}));var qA=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z7(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Z7(e){let t=e.getComponent();return t?.type==="VERSION"}var KA="@firebase/app",F2="0.11.1";var fa=new Bc("@firebase/app"),J7="@firebase/app-compat",Q7="@firebase/analytics-compat",eK="@firebase/analytics",tK="@firebase/app-check-compat",nK="@firebase/app-check",rK="@firebase/auth",iK="@firebase/auth-compat",oK="@firebase/database",sK="@firebase/data-connect",aK="@firebase/database-compat",cK="@firebase/functions",uK="@firebase/functions-compat",lK="@firebase/installations",dK="@firebase/installations-compat",fK="@firebase/messaging",pK="@firebase/messaging-compat",hK="@firebase/performance",gK="@firebase/performance-compat",mK="@firebase/remote-config",vK="@firebase/remote-config-compat",_K="@firebase/storage",yK="@firebase/storage-compat",EK="@firebase/firestore",DK="@firebase/vertexai",IK="@firebase/firestore-compat",SK="firebase",TK="11.3.1";var XA="[DEFAULT]",CK={[KA]:"fire-core",[J7]:"fire-core-compat",[eK]:"fire-analytics",[Q7]:"fire-analytics-compat",[nK]:"fire-app-check",[tK]:"fire-app-check-compat",[rK]:"fire-auth",[iK]:"fire-auth-compat",[oK]:"fire-rtdb",[sK]:"fire-data-connect",[aK]:"fire-rtdb-compat",[cK]:"fire-fn",[uK]:"fire-fn-compat",[lK]:"fire-iid",[dK]:"fire-iid-compat",[fK]:"fire-fcm",[pK]:"fire-fcm-compat",[hK]:"fire-perf",[gK]:"fire-perf-compat",[mK]:"fire-rc",[vK]:"fire-rc-compat",[_K]:"fire-gcs",[yK]:"fire-gcs-compat",[EK]:"fire-fst",[IK]:"fire-fst-compat",[DK]:"fire-vertex","fire-js":"fire-js",[SK]:"fire-js-all"};var lm=new Map,bK=new Map,ZA=new Map;function L2(e,t){try{e.container.addComponent(t)}catch(n){fa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function pa(e){let t=e.name;if(ZA.has(t))return fa.debug(`There were multiple attempts to register component ${t}.`),!1;ZA.set(t,e);for(let n of lm.values())L2(n,e);for(let n of bK.values())L2(n,e);return!0}function NI(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function us(e){return e==null?!1:e.settings!==void 0}var wK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hc=new Co("app","Firebase",wK);var JA=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hc.create("app-deleted",{appName:this._name})}};var hp=TK;function AI(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:XA,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Hc.create("bad-app-name",{appName:String(i)});if(n||(n=VA()),!n)throw Hc.create("no-options");let o=lm.get(i);if(o){if(pp(n,o.options)&&pp(r,o.config))return o;throw Hc.create("duplicate-app",{appName:i})}let s=new bI(i);for(let c of ZA.values())s.addComponent(c);let a=new JA(n,r,s);return lm.set(i,a),a}function fm(e=XA){let t=lm.get(e);if(!t&&e===XA&&VA())return AI();if(!t)throw Hc.create("no-app",{appName:e});return t}function xI(){return Array.from(lm.values())}function tr(e,t,n){var r;let i=(r=CK[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fa.warn(a.join(" "));return}pa(new wi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var NK="firebase-heartbeat-database",AK=1,dm="firebase-heartbeat-store",WA=null;function B2(){return WA||(WA=k2(NK,AK,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(dm)}catch(n){console.warn(n)}}}}).catch(e=>{throw Hc.create("idb-open",{originalErrorMessage:e.message})})),WA}function xK(e){return D(this,null,function*(){try{let n=(yield B2()).transaction(dm),r=yield n.objectStore(dm).get(H2(e));return yield n.done,r}catch(t){if(t instanceof To)fa.warn(t.message);else{let n=Hc.create("idb-get",{originalErrorMessage:t?.message});fa.warn(n.message)}}})}function U2(e,t){return D(this,null,function*(){try{let r=(yield B2()).transaction(dm,"readwrite");yield r.objectStore(dm).put(t,H2(e)),yield r.done}catch(n){if(n instanceof To)fa.warn(n.message);else{let r=Hc.create("idb-set",{originalErrorMessage:n?.message});fa.warn(r.message)}}})}function H2(e){return`${e.name}!${e.options.appId}`}var RK=1024,MK=30,QA=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ex(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=V2();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>MK){let s=OK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fa.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=V2(),{heartbeatsToSend:r,unsentEntries:i}=PK(this._heartbeatsCache.heartbeats),o=LA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return fa.warn(n),""}})}};function V2(){return new Date().toISOString().substring(0,10)}function PK(e,t=RK){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),j2(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),j2(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ex=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return CI()?b2().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield xK(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return U2(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return U2(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function j2(e){return LA(JSON.stringify({version:2,heartbeats:e})).length}function OK(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function kK(e){pa(new wi("platform-logger",t=>new qA(t),"PRIVATE")),pa(new wi("heartbeat",t=>new QA(t),"PRIVATE")),tr(KA,F2,e),tr(KA,F2,"esm2017"),tr("fire-js","")}kK("");var FK="firebase",LK="11.3.1";tr(FK,LK,"app");var gp=new vs("ANGULARFIRE2_VERSION");function nx(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var MI=(e,t)=>{let n=t?[t]:xI(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},tx=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(tx||{}),CDe=KO()&&typeof Zone<"u"?tx.WARN:tx.SILENT;var RI=class{zone;delegate;constructor(t,n=D0){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},pm=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=W(Rt);this.outsideAngular=n.runOutsideAngular(()=>new RI(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new RI(typeof Zone>"u"?void 0:Zone.current,Sp))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Al=class{constructor(t){return t}},hm=class{constructor(){return xI()}};function UK(e){return e&&e.length===1?e[0]:new Al(fm())}var rx=new de("angularfire2._apps"),VK={provide:Al,useFactory:UK,deps:[[new Oo,rx]]},jK={provide:hm,deps:[[new Oo,rx]]};function BK(e){return(t,n)=>{let r=n.get(Ss);tr("angularfire",gp.full,"core"),tr("angularfire",gp.full,"app"),tr("angular",$O.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new Al(i)}}function $2(e,...t){return ko([VK,jK,{provide:rx,useFactory:BK(e),multi:!0,deps:[Rt,Gn,pm,...t]}])}var HK=new Map,YK={activated:!1,tokenObservers:[]},$K={initialized:!1,enabled:!1};function bo(e){return HK.get(e)||Object.assign({},YK)}function K2(){return $K}var GK="https://content-firebaseappcheck.googleapis.com/v1";var zK="exchangeDebugToken",G2={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},$De=24*60*60*1e3;var ox=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return D(this,null,function*(){this.stop();try{this.pending=new wl,this.pending.promise.catch(n=>{}),yield WK(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new wl,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function WK(e){return new Promise(t=>{setTimeout(t,e)})}var qK={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Yc=new Co("appCheck","AppCheck",qK);function X2(e){if(!bo(e).activated)throw Yc.create("use-before-activation",{appName:e.name})}function Z2(r,i){return D(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(f){throw Yc.create("fetch-network-error",{originalErrorMessage:f?.message})}if(c.status!==200)throw Yc.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(f){throw Yc.create("fetch-parse-error",{originalErrorMessage:f?.message})}let l=u.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Yc.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let d=Number(l[1])*1e3,p=Date.now();return{token:u.token,expireTimeMillis:p+d,issuedAtTimeMillis:p}})}function J2(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${GK}/projects/${n}/apps/${r}:${zK}?key=${i}`,body:{debug_token:t}}}var KK="firebase-app-check-database",XK=1,sx="firebase-app-check-store";var PI=null;function ZK(){return PI||(PI=new Promise((e,t)=>{try{let n=indexedDB.open(KK,XK);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Yc.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(sx,{keyPath:"compositeKey"})}}}catch(n){t(Yc.create("storage-open",{originalErrorMessage:n?.message}))}}),PI)}function JK(e,t){return QK(eX(e),t)}function QK(e,t){return D(this,null,function*(){let r=(yield ZK()).transaction(sx,"readwrite"),o=r.objectStore(sx).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Yc.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function eX(e){return`${e.options.appId}-${e.name}`}var ax=new Bc("@firebase/app-check");function ix(e,t){return CI()?JK(e,t).catch(n=>{ax.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Q2(){return K2().enabled}function ej(){return D(this,null,function*(){let e=K2();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var tX={error:"UNKNOWN_ERROR"};function nX(e){return SI.encodeString(JSON.stringify(e),!1)}function cx(e,t=!1){return D(this,null,function*(){let n=e.app;X2(n);let r=bo(n),i=r.token,o;if(i&&!gm(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(gm(c)?i=c:yield ix(n,void 0))}if(!t&&i&&gm(i))return{token:i.token};let s=!1;if(Q2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Z2(J2(n,yield ej()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield ix(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield bo(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?ax.warn(c.message):ax.error(c),o=c}let a;return i?o?gm(i)?a={token:i.token,internalError:o}:a=W2(o):(a={token:i.token},r.token=i,yield ix(n,i)):a=W2(o),s&&sX(n,a),a})}function rX(e){return D(this,null,function*(){let t=e.app;X2(t);let{provider:n}=bo(t);if(Q2()){let r=yield ej(),{token:i}=yield Z2(J2(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function iX(e,t,n,r){let{app:i}=e,o=bo(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&gm(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),z2(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>z2(e))}function tj(e,t){let n=bo(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function z2(e){let{app:t}=e,n=bo(t),r=n.tokenRefresher;r||(r=oX(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function oX(e){let{app:t}=e;return new ox(()=>D(this,null,function*(){let n=bo(t),r;if(n.token?r=yield cx(e,!0):r=yield cx(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=bo(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},G2.RETRIAL_MIN_WAIT,G2.RETRIAL_MAX_WAIT)}function sX(e,t){let n=bo(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function gm(e){return e.expireTimeMillis-Date.now()>0}function W2(e){return{token:nX(tX),error:e}}var ux=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=bo(this.app);for(let n of t)tj(this.app,n.next);return Promise.resolve()}};function aX(e,t){return new ux(e,t)}function cX(e){return{getToken:t=>cx(e,t),getLimitedUseToken:()=>rX(e),addTokenListener:t=>iX(e,"INTERNAL",t),removeTokenListener:t=>tj(e.app,t)}}var uX="@firebase/app-check",lX="0.8.11";var dX="app-check",q2="app-check-internal";function fX(){pa(new wi(dX,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return aX(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(q2).initialize()})),pa(new wi(q2,e=>{let t=e.getProvider("app-check").getImmediate();return cX(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),tr(uX,lX)}fX();var pX="app-check";var OI=class{constructor(){return MI(pX)}};var hX=["localhost","0.0.0.0","127.0.0.1"],rIe=typeof window<"u"&&hX.includes(window.location.hostname);function mj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vj=mj,_j=new Co("auth","Firebase",mj());var jI=new Bc("@firebase/auth");function gX(e,...t){jI.logLevel<=Ft.WARN&&jI.warn(`Auth (${hp}): ${e}`,...t)}function FI(e,...t){jI.logLevel<=Ft.ERROR&&jI.error(`Auth (${hp}): ${e}`,...t)}function Gc(e,...t){throw Ax(e,...t)}function Rl(e,...t){return Ax(e,...t)}function yj(e,t,n){let r=Object.assign(Object.assign({},vj()),{[t]:n});return new Co("auth","Firebase",r).create(t,{appName:e.name})}function xl(e){return yj(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ax(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return _j.create(e,...t)}function je(e,t,...n){if(!e)throw Ax(t,...n)}function ha(e){let t="INTERNAL ASSERTION FAILED: "+e;throw FI(t),new Error(t)}function zc(e,t){e||ha(t)}function px(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function mX(){return nj()==="http:"||nj()==="https:"}function nj(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function vX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mX()||S2()||"connection"in navigator)?navigator.onLine:!0}function _X(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Ml=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,zc(n>t,"Short delay should be less than long delay!"),this.isMobile=D2()||T2()}get(){return vX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xx(e,t){zc(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var BI=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var EX=new Ml(3e4,6e4);function Rx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vp(o,s,a,c){return D(this,arguments,function*(e,t,n,r,i={}){return Ej(e,i,()=>D(this,null,function*(){let u={},l={};r&&(t==="GET"?l=r:u={body:JSON.stringify(r)});let d=um(Object.assign({key:e.config.apiKey},l)).slice(1),p=yield e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);let f=Object.assign({method:t,headers:p},u);return I2()||(f.referrerPolicy="no-referrer"),BI.fetch()(Dj(e,e.config.apiHost,n,d),f)}))})}function Ej(e,t,n){return D(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},yX),t);try{let i=new hx(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw kI(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kI(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw kI(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw kI(e,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yj(e,l,u);Gc(e,l)}}catch(i){if(i instanceof To)throw i;Gc(e,"network-request-failed",{message:String(i)})}})}function DX(o,s,a,c){return D(this,arguments,function*(e,t,n,r,i={}){let u=yield vp(e,t,n,r,i);return"mfaPendingCredential"in u&&Gc(e,"multi-factor-auth-required",{_serverResponse:u}),u})}function Dj(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?xx(e.config,i):`${e.config.apiScheme}://${i}`}var hx=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rl(this.auth,"network-request-failed")),EX.get())})}};function kI(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Rl(e,t,r);return i.customData._tokenResponse=n,i}function IX(e,t){return D(this,null,function*(){return vp(e,"POST","/v1/accounts:delete",t)})}function Ij(e,t){return D(this,null,function*(){return vp(e,"POST","/v1/accounts:lookup",t)})}function mm(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Mx(e,t=!1){return D(this,null,function*(){let n=jc(e),r=yield n.getIdToken(t),i=Px(r);je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:mm(lx(i.auth_time)),issuedAtTime:mm(lx(i.iat)),expirationTime:mm(lx(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function lx(e){return Number(e)*1e3}function Px(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return FI("JWT malformed, contained fewer than 3 sections"),null;try{let i=TI(n);return i?JSON.parse(i):(FI("Failed to decode base64 JWT payload"),null)}catch(i){return FI("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rj(e){let t=Px(e);return je(t,"internal-error"),je(typeof t.exp<"u","internal-error"),je(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function _m(e,t,n=!1){return D(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof To&&SX(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function SX({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var gx=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ym=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mm(this.lastLoginAt),this.creationTime=mm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function HI(e){return D(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield _m(e,Ij(n,{idToken:r}));je(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Sj(o.providerUserInfo):[],a=TX(e.providerData,s),c=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!a?.length,l=c?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(e,d)})}function Ox(e){return D(this,null,function*(){let t=jc(e);yield HI(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function TX(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Sj(e){return e.map(t=>{var{providerId:n}=t,r=I0(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function CX(e,t){return D(this,null,function*(){let n=yield Ej(e,{},()=>D(this,null,function*(){let r=um({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=Dj(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",BI.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function bX(e,t){return D(this,null,function*(){return vp(e,"POST","/v2/accounts:revokeToken",Rx(e,t))})}var vm=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){je(t.idToken,"internal-error"),je(typeof t.idToken<"u","internal-error"),je(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rj(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){je(t.length!==0,"internal-error");let n=rj(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield CX(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(je(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(je(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return ha("not implemented")}};function $c(e,t){je(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var mp=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=I0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ym(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return D(this,null,function*(){let n=yield _m(this,this.stsTokenManager.getToken(this.auth,t));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return Mx(this,t)}reload(){return Ox(this)}_assign(t){this!==t&&(je(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return D(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield HI(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(us(this.auth.app))return Promise.reject(xl(this.auth));let t=yield this.getIdToken();return yield _m(this,IX(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,h=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:w,emailVerified:R,isAnonymous:U,providerData:X,stsTokenManager:x}=n;je(w&&x,t,"internal-error");let J=vm.fromJSON(this.name,x);je(typeof w=="string",t,"internal-error"),$c(d,t.name),$c(p,t.name),je(typeof R=="boolean",t,"internal-error"),je(typeof U=="boolean",t,"internal-error"),$c(f,t.name),$c(h,t.name),$c(g,t.name),$c(m,t.name),$c(_,t.name),$c(E,t.name);let I=new e({uid:w,auth:t,email:p,emailVerified:R,displayName:d,isAnonymous:U,photoURL:h,phoneNumber:f,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:E});return X&&Array.isArray(X)&&(I.providerData=X.map(j=>Object.assign({},j))),m&&(I._redirectEventId=m),I}static _fromIdTokenResponse(t,n,r=!1){return D(this,null,function*(){let i=new vm;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield HI(o),o})}static _fromGetAccountInfoResponse(t,n,r){return D(this,null,function*(){let i=n.users[0];je(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Sj(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vm;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ym(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var ij=new Map;function ga(e){zc(e instanceof Function,"Expected a class definition");let t=ij.get(e);return t?(zc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ij.set(e,t),t)}var wX=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),mx=wX;function LI(e,t,n){return`firebase:${e}:${t}:${n}`}var YI=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=LI(this.userKey,i.apiKey,o),this.fullPersistenceKey=LI("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return D(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?mp._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return D(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new e(ga(mx),t,r);let i=(yield Promise.all(n.map(u=>D(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||ga(mx),s=LI(r,t.config.apiKey,t.name),a=null;for(let u of n)try{let l=yield u._get(s);if(l){let d=mp._fromJSON(t,l);u!==o&&(a=d),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>D(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new e(o,t,r))})}};function oj(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wj(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tj(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Aj(t))return"Blackberry";if(xj(t))return"Webos";if(Cj(t))return"Safari";if((t.includes("chrome/")||bj(t))&&!t.includes("edge/"))return"Chrome";if(Nj(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function Tj(e=gr()){return/firefox\//i.test(e)}function Cj(e=gr()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bj(e=gr()){return/crios\//i.test(e)}function wj(e=gr()){return/iemobile/i.test(e)}function Nj(e=gr()){return/android/i.test(e)}function Aj(e=gr()){return/blackberry/i.test(e)}function xj(e=gr()){return/webos/i.test(e)}function kx(e=gr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function NX(e=gr()){var t;return kx(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function AX(){return C2()&&document.documentMode===10}function Rj(e=gr()){return kx(e)||Nj(e)||xj(e)||Aj(e)||/windows phone/i.test(e)||wj(e)}function Mj(e,t=[]){let n;switch(e){case"Browser":n=oj(gr());break;case"Worker":n=`${oj(gr())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${hp}/${r}`}var vx=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return D(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function xX(n){return D(this,arguments,function*(e,t={}){return vp(e,"GET","/v2/passwordPolicy",Rx(e,t))})}var RX=6,_x=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:RX,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var yx=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $I(this),this.idTokenSubscription=new $I(this),this.beforeStateQueue=new vx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_j,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ga(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield YI.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return D(this,null,function*(){try{let n=yield Ij(this,{idToken:t}),r=yield mp._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return D(this,null,function*(){var n;if(us(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return D(this,null,function*(){try{yield HI(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=_X()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return D(this,null,function*(){if(us(this.app))return Promise.reject(xl(this));let n=t?jc(t):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return D(this,null,function*(){if(!this._deleted)return t&&je(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return us(this.app)?Promise.reject(xl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return us(this.app)?Promise.reject(xl(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(ga(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let t=yield xX(this),n=new _x(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Co("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield bX(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&ga(t)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=yield YI.create(this,[ga(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return D(this,null,function*(){if(t===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return D(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Mj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var t;if(us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&gX(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Fx(e){return jc(e)}var $I=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=N2(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Lx={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MX(e){Lx=e}function PX(e){return Lx.loadJS(e)}function OX(){return Lx.gapiScript}function Pj(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function Ux(e,t){let n=NI(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(pp(o,t??{}))return i;Gc(i,"already-initialized")}return n.initialize({options:t})}function kX(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ga);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Vx(e,t,n){let r=Fx(e);je(r._canInitEmulator,r,"emulator-config-failed"),je(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=Oj(t),{host:s,port:a}=FX(t),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||LX()}function Oj(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function FX(e){let t=Oj(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:sj(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:sj(s)}}}function sj(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function LX(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var GI=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ha("not implemented")}_getIdTokenResponse(t){return ha("not implemented")}_linkToIdToken(t,n){return ha("not implemented")}_getReauthenticationResolver(t){return ha("not implemented")}};function dx(e,t){return D(this,null,function*(){return DX(e,"POST","/v1/accounts:signInWithIdp",Rx(e,t))})}var zI=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Ex=class extends zI{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Em=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return D(this,null,function*(){let o=yield mp._fromIdTokenResponse(t,r,i),s=aj(r);return new e({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(t,n,r){return D(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=aj(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})})}};function aj(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Dx=class e extends To{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function kj(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dx._fromErrorAndOperation(e,o,t,r):o})}function UX(e,t,n=!1){return D(this,null,function*(){let r=yield _m(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Em._forOperation(e,"link",r)})}function VX(e,t,n=!1){return D(this,null,function*(){let{auth:r}=e;if(us(r.app))return Promise.reject(xl(r));let i="reauthenticate";try{let o=yield _m(e,kj(r,i,t,e),n);je(o.idToken,r,"internal-error");let s=Px(o.idToken);je(s,r,"internal-error");let{sub:a}=s;return je(e.uid===a,r,"user-mismatch"),Em._forOperation(e,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Gc(r,"user-mismatch"),o}})}function jX(e,t,n=!1){return D(this,null,function*(){if(us(e.app))return Promise.reject(xl(e));let r="signIn",i=yield kj(e,r,t),o=yield Em._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})}function jx(e,t,n,r){return jc(e).onIdTokenChanged(t,n,r)}function Bx(e,t,n){return jc(e).beforeAuthStateChanged(t,n)}var WI="__sak";var qI=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(WI,"1"),this.storage.removeItem(WI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var BX=1e3,HX=10,YX=(()=>{class e extends qI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rj(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);AX()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,HX):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},BX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield Kc(e.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield Kc(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield Kc(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),Fj=YX;var $X=(()=>{class e extends qI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})(),Hx=$X;function GX(e){return Promise.all(e.map(t=>D(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var zX=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(l=>D(this,null,function*(){return l(r.origin,s)})),u=yield GX(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function Lj(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var Ix=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=Lj("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ls(){return window}function WX(e){ls().location.href=e}function Uj(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}function qX(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function KX(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function XX(){return Uj()?self:null}var Vj="firebaseLocalStorageDb",ZX=1,KI="firebaseLocalStorage",jj="fbase_key",Pl=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ZI(e,t){return e.transaction([KI],t?"readwrite":"readonly").objectStore(KI)}function JX(){let e=indexedDB.deleteDatabase(Vj);return new Pl(e).toPromise()}function Sx(){let e=indexedDB.open(Vj,ZX);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(KI,{keyPath:jj})}catch(i){n(i)}}),e.addEventListener("success",()=>D(this,null,function*(){let r=e.result;r.objectStoreNames.contains(KI)?t(r):(r.close(),yield JX(),t(yield Sx()))}))})}function cj(e,t,n){return D(this,null,function*(){let r=ZI(e,!0).put({[jj]:t,value:n});return new Pl(r).toPromise()})}function QX(e,t){return D(this,null,function*(){let n=ZI(e,!1).get(t),r=yield new Pl(n).toPromise();return r===void 0?null:r.value})}function uj(e,t){let n=ZI(e,!0).delete(t);return new Pl(n).toPromise()}var eZ=800,tZ=3,nZ=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield Sx(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>tZ)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return Uj()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=zX._getInstance(XX()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield qX(),!this.activeServiceWorker)return;this.sender=new Ix(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||KX()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Sx();return yield cj(n,WI,"1"),yield uj(n,WI),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>cj(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>QX(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>uj(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(o=>{let s=ZI(o,!1).getAll();return new Pl(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),eZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),Bj=nZ;var pIe=Pj("rcb"),hIe=new Ml(3e4,6e4);function rZ(e,t){return t?ga(t):(je(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Dm=class extends GI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return dx(t,this._buildIdpRequest())}_linkToIdToken(t,n){return dx(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return dx(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function iZ(e){return jX(e.auth,new Dm(e),e.bypassAuthState)}function oZ(e){let{auth:t,user:n}=e;return je(n,t,"internal-error"),VX(n,new Dm(e),e.bypassAuthState)}function sZ(e){return D(this,null,function*(){let{auth:t,user:n}=e;return je(n,t,"internal-error"),UX(n,new Dm(e),e.bypassAuthState)})}var Tx=class{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>D(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iZ;case"linkViaPopup":case"linkViaRedirect":return sZ;case"reauthViaPopup":case"reauthViaRedirect":return oZ;default:Gc(this.auth,"internal-error")}}resolve(t){zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var gIe=new Ml(2e3,1e4);var aZ="pendingRedirect",UI=new Map,Cx=class e extends Tx{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let t=UI.get(this.auth._key());if(!t){try{let r=(yield cZ(this.resolver,this.auth))?yield Kc(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}UI.set(this.auth._key(),t)}return this.bypassAuthState||UI.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return D(this,null,function*(){if(t.type==="signInViaRedirect")return Kc(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,Kc(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function cZ(e,t){return D(this,null,function*(){let n=dZ(t),r=lZ(e);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function uZ(e,t){UI.set(e._key(),t)}function lZ(e){return ga(e._redirectPersistence)}function dZ(e){return LI(aZ,e.config.apiKey,e.name)}function fZ(e,t,n=!1){return D(this,null,function*(){if(us(e.app))return Promise.reject(xl(e));let r=Fx(e),i=rZ(r,t),s=yield new Cx(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})}var pZ=10*60*1e3,bx=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hZ(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Hj(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rl(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(lj(t))}saveEventToCache(t){this.cachedEventUids.add(lj(t)),this.lastProcessedEventTime=Date.now()}};function lj(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Hj({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function hZ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hj(e);default:return!1}}function gZ(n){return D(this,arguments,function*(e,t={}){return vp(e,"GET","/v1/projects",t)})}var mZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vZ=/^https?/;function _Z(e){return D(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield gZ(e);for(let n of t)try{if(yZ(n))return}catch{}Gc(e,"unauthorized-domain")})}function yZ(e){let t=px(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!vZ.test(n))return!1;if(mZ.test(e))return r===e;let i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var EZ=new Ml(3e4,6e4);function dj(){let e=ls().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function DZ(e){return new Promise((t,n)=>{var r,i,o;function s(){dj(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dj(),n(Rl(e,"network-request-failed"))},timeout:EZ.get()})}if(!((i=(r=ls().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=ls().gapi)===null||o===void 0)&&o.load)s();else{let a=Pj("iframefcb");return ls()[a]=()=>{gapi.load?s():n(Rl(e,"network-request-failed"))},PX(`${OX()}?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw VI=null,t})}var VI=null;function IZ(e){return VI=VI||DZ(e),VI}var SZ=new Ml(5e3,15e3),TZ="__/auth/iframe",CZ="emulator/auth/iframe",bZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NZ(e){let t=e.config;je(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?xx(t,CZ):`https://${e.config.authDomain}/${TZ}`,r={apiKey:t.apiKey,appName:e.name,v:hp},i=wZ.get(e.config.apiHost);i&&(r.eid=i);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${um(r).slice(1)}`}function AZ(e){return D(this,null,function*(){let t=yield IZ(e),n=ls().gapi;return je(n,e,"internal-error"),t.open({where:document.body,url:NZ(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bZ,dontclear:!0},r=>new Promise((i,o)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Rl(e,"network-request-failed"),a=ls().setTimeout(()=>{o(s)},SZ.get());function c(){ls().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var xZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RZ=500,MZ=600,PZ="_blank",OZ="http://localhost",XI=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function kZ(e,t,n,r=RZ,i=MZ){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},xZ),{width:r.toString(),height:i.toString(),top:o,left:s}),u=gr().toLowerCase();n&&(a=bj(u)?PZ:n),Tj(u)&&(t=t||OZ,c.scrollbars="yes");let l=Object.entries(c).reduce((p,[f,h])=>`${p}${f}=${h},`,"");if(NX(u)&&a!=="_self")return FZ(t||"",a),new XI(null);let d=window.open(t||"",a,l);je(d,e,"popup-blocked");try{d.focus()}catch{}return new XI(d)}function FZ(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var LZ="__/auth/handler",UZ="emulator/auth/handler",VZ=encodeURIComponent("fac");function fj(e,t,n,r,i,o){return D(this,null,function*(){je(e.config.authDomain,e,"auth-domain-config-required"),je(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:hp,eventId:i};if(t instanceof zI){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",w2(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[l,d]of Object.entries(o||{}))s[l]=d}if(t instanceof Ex){let l=t.getScopes().filter(d=>d!=="");l.length>0&&(s.scopes=l.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield e._getAppCheckToken(),u=c?`#${VZ}=${encodeURIComponent(c)}`:"";return`${jZ(e)}?${um(a).slice(1)}${u}`})}function jZ({config:e}){return e.emulator?xx(e,UZ):`https://${e.authDomain}/${LZ}`}var fx="webStorageSupport",wx=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hx,this._completeRedirectFn=fZ,this._overrideRedirectResult=uZ}_openPopup(t,n,r,i){return D(this,null,function*(){var o;zc((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield fj(t,n,r,px(),i);return kZ(t,s,Lj())})}_openRedirect(t,n,r,i){return D(this,null,function*(){yield this._originValidation(t);let o=yield fj(t,n,r,px(),i);return WX(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(zc(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){return D(this,null,function*(){let n=yield AZ(t),r=new bx(t);return n.register("authEvent",i=>(je(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(fx,{type:fx},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[fx];s!==void 0&&n(!!s),Gc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_Z(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rj()||Cj()||kx()}},Yj=wx;var pj="@firebase/auth",hj="1.9.0";var Nx=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function BZ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HZ(e){pa(new wi("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;je(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mj(e)},u=new yx(r,i,o,c);return kX(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),pa(new wi("auth-internal",t=>{let n=Fx(t.getProvider("auth").getImmediate());return(r=>new Nx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(pj,hj,BZ(e)),tr(pj,hj,"esm2017")}var YZ=5*60,$Z=jA("authIdTokenMaxAge")||YZ,gj=null,GZ=e=>t=>D(void 0,null,function*(){let n=t&&(yield t.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$Z)return;let i=n?.token;gj!==i&&(gj=i,yield fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function JI(e=fm()){let t=NI(e,"auth");if(t.isInitialized())return t.getImmediate();let n=Ux(e,{popupRedirectResolver:Yj,persistence:[Bj,Fj,Hx]}),r=jA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=GZ(o.toString());Bx(n,s,()=>s(n.currentUser)),jx(n,a=>s(a))}}let i=E2("auth");return i&&Vx(n,`http://${i}`),n}function zZ(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}MX({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=Rl("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",zZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HZ("Browser");var $j="auth",Im=class{constructor(t){return t}},Yx=class{constructor(){return MI($j)}};var $x=new de("angularfire2.auth-instances");function VJ(e,t){let n=nx($j,e,t);return n&&new Im(n)}function jJ(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Im(r)}}var BJ={provide:Yx,deps:[[new Oo,$x]]},HJ={provide:Im,useFactory:VJ,deps:[[new Oo,$x],Al]};function Gj(e,...t){return tr("angularfire",gp.full,"auth"),ko([HJ,BJ,{provide:$x,useFactory:jJ(e),multi:!0,deps:[Rt,Gn,pm,hm,[new Oo,OI],...t]}])}var QI=class e{constructor(t,n){this.authService=t;this.router=n;this.authService.user$.subscribe(r=>{this.currentUser=r})}currentUser=null;intercept(t,n){return this.authService.getAuthToken()&&this.currentUser,n.handle(t).pipe(Lt(i=>(i.status===401&&(this.authService.logout(),this.router.navigate(["/login"])),wo(()=>i))))}static \u0275fac=function(n){return new(n||e)(se(It),se(zt))};static \u0275prov=re({token:e,factory:e.\u0275fac})};var Gx=class{constructor(t){this.appInsightsService=t}handleError(t){this.appInsightsService.logException(t),console.error("Error from global error handler",t)}},YJ=e=>{let t=new as(e);return t.init(),t},zj={providers:[zO({eventCoalescing:!0}),Lk(m2),$2(()=>AI(Fi.firebase)),Gj(()=>JI()),rC(),{provide:tC,useClass:QI,multi:!0},{provide:as,useFactory:YJ,deps:[zt]},{provide:to,useClass:Gx,deps:[as]}]};"serviceWorker"in navigator&&z1(tI,zj).catch(e=>console.error(e));
